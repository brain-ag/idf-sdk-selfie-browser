/*! For license information please see brscan-sdk-selfie.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BrScanSDKSelfie=t():e.BrScanSDKSelfie=t()}(self,(()=>(()=>{var e={798:(e,t,n)=>{var r,a=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return D.buffer!=z&&G(D.buffer),U}function a(){return D.buffer!=z&&G(D.buffer),V}function s(){return D.buffer!=z&&G(D.buffer),j}function o(){return D.buffer!=z&&G(D.buffer),H}var i,u,l,d=void 0!==(e=e||{})?e:{};d.ready=new Promise((function(e,t){i=e,u=t})),"undefined"!=typeof process&&process.listeners&&(l={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var c,p,h,m,f,g,y=Object.assign({},d),b=[],w=(e,t)=>{throw t},x="object"==typeof window,v="function"==typeof importScripts,k="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,A=d.ENVIRONMENT_IS_PTHREAD||!1,E="";function I(e){return d.locateFile?d.locateFile(e,E):E+e}if(k){let e;E=v?n(281).dirname(E)+"/":"//",g=()=>{f||(m=n(893),f=n(281))},c=function(e,t){return g(),e=f.normalize(e),m.readFileSync(e,t?void 0:"utf8")},h=e=>{var t=c(e,!0);return t.buffer||(t=new Uint8Array(t)),t},p=(e,t,n)=>{g(),e=f.normalize(e),m.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),b=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof at))throw e})),process.on("unhandledRejection",(function(e){throw e})),w=(e,t)=>{if(ne())throw process.exitCode=e,t;var n;(n=t)instanceof at||C("exiting due to exception: "+n),process.exit(e)},d.inspect=function(){return"[Emscripten Module object]"};try{e=n(556)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=e.Worker}else(x||v)&&(v?E=self.location.href:"undefined"!=typeof document&&document.currentScript&&(E=document.currentScript.src),void 0!==r&&r&&(E=r),E=0!==E.indexOf("blob:")?E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):"",k||(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},v&&(h=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));k&&"undefined"==typeof performance&&(n.g.performance=n(244).performance);var N=console.log.bind(console),S=console.warn.bind(console);k&&(g(),N=e=>m.writeSync(1,e+"\n"),S=e=>m.writeSync(2,e+"\n"));var T,_=d.print||N,C=d.printErr||S;function M(e){M.shown||(M.shown={}),M.shown[e]||(M.shown[e]=1,C(e))}Object.assign(d,y),y=null,d.arguments&&(b=d.arguments),d.thisProgram&&d.thisProgram,d.quit&&(w=d.quit),Atomics.load,Atomics.store,Atomics.compareExchange,d.wasmBinary&&(T=d.wasmBinary);var D,F,O=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var B,R=!1;function L(e){return d["_"+e]}function P(e){var t=new TextDecoder(e);this.decode=e=>(e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e))}var z,U,V,j,H,W="undefined"!=typeof TextDecoder?new P("utf8"):void 0;function q(e,t,n){for(var r=t+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.subarray&&W)return W.decode(e.subarray(t,a));for(var s="";t<a;){var o=e[t++];if(128&o){var i=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|i<<6|u:(7&o)<<18|i<<12|u<<6|63&e[t++])<65536)s+=String.fromCharCode(o);else{var l=o-65536;s+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else s+=String.fromCharCode((31&o)<<6|i)}else s+=String.fromCharCode(o)}return s}function $(e,t){return e?q(a(),e,t):""}function K(e,t,n){return function(e,t,n,r){if(!(r>0))return 0;for(var a=n,s=n+r-1,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),i<=127){if(n>=s)break;t[n++]=i}else if(i<=2047){if(n+1>=s)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=s)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=s)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}return t[n]=0,n-a}(e,a(),t,n)}function G(e){z=e,d.HEAP8=U=new Int8Array(e),d.HEAP16=new Int16Array(e),d.HEAP32=j=new Int32Array(e),d.HEAPU8=V=new Uint8Array(e),d.HEAPU16=new Uint16Array(e),d.HEAPU32=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=H=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new P("utf-16le"),A&&(z=d.buffer);var Q,Y=d.INITIAL_MEMORY||16777216;if(A)D=d.wasmMemory,z=d.buffer;else if(d.wasmMemory)D=d.wasmMemory;else if(!((D=new WebAssembly.Memory({initial:Y/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw C("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),k&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");D&&(z=D.buffer),Y=z.byteLength,G(z);var J=[],Z=[],X=[],ee=[],te=0;function ne(){return O||te>0}function re(){A||he(Z)}var ae=0,se=null,oe=null;function ie(e){A?postMessage({cmd:"onAbort",arg:e}):d.onAbort&&d.onAbort(e),C(e="Aborted("+e+")"),R=!0,B=1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw u(t),t}d.preloadedImages={},d.preloadedAudios={};var ue;function le(e){return e.startsWith("data:application/octet-stream;base64,")}function de(e){return e.startsWith("file://")}function ce(e){try{if(e==ue&&T)return new Uint8Array(T);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}le(ue="tfjs-backend-wasm-threaded-simd.wasm")||(ue=I(ue));var pe={};function he(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?ve(n)():ve(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(d)}}function me(e){var t=et(),n=e();return tt(t),n}function fe(e){var t=ye.pthreads[e];if(t){s()[e>>2]=0;var n=t.worker;ye.returnWorkerToPool(n)}}function ge(e){!function(e){if(B=e,A)throw be(e),"unwind";var t;ne()||A||ye.terminateAllThreads(),B=t=e,ne()||(ye.terminateAllThreads(),d.onExit&&d.onExit(t),R=!0),w(t,new at(t))}(e)}var ye={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],init:function(){A?ye.initWorker():ye.initMainThread()},initMainThread:function(){for(var e=0;e<8;++e)ye.allocateUnusedWorker()},initWorker:function(){O=!1},pthreads:{},setExitStatus:function(e){B=e},terminateAllThreads:function(){for(var e in ye.pthreads){var t=ye.pthreads[e];t&&t.worker&&ye.returnWorkerToPool(t.worker)}for(var n=0;n<ye.unusedWorkers.length;++n)ye.unusedWorkers[n].terminate();ye.unusedWorkers=[]},returnWorkerToPool:function(e){ye.runWithoutMainThreadQueuedCalls((function(){delete ye.pthreads[e.pthread.threadInfoStruct],ye.unusedWorkers.push(e),ye.runningWorkers.splice(ye.runningWorkers.indexOf(e),1),Ze(e.pthread.threadInfoStruct),e.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(e){s()[rt>>2]=0;try{e()}finally{s()[rt>>2]=1}},receiveObjectTransfer:function(e){},threadInit:function(){for(var e in ye.tlsInitFunctions)ye.tlsInitFunctions[e]()},loadWasmModuleToWorker:function(e,t){e.onmessage=n=>{var r,a=n.data,o=a.cmd;if(e.pthread&&(ye.currentProxiedOperationCallerThread=e.pthread.threadInfoStruct),a.targetThread&&a.targetThread!=$e()){var i=ye.pthreads[a.targetThread];return i?i.worker.postMessage(a,a.transferList):C('Internal error! Worker sent a message "'+o+'" to target pthread '+a.targetThread+", but that thread no longer exists!"),void(ye.currentProxiedOperationCallerThread=void 0)}"processQueuedMainThreadWork"===o?Ke():"spawnThread"===o?ke(a):"cleanupThread"===o?fe(a.thread):"killThread"===o?function(e){s()[e>>2]=0;var t=ye.pthreads[e];delete ye.pthreads[e],t.worker.terminate(),Ze(e),ye.runningWorkers.splice(ye.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}(a.thread):"cancelThread"===o?(r=a.thread,ye.pthreads[r].worker.postMessage({cmd:"cancel"})):"loaded"===o?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):"print"===o?_("Thread "+a.threadId+": "+a.text):"printErr"===o?C("Thread "+a.threadId+": "+a.text):"alert"===o?alert("Thread "+a.threadId+": "+a.text):"setimmediate"===a.target?e.postMessage(a):"onAbort"===o?d.onAbort&&d.onAbort(a.arg):C("worker sent an unknown command "+o),ye.currentProxiedOperationCallerThread=void 0},e.onerror=e=>{throw C("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},k&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:d.mainScriptUrlOrBlob||r,wasmMemory:D,wasmModule:F})},allocateUnusedWorker:function(){var e=I("tfjs-backend-wasm-threaded-simd.worker.js");ye.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==ye.unusedWorkers.length&&(ye.allocateUnusedWorker(),ye.loadWasmModuleToWorker(ye.unusedWorkers[0])),ye.unusedWorkers.pop()}};function be(e){if(A)return Ae(1,0,e);try{ge(e)}catch(e){!function(e){if(e instanceof at||"unwind"==e)return B;w(1,e)}(e)}}d.establishStackSpace=function(){var e=$e(),t=s()[e+44>>2],n=s()[e+48>>2];Xe(t,t-n),tt(t)};var we,xe=[];function ve(e){var t=xe[e];return t||(e>=xe.length&&(xe.length=e+1),xe[e]=t=Q.get(e)),t}d.invokeEntryPoint=function(e,t){return ve(e)(t)},we=k?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:A?()=>performance.now()-d.__performance_now_clock_drift:()=>performance.now();function ke(e){var t=ye.getNewWorker();if(!t)return 6;ye.runningWorkers.push(t);var n=ye.pthreads[e.pthread_ptr]={worker:t,threadInfoStruct:e.pthread_ptr};t.pthread=n;var r={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr};return t.runPthread=()=>{r.time=performance.now(),t.postMessage(r,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}function Ae(e,t){var n=arguments.length-2,r=arguments;return me((function(){for(var a=n,s=nt(8*a),i=s>>3,u=0;u<n;u++){var l=r[2+u];o()[i+u]=l}return Ye(e,a,s,t)}))}var Ee=[];function Ie(e){try{return D.grow(e-z.byteLength+65535>>>16),G(D.buffer),1}catch(e){}}var Ne={inEventHandler:0,removeAllEventListeners:function(){for(var e=Ne.eventHandlers.length-1;e>=0;--e)Ne._removeHandler(e);Ne.eventHandlers=[],Ne.deferredCalls=[]},registerRemoveEventListeners:function(){Ne.removeEventListenersRegistered||(X.push(Ne.removeAllEventListeners),Ne.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,n){function r(e,t){if(e.length!=t.length)return!1;for(var n in e)if(e[n]!=t[n])return!1;return!0}for(var a in Ne.deferredCalls){var s=Ne.deferredCalls[a];if(s.targetFunction==e&&r(s.argsList,n))return}Ne.deferredCalls.push({targetFunction:e,precedence:t,argsList:n}),Ne.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<Ne.deferredCalls.length;++t)Ne.deferredCalls[t].targetFunction==e&&(Ne.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return Ne.inEventHandler&&Ne.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Ne.canPerformEventHandlerRequests())for(var e=0;e<Ne.deferredCalls.length;++e){var t=Ne.deferredCalls[e];Ne.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var n=0;n<Ne.eventHandlers.length;++n)Ne.eventHandlers[n].target!=e||t&&t!=Ne.eventHandlers[n].eventTypeString||Ne._removeHandler(n--)},_removeHandler:function(e){var t=Ne.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),Ne.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++Ne.inEventHandler,Ne.currentEventHandler=e,Ne.runDeferredCalls(),e.handlerFunc(t),Ne.runDeferredCalls(),--Ne.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),Ne.eventHandlers.push(e),Ne.registerRemoveEventListeners();else for(var n=0;n<Ne.eventHandlers.length;++n)Ne.eventHandlers[n].target==e.target&&Ne.eventHandlers[n].eventTypeString==e.eventTypeString&&Ne._removeHandler(n--)},queueEventHandlerOnThread_iiii:function(e,t,n,r,a){me((function(){var o=nt(12);s()[o>>2]=n,s()[o+4>>2]=r,s()[o+8>>2]=a,Je(e,637534208,t,r,o)}))},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return ye.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var Se=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Te(e){return function(e){var t;return e=(t=e)>2?$(t):t,Se[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}(e)}function _e(e,t,n){var r=Te(e);if(!r)return-4;if(r.canvasSharedPtr&&(s()[r.canvasSharedPtr>>2]=t,s()[r.canvasSharedPtr+4>>2]=n),!r.offscreenCanvas&&r.controlTransferredOffscreen)return r.canvasSharedPtr?(function(e,t,n,r){!function(e,t,n,r){me((function(){var a,o,i,u=nt(12),l=0;t&&(o=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}(a=t)+1,K(a,i=He(o),o),l=i),s()[u>>2]=l,s()[u+4>>2]=n,s()[u+8>>2]=r,Je(e,657457152,0,l,u)}))}(e,t=t?$(t):"",n,r)}(s()[r.canvasSharedPtr+8>>2],e,t,n),1):-4;r.offscreenCanvas&&(r=r.offscreenCanvas);var a=!1;if(r.GLctxObject&&r.GLctxObject.GLctx){var o=r.GLctxObject.GLctx.getParameter(2978);a=0===o[0]&&0===o[1]&&o[2]===r.width&&o[3]===r.height}return r.width=t,r.height=n,a&&r.GLctxObject.GLctx.viewport(0,0,t,n),0}function Ce(e,t,n){return A?Ae(2,1,e,t,n):_e(e,t,n)}var Me,De={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(e){De.lastError||(De.lastError=e)},getNewId:function(e){for(var t=De.counter++,n=e.length;n<t;n++)e[n]=null;return t},getSource:function(e,t,n,r){for(var a="",o=0;o<t;++o){var i=r?s()[r+4*o>>2]:-1;a+=$(s()[n+4*o>>2],i<0?void 0:i)}return a},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,n){var r=e.getContextSafariWebGL2Fixed(t,n);return"webgl"==t==r instanceof WebGLRenderingContext?r:null});var n=e.getContext("webgl",t);return n?De.registerContext(n,t):0},registerContext:function(e,t){var n=He(8);s()[n+4>>2]=$e();var r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),De.contexts[n]=r,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&De.initExtensions(r),n},makeContextCurrent:function(e){return De.currentContext=De.contexts[e],d.ctx=Me=De.currentContext&&De.currentContext.GLctx,!(e&&!Me)},getContext:function(e){return De.contexts[e]},deleteContext:function(e){De.currentContext===De.contexts[e]&&(De.currentContext=null),"object"==typeof Ne&&Ne.removeAllHandlersOnTarget(De.contexts[e].GLctx.canvas),De.contexts[e]&&De.contexts[e].GLctx.canvas&&(De.contexts[e].GLctx.canvas.GLctxObject=void 0),We(De.contexts[e].handle),De.contexts[e]=null},initExtensions:function(e){if(e||(e=De.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t,n=e.GLctx;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,a){t.drawArraysInstancedANGLE(e,n,r,a)},e.drawElementsInstanced=function(e,n,r,a,s){t.drawElementsInstancedANGLE(e,n,r,a,s)})}(n),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(n),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)})}(n),n.disjointTimerQueryExt=n.getExtension("EXT_disjoint_timer_query"),(t=n).multiDrawWebgl=t.getExtension("WEBGL_multi_draw"),(n.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||n.getExtension(e)}))}}},Fe=["default","low-power","high-performance"],Oe={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Oe.buffers[e];0===t||10===t?((1===e?_:C)(q(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Oe.varargs+=4,s()[Oe.varargs-4>>2]},getStr:function(e){return $(e)},get64:function(e,t){return e}};function Be(e){return A?Ae(3,1,e):0}function Re(e,t,n,r,a){if(A)return Ae(4,1,e,t,n,r,a)}function Le(e,t,n,r){if(A)return Ae(5,1,e,t,n,r);for(var o=0,i=0;i<n;i++){var u=s()[t>>2],l=s()[t+4>>2];t+=8;for(var d=0;d<l;d++)Oe.printChar(e,a()[u+d]);o+=l}return s()[r>>2]=o,0}ye.init();var Pe,ze,Ue,Ve=[null,be,Ce,Be,Re,Le],je={__clock_gettime:function(e,t){return function(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return s()[qe()>>2]=28,-1;n=we()}return s()[t>>2]=n/1e3|0,s()[t+4>>2]=n%1e3*1e3*1e3|0,0}(e,t)},__emscripten_init_main_thread_js:function(e){Ge(e,!v,1,!x),ye.threadInit()},__emscripten_thread_cleanup:function(e){A?postMessage({cmd:"cleanupThread",thread:e}):fe(e)},__pthread_create_js:function(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return C("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];if(A&&0===a.length)return Qe(687865856,e,t,n,r);var s={startRoutine:n,pthread_ptr:e,arg:r,transferList:a};return A?(s.cmd="spawnThread",postMessage(s,a),0):ke(s)},_emscripten_default_pthread_stack_size:function(){return 2097152},_emscripten_notify_thread_queue:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(A)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var n=ye.pthreads[e],r=n&&n.worker;if(!r)return;r.postMessage({cmd:"processThreadQueue"})}return 1},abort:function(){ie("")},emscripten_check_blocking_allowed:function(){k||v||M("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_get_heap_max:function(){return 2147483648},emscripten_get_now:we,emscripten_memcpy_big:function(e,t,n){a().copyWithin(e,t,t+n)},emscripten_num_logical_cores:function(){return k?n(74).cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,n){Ee.length=t;for(var r=n>>3,a=0;a<t;a++)Ee[a]=o()[r+a];return(e<0?pe[-e-1]:Ve[e]).apply(null,Ee)},emscripten_resize_heap:function(e){var t=a().length;if((e>>>=0)<=t)return!1;var n,r=2147483648;if(e>r)return!1;for(var s=1;s<=4;s*=2){var o=t*(1+.2/s);if(o=Math.min(o,e+100663296),Ie(Math.min(r,((n=Math.max(e,o))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1},emscripten_set_canvas_element_size:function(e,t,n){return Te(e)?_e(e,t,n):Ce(e,t,n)},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},emscripten_webgl_create_context:function(e,t){return n=e,r=t>>2,a=s()[r+6],o={alpha:!!s()[r+0],depth:!!s()[r+1],stencil:!!s()[r+2],antialias:!!s()[r+3],premultipliedAlpha:!!s()[r+4],preserveDrawingBuffer:!!s()[r+5],powerPreference:Fe[a],failIfMajorPerformanceCaveat:!!s()[r+7],majorVersion:s()[r+8],minorVersion:s()[r+9],enableExtensionsByDefault:s()[r+10],explicitSwapControl:s()[r+11],proxyContextToMainThread:s()[r+12],renderViaOffscreenBackBuffer:s()[r+13]},(i=Te(n))?o.explicitSwapControl?0:De.createContext(i,o):0;var n,r,a,o,i},exit:ge,fd_close:Be,fd_seek:Re,fd_write:Le,memory:D||d.wasmMemory,setTempRet0:function(e){}},He=(function(){var e={env:je,wasi_snapshot_preview1:je};function t(e,t){var n,r,a=e.exports;if(d.asm=a,n=d.asm.emscripten_tls_init,ye.tlsInitFunctions.push(n),Q=d.asm.__indirect_function_table,r=d.asm.__wasm_call_ctors,Z.unshift(r),F=t,!A){var s=ye.unusedWorkers.length;ye.unusedWorkers.forEach((function(e){ye.loadWasmModuleToWorker(e,(function(){--s||function(){if(ae--,d.monitorRunDependencies&&d.monitorRunDependencies(ae),0==ae&&(null!==se&&(clearInterval(se),se=null),oe)){var e=oe;oe=null,e()}}()}))}))}}function n(e){t(e.instance,e.module)}function r(t){return function(){if(!T&&(x||v)){if("function"==typeof fetch&&!de(ue))return fetch(ue,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ue+"'";return e.arrayBuffer()})).catch((function(){return ce(ue)}));if(p)return new Promise((function(e,t){p(ue,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ce(ue)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){C("failed to asynchronously prepare wasm: "+e),ie(e)}))}if(A||(ae++,d.monitorRunDependencies&&d.monitorRunDependencies(ae)),d.instantiateWasm)try{return d.instantiateWasm(e,t)}catch(e){return C("Module.instantiateWasm callback failed with error: "+e),!1}(T||"function"!=typeof WebAssembly.instantiateStreaming||le(ue)||de(ue)||"function"!=typeof fetch?r(n):fetch(ue,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(u)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.__wasm_call_ctors).apply(null,arguments)},d._init=function(){return(d._init=d.asm.init).apply(null,arguments)},d._init_with_threads_count=function(){return(d._init_with_threads_count=d.asm.init_with_threads_count).apply(null,arguments)},d._get_threads_count=function(){return(d._get_threads_count=d.asm.get_threads_count).apply(null,arguments)},d._register_tensor=function(){return(d._register_tensor=d.asm.register_tensor).apply(null,arguments)},d._dispose_data=function(){return(d._dispose_data=d.asm.dispose_data).apply(null,arguments)},d._dispose=function(){return(d._dispose=d.asm.dispose).apply(null,arguments)},d._Abs=function(){return(d._Abs=d.asm.Abs).apply(null,arguments)},d._Add=function(){return(d._Add=d.asm.Add).apply(null,arguments)},d._AddN=function(){return(d._AddN=d.asm.AddN).apply(null,arguments)},d._All=function(){return(d._All=d.asm.All).apply(null,arguments)},d._Any=function(){return(d._Any=d.asm.Any).apply(null,arguments)},d._ArgMax=function(){return(d._ArgMax=d.asm.ArgMax).apply(null,arguments)},d._AvgPool=function(){return(d._AvgPool=d.asm.AvgPool).apply(null,arguments)},d._BatchMatMul=function(){return(d._BatchMatMul=d.asm.BatchMatMul).apply(null,arguments)},d._Ceil=function(){return(d._Ceil=d.asm.Ceil).apply(null,arguments)},d._ClipByValue=function(){return(d._ClipByValue=d.asm.ClipByValue).apply(null,arguments)},d._Conv2D=function(){return(d._Conv2D=d.asm.Conv2D).apply(null,arguments)},d._Conv2DBackpropInput=function(){return(d._Conv2DBackpropInput=d.asm.Conv2DBackpropInput).apply(null,arguments)},d._Cos=function(){return(d._Cos=d.asm.Cos).apply(null,arguments)},d._Cosh=function(){return(d._Cosh=d.asm.Cosh).apply(null,arguments)},d._CropAndResize=function(){return(d._CropAndResize=d.asm.CropAndResize).apply(null,arguments)},d._Cumprod=function(){return(d._Cumprod=d.asm.Cumprod).apply(null,arguments)},d._Cumsum=function(){return(d._Cumsum=d.asm.Cumsum).apply(null,arguments)},d._DepthToSpace=function(){return(d._DepthToSpace=d.asm.DepthToSpace).apply(null,arguments)},d._DepthwiseConv2dNative=function(){return(d._DepthwiseConv2dNative=d.asm.DepthwiseConv2dNative).apply(null,arguments)},d._Elu=function(){return(d._Elu=d.asm.Elu).apply(null,arguments)},d._Equal=function(){return(d._Equal=d.asm.Equal).apply(null,arguments)},d._Exp=function(){return(d._Exp=d.asm.Exp).apply(null,arguments)},d._FlipLeftRight=function(){return(d._FlipLeftRight=d.asm.FlipLeftRight).apply(null,arguments)},d._Floor=function(){return(d._Floor=d.asm.Floor).apply(null,arguments)},d._FloorDiv=function(){return(d._FloorDiv=d.asm.FloorDiv).apply(null,arguments)},d._FusedBatchNorm=function(){return(d._FusedBatchNorm=d.asm.FusedBatchNorm).apply(null,arguments)},d._FusedConv2D=function(){return(d._FusedConv2D=d.asm.FusedConv2D).apply(null,arguments)},d._FusedDepthwiseConv2D=function(){return(d._FusedDepthwiseConv2D=d.asm.FusedDepthwiseConv2D).apply(null,arguments)},d._Gather=function(){return(d._Gather=d.asm.Gather).apply(null,arguments)},d._GatherNd=function(){return(d._GatherNd=d.asm.GatherNd).apply(null,arguments)},d._Greater=function(){return(d._Greater=d.asm.Greater).apply(null,arguments)},d._GreaterEqual=function(){return(d._GreaterEqual=d.asm.GreaterEqual).apply(null,arguments)},d._LeakyRelu=function(){return(d._LeakyRelu=d.asm.LeakyRelu).apply(null,arguments)},d._Less=function(){return(d._Less=d.asm.Less).apply(null,arguments)},d._LessEqual=function(){return(d._LessEqual=d.asm.LessEqual).apply(null,arguments)},d._Log=function(){return(d._Log=d.asm.Log).apply(null,arguments)},d._LogicalAnd=function(){return(d._LogicalAnd=d.asm.LogicalAnd).apply(null,arguments)},d._LogicalNot=function(){return(d._LogicalNot=d.asm.LogicalNot).apply(null,arguments)},d._LogicalOr=function(){return(d._LogicalOr=d.asm.LogicalOr).apply(null,arguments)},d._LogicalXor=function(){return(d._LogicalXor=d.asm.LogicalXor).apply(null,arguments)},d._Max=function(){return(d._Max=d.asm.Max).apply(null,arguments)},d._MaxPool=function(){return(d._MaxPool=d.asm.MaxPool).apply(null,arguments)},d._Maximum=function(){return(d._Maximum=d.asm.Maximum).apply(null,arguments)},d._Mean=function(){return(d._Mean=d.asm.Mean).apply(null,arguments)},d._Min=function(){return(d._Min=d.asm.Min).apply(null,arguments)},d._Minimum=function(){return(d._Minimum=d.asm.Minimum).apply(null,arguments)},d._MirrorPad=function(){return(d._MirrorPad=d.asm.MirrorPad).apply(null,arguments)},d._Multiply=function(){return(d._Multiply=d.asm.Multiply).apply(null,arguments)},d._Neg=function(){return(d._Neg=d.asm.Neg).apply(null,arguments)},d._NonMaxSuppressionV3=function(){return(d._NonMaxSuppressionV3=d.asm.NonMaxSuppressionV3).apply(null,arguments)},d._NonMaxSuppressionV4=function(){return(d._NonMaxSuppressionV4=d.asm.NonMaxSuppressionV4).apply(null,arguments)},d._NonMaxSuppressionV5=function(){return(d._NonMaxSuppressionV5=d.asm.NonMaxSuppressionV5).apply(null,arguments)},d._NotEqual=function(){return(d._NotEqual=d.asm.NotEqual).apply(null,arguments)},d._OneHot=function(){return(d._OneHot=d.asm.OneHot).apply(null,arguments)},d._PadV2=function(){return(d._PadV2=d.asm.PadV2).apply(null,arguments)},d._Pow=function(){return(d._Pow=d.asm.Pow).apply(null,arguments)},d._Prelu=function(){return(d._Prelu=d.asm.Prelu).apply(null,arguments)},d._Prod=function(){return(d._Prod=d.asm.Prod).apply(null,arguments)},d._RealDiv=function(){return(d._RealDiv=d.asm.RealDiv).apply(null,arguments)},d._Relu=function(){return(d._Relu=d.asm.Relu).apply(null,arguments)},d._Relu6=function(){return(d._Relu6=d.asm.Relu6).apply(null,arguments)},d._ResizeBilinear=function(){return(d._ResizeBilinear=d.asm.ResizeBilinear).apply(null,arguments)},d._ResizeNearestNeighbor=function(){return(d._ResizeNearestNeighbor=d.asm.ResizeNearestNeighbor).apply(null,arguments)},d._Reverse=function(){return(d._Reverse=d.asm.Reverse).apply(null,arguments)},d._RotateWithOffset=function(){return(d._RotateWithOffset=d.asm.RotateWithOffset).apply(null,arguments)},d._Round=function(){return(d._Round=d.asm.Round).apply(null,arguments)},d._Rsqrt=function(){return(d._Rsqrt=d.asm.Rsqrt).apply(null,arguments)},d._ScatterNd=function(){return(d._ScatterNd=d.asm.ScatterNd).apply(null,arguments)},d._SelectV2=function(){return(d._SelectV2=d.asm.SelectV2).apply(null,arguments)},d._Sigmoid=function(){return(d._Sigmoid=d.asm.Sigmoid).apply(null,arguments)},d._Sin=function(){return(d._Sin=d.asm.Sin).apply(null,arguments)},d._Softmax=function(){return(d._Softmax=d.asm.Softmax).apply(null,arguments)},d._SparseFillEmptyRows=function(){return(d._SparseFillEmptyRows=d.asm.SparseFillEmptyRows).apply(null,arguments)},d._SparseReshape=function(){return(d._SparseReshape=d.asm.SparseReshape).apply(null,arguments)},d._SparseSegmentReduction=function(){return(d._SparseSegmentReduction=d.asm.SparseSegmentReduction).apply(null,arguments)},d._Sqrt=function(){return(d._Sqrt=d.asm.Sqrt).apply(null,arguments)},d._Square=function(){return(d._Square=d.asm.Square).apply(null,arguments)},d._SquaredDifference=function(){return(d._SquaredDifference=d.asm.SquaredDifference).apply(null,arguments)},d._Step=function(){return(d._Step=d.asm.Step).apply(null,arguments)},d._StridedSlice=function(){return(d._StridedSlice=d.asm.StridedSlice).apply(null,arguments)},d._Sub=function(){return(d._Sub=d.asm.Sub).apply(null,arguments)},d._Sum=function(){return(d._Sum=d.asm.Sum).apply(null,arguments)},d._Tan=function(){return(d._Tan=d.asm.Tan).apply(null,arguments)},d._Tanh=function(){return(d._Tanh=d.asm.Tanh).apply(null,arguments)},d._Tile=function(){return(d._Tile=d.asm.Tile).apply(null,arguments)},d._TopK=function(){return(d._TopK=d.asm.TopK).apply(null,arguments)},d._Transform=function(){return(d._Transform=d.asm.Transform).apply(null,arguments)},d._Transpose=function(){return(d._Transpose=d.asm.Transpose).apply(null,arguments)},d.__FusedMatMul=function(){return(d.__FusedMatMul=d.asm._FusedMatMul).apply(null,arguments)},d._malloc=function(){return(He=d._malloc=d.asm.malloc).apply(null,arguments)}),We=d._free=function(){return(We=d._free=d.asm.free).apply(null,arguments)},qe=(d._emscripten_tls_init=function(){return(d._emscripten_tls_init=d.asm.emscripten_tls_init).apply(null,arguments)},d.___errno_location=function(){return(qe=d.___errno_location=d.asm.__errno_location).apply(null,arguments)}),$e=d._pthread_self=function(){return($e=d._pthread_self=d.asm.pthread_self).apply(null,arguments)},Ke=d._emscripten_main_thread_process_queued_calls=function(){return(Ke=d._emscripten_main_thread_process_queued_calls=d.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},Ge=(d.__emscripten_thread_crashed=function(){return(d.__emscripten_thread_crashed=d.asm._emscripten_thread_crashed).apply(null,arguments)},d.__emscripten_thread_init=function(){return(Ge=d.__emscripten_thread_init=d.asm._emscripten_thread_init).apply(null,arguments)}),Qe=(d._emscripten_current_thread_process_queued_calls=function(){return(d._emscripten_current_thread_process_queued_calls=d.asm.emscripten_current_thread_process_queued_calls).apply(null,arguments)},d._emscripten_main_browser_thread_id=function(){return(d._emscripten_main_browser_thread_id=d.asm.emscripten_main_browser_thread_id).apply(null,arguments)},d._emscripten_sync_run_in_main_thread_2=function(){return(d._emscripten_sync_run_in_main_thread_2=d.asm.emscripten_sync_run_in_main_thread_2).apply(null,arguments)},d._emscripten_sync_run_in_main_thread_4=function(){return(Qe=d._emscripten_sync_run_in_main_thread_4=d.asm.emscripten_sync_run_in_main_thread_4).apply(null,arguments)}),Ye=d._emscripten_run_in_main_runtime_thread_js=function(){return(Ye=d._emscripten_run_in_main_runtime_thread_js=d.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)},Je=d._emscripten_dispatch_to_thread_=function(){return(Je=d._emscripten_dispatch_to_thread_=d.asm.emscripten_dispatch_to_thread_).apply(null,arguments)},Ze=d.__emscripten_thread_free_data=function(){return(Ze=d.__emscripten_thread_free_data=d.asm._emscripten_thread_free_data).apply(null,arguments)},Xe=(d.__emscripten_thread_exit=function(){return(d.__emscripten_thread_exit=d.asm._emscripten_thread_exit).apply(null,arguments)},d._memalign=function(){return(d._memalign=d.asm.memalign).apply(null,arguments)},d._emscripten_stack_set_limits=function(){return(Xe=d._emscripten_stack_set_limits=d.asm.emscripten_stack_set_limits).apply(null,arguments)}),et=d.stackSave=function(){return(et=d.stackSave=d.asm.stackSave).apply(null,arguments)},tt=d.stackRestore=function(){return(tt=d.stackRestore=d.asm.stackRestore).apply(null,arguments)},nt=d.stackAlloc=function(){return(nt=d.stackAlloc=d.asm.stackAlloc).apply(null,arguments)},rt=(d.dynCall_iijjiiii=function(){return(d.dynCall_iijjiiii=d.asm.dynCall_iijjiiii).apply(null,arguments)},d.dynCall_jiji=function(){return(d.dynCall_jiji=d.asm.dynCall_jiji).apply(null,arguments)},d.__emscripten_allow_main_runtime_queued_calls=21672);function at(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function st(e){if(e=e||b,!(ae>0)){if(A)return i(d),re(),void postMessage({cmd:"loaded"});!function(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)e=d.preRun.shift(),J.unshift(e);var e;he(J)}(),ae>0||(d.setStatus?(d.setStatus("Running..."),setTimeout((function(){setTimeout((function(){d.setStatus("")}),1),t()}),1)):t())}function t(){Pe||(Pe=!0,d.calledRun=!0,R||(re(),i(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),function(){if(!A){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)e=d.postRun.shift(),ee.unshift(e);var e;he(ee)}}()))}}if(d.cwrap=function(e,n,r,a){var s=(r=r||[]).every((function(e){return"number"===e}));return"string"!==n&&s&&!a?L(e):function(){return function(e,n,r,a){var s={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);K(e,t=nt(n),n)}return t},array:function(e){var n=nt(e.length);return function(e,n){t().set(e,n)}(e,n),n}},o=L(e),i=[],u=0;if(a)for(var l=0;l<a.length;l++){var d=s[r[l]];d?(0===u&&(u=et()),i[l]=d(a[l])):i[l]=a[l]}return function(e){return 0!==u&&tt(u),function(e){return"string"===n?$(e):"boolean"===n?Boolean(e):e}(e)}(o.apply(null,i))}(e,n,r,arguments)}},d.keepRuntimeAlive=ne,d.PThread=ye,d.PThread=ye,d.wasmMemory=D,d.ExitStatus=at,oe=function e(){Pe||st(),Pe||(oe=e)},d.run=st,d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();if(st(),l&&(ze={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!l.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!l.unhandledRejection.indexOf(e)>-1}))}),"undefined"!=typeof WasmBackendModule)Ue=WasmBackendModule;else{if(void 0===e)throw new Error("Could not find wasm module in post.js");Ue=e}if(ze){var ot=Ue._dispose;Ue._dispose=function(){ot(),ze.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),ze.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return e.ready});e.exports=a},593:e=>{e.exports.$='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",function(data){onmessage({data:data})});var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8"))},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=((info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports});self.onmessage=(e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else if(e.data.cmd==="processProxyingQueue"){if(Module["_pthread_self"]()){Module["_emscripten_proxy_execute_queue"](e.data.queue)}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}});'},805:(e,t,n)=>{var r,a=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,a,s,o=void 0!==(e=e||{})?e:{};o.ready=new Promise((function(e,n){t=e,a=n})),"undefined"!=typeof process&&process.listeners&&(s={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var i,u,l,d,c,p,h=Object.assign({},o),m=[],f="object"==typeof window,g="function"==typeof importScripts,y="";"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node?(y=g?n(281).dirname(y)+"/":"//",p=()=>{c||(d=n(893),c=n(281))},i=function(e,t){return p(),e=c.normalize(e),d.readFileSync(e,t?void 0:"utf8")},l=e=>{var t=i(e,!0);return t.buffer||(t=new Uint8Array(t)),t},u=(e,t,n)=>{p(),e=c.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),m=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof re))throw e})),process.on("unhandledRejection",(function(e){throw e})),o.inspect=function(){return"[Emscripten Module object]"}):(f||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),r&&(y=r),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),u=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var b,w,x=o.print||console.log.bind(console),v=o.printErr||console.warn.bind(console);Object.assign(o,h),h=null,o.arguments&&(m=o.arguments),o.thisProgram&&o.thisProgram,o.quit&&o.quit,o.wasmBinary&&(b=o.wasmBinary),o.noExitRuntime,"object"!=typeof WebAssembly&&z("no native wasm support detected");var k=!1;function A(e){return o["_"+e]}var E,I,N,S,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function _(e,t,n){for(var r=t+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.subarray&&T)return T.decode(e.subarray(t,a));for(var s="";t<a;){var o=e[t++];if(128&o){var i=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|i<<6|u:(7&o)<<18|i<<12|u<<6|63&e[t++])<65536)s+=String.fromCharCode(o);else{var l=o-65536;s+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else s+=String.fromCharCode((31&o)<<6|i)}else s+=String.fromCharCode(o)}return s}function C(e,t){return e?_(N,e,t):""}function M(e){E=e,o.HEAP8=I=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=S=new Int32Array(e),o.HEAPU8=N=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),o.INITIAL_MEMORY;var D,F=[],O=[],B=[],R=0,L=null,P=null;function z(e){o.onAbort&&o.onAbort(e),v(e="Aborted("+e+")"),k=!0,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw a(t),t}o.preloadedImages={},o.preloadedAudios={};var U,V;function j(e){return e.startsWith("data:application/octet-stream;base64,")}function H(e){return e.startsWith("file://")}function W(e){try{if(e==U&&b)return new Uint8Array(b);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){z(e)}}function q(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?K(n)():K(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(o)}}j(U="tfjs-backend-wasm.wasm")||(V=U,U=o.locateFile?o.locateFile(V,y):y+V);var $=[];function K(e){var t=$[e];return t||(e>=$.length&&($.length=e+1),$[e]=t=D.get(e)),t}function G(e){try{return w.grow(e-E.byteLength+65535>>>16),M(w.buffer),1}catch(e){}}var Q,Y,J,Z={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Z.buffers[e];0===t||10===t?((1===e?x:v)(_(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Z.varargs+=4,S[Z.varargs-4>>2]},getStr:function(e){return C(e)},get64:function(e,t){return e}},X={abort:function(){z("")},emscripten_get_heap_max:function(){return 2147483648},emscripten_memcpy_big:function(e,t,n){N.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t,n=N.length,r=2147483648;if((e>>>=0)>r)return!1;for(var a=1;a<=4;a*=2){var s=n*(1+.2/a);if(s=Math.min(s,e+100663296),G(Math.min(r,((t=Math.max(e,s))%65536>0&&(t+=65536-t%65536),t))))return!0}return!1},fd_close:function(e){return 0},fd_seek:function(e,t,n,r,a){},fd_write:function(e,t,n,r){for(var a=0,s=0;s<n;s++){var o=S[t>>2],i=S[t+4>>2];t+=8;for(var u=0;u<i;u++)Z.printChar(e,N[o+u]);a+=i}return S[r>>2]=a,0},setTempRet0:function(e){}},ee=(function(){var e={env:X,wasi_snapshot_preview1:X};function t(e,t){var n,r=e.exports;o.asm=r,M((w=o.asm.memory).buffer),D=o.asm.__indirect_function_table,n=o.asm.__wasm_call_ctors,O.unshift(n),function(){if(R--,o.monitorRunDependencies&&o.monitorRunDependencies(R),0==R&&(null!==L&&(clearInterval(L),L=null),P)){var e=P;P=null,e()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!b&&(f||g)){if("function"==typeof fetch&&!H(U))return fetch(U,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+U+"'";return e.arrayBuffer()})).catch((function(){return W(U)}));if(u)return new Promise((function(e,t){u(U,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return W(U)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){v("failed to asynchronously prepare wasm: "+e),z(e)}))}if(R++,o.monitorRunDependencies&&o.monitorRunDependencies(R),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return v("Module.instantiateWasm callback failed with error: "+e),!1}(b||"function"!=typeof WebAssembly.instantiateStreaming||j(U)||H(U)||"function"!=typeof fetch?r(n):fetch(U,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o._init=function(){return(o._init=o.asm.init).apply(null,arguments)},o._init_with_threads_count=function(){return(o._init_with_threads_count=o.asm.init_with_threads_count).apply(null,arguments)},o._get_threads_count=function(){return(o._get_threads_count=o.asm.get_threads_count).apply(null,arguments)},o._register_tensor=function(){return(o._register_tensor=o.asm.register_tensor).apply(null,arguments)},o._dispose_data=function(){return(o._dispose_data=o.asm.dispose_data).apply(null,arguments)},o._dispose=function(){return(o._dispose=o.asm.dispose).apply(null,arguments)},o._Abs=function(){return(o._Abs=o.asm.Abs).apply(null,arguments)},o._Add=function(){return(o._Add=o.asm.Add).apply(null,arguments)},o._AddN=function(){return(o._AddN=o.asm.AddN).apply(null,arguments)},o._All=function(){return(o._All=o.asm.All).apply(null,arguments)},o._Any=function(){return(o._Any=o.asm.Any).apply(null,arguments)},o._ArgMax=function(){return(o._ArgMax=o.asm.ArgMax).apply(null,arguments)},o._AvgPool=function(){return(o._AvgPool=o.asm.AvgPool).apply(null,arguments)},o._BatchMatMul=function(){return(o._BatchMatMul=o.asm.BatchMatMul).apply(null,arguments)},o._Ceil=function(){return(o._Ceil=o.asm.Ceil).apply(null,arguments)},o._ClipByValue=function(){return(o._ClipByValue=o.asm.ClipByValue).apply(null,arguments)},o._Conv2D=function(){return(o._Conv2D=o.asm.Conv2D).apply(null,arguments)},o._Conv2DBackpropInput=function(){return(o._Conv2DBackpropInput=o.asm.Conv2DBackpropInput).apply(null,arguments)},o._Cos=function(){return(o._Cos=o.asm.Cos).apply(null,arguments)},o._Cosh=function(){return(o._Cosh=o.asm.Cosh).apply(null,arguments)},o._CropAndResize=function(){return(o._CropAndResize=o.asm.CropAndResize).apply(null,arguments)},o._Cumprod=function(){return(o._Cumprod=o.asm.Cumprod).apply(null,arguments)},o._Cumsum=function(){return(o._Cumsum=o.asm.Cumsum).apply(null,arguments)},o._DepthToSpace=function(){return(o._DepthToSpace=o.asm.DepthToSpace).apply(null,arguments)},o._DepthwiseConv2dNative=function(){return(o._DepthwiseConv2dNative=o.asm.DepthwiseConv2dNative).apply(null,arguments)},o._Elu=function(){return(o._Elu=o.asm.Elu).apply(null,arguments)},o._Equal=function(){return(o._Equal=o.asm.Equal).apply(null,arguments)},o._Exp=function(){return(o._Exp=o.asm.Exp).apply(null,arguments)},o._FlipLeftRight=function(){return(o._FlipLeftRight=o.asm.FlipLeftRight).apply(null,arguments)},o._Floor=function(){return(o._Floor=o.asm.Floor).apply(null,arguments)},o._FloorDiv=function(){return(o._FloorDiv=o.asm.FloorDiv).apply(null,arguments)},o._FusedBatchNorm=function(){return(o._FusedBatchNorm=o.asm.FusedBatchNorm).apply(null,arguments)},o._FusedConv2D=function(){return(o._FusedConv2D=o.asm.FusedConv2D).apply(null,arguments)},o._FusedDepthwiseConv2D=function(){return(o._FusedDepthwiseConv2D=o.asm.FusedDepthwiseConv2D).apply(null,arguments)},o._Gather=function(){return(o._Gather=o.asm.Gather).apply(null,arguments)},o._GatherNd=function(){return(o._GatherNd=o.asm.GatherNd).apply(null,arguments)},o._Greater=function(){return(o._Greater=o.asm.Greater).apply(null,arguments)},o._GreaterEqual=function(){return(o._GreaterEqual=o.asm.GreaterEqual).apply(null,arguments)},o._LeakyRelu=function(){return(o._LeakyRelu=o.asm.LeakyRelu).apply(null,arguments)},o._Less=function(){return(o._Less=o.asm.Less).apply(null,arguments)},o._LessEqual=function(){return(o._LessEqual=o.asm.LessEqual).apply(null,arguments)},o._Log=function(){return(o._Log=o.asm.Log).apply(null,arguments)},o._LogicalAnd=function(){return(o._LogicalAnd=o.asm.LogicalAnd).apply(null,arguments)},o._LogicalNot=function(){return(o._LogicalNot=o.asm.LogicalNot).apply(null,arguments)},o._LogicalOr=function(){return(o._LogicalOr=o.asm.LogicalOr).apply(null,arguments)},o._LogicalXor=function(){return(o._LogicalXor=o.asm.LogicalXor).apply(null,arguments)},o._Max=function(){return(o._Max=o.asm.Max).apply(null,arguments)},o._MaxPool=function(){return(o._MaxPool=o.asm.MaxPool).apply(null,arguments)},o._Maximum=function(){return(o._Maximum=o.asm.Maximum).apply(null,arguments)},o._Mean=function(){return(o._Mean=o.asm.Mean).apply(null,arguments)},o._Min=function(){return(o._Min=o.asm.Min).apply(null,arguments)},o._Minimum=function(){return(o._Minimum=o.asm.Minimum).apply(null,arguments)},o._MirrorPad=function(){return(o._MirrorPad=o.asm.MirrorPad).apply(null,arguments)},o._Multiply=function(){return(o._Multiply=o.asm.Multiply).apply(null,arguments)},o._Neg=function(){return(o._Neg=o.asm.Neg).apply(null,arguments)},o._NonMaxSuppressionV3=function(){return(o._NonMaxSuppressionV3=o.asm.NonMaxSuppressionV3).apply(null,arguments)},o._NonMaxSuppressionV4=function(){return(o._NonMaxSuppressionV4=o.asm.NonMaxSuppressionV4).apply(null,arguments)},o._NonMaxSuppressionV5=function(){return(o._NonMaxSuppressionV5=o.asm.NonMaxSuppressionV5).apply(null,arguments)},o._NotEqual=function(){return(o._NotEqual=o.asm.NotEqual).apply(null,arguments)},o._OneHot=function(){return(o._OneHot=o.asm.OneHot).apply(null,arguments)},o._PadV2=function(){return(o._PadV2=o.asm.PadV2).apply(null,arguments)},o._Pow=function(){return(o._Pow=o.asm.Pow).apply(null,arguments)},o._Prelu=function(){return(o._Prelu=o.asm.Prelu).apply(null,arguments)},o._Prod=function(){return(o._Prod=o.asm.Prod).apply(null,arguments)},o._RealDiv=function(){return(o._RealDiv=o.asm.RealDiv).apply(null,arguments)},o._Relu=function(){return(o._Relu=o.asm.Relu).apply(null,arguments)},o._Relu6=function(){return(o._Relu6=o.asm.Relu6).apply(null,arguments)},o._ResizeBilinear=function(){return(o._ResizeBilinear=o.asm.ResizeBilinear).apply(null,arguments)},o._ResizeNearestNeighbor=function(){return(o._ResizeNearestNeighbor=o.asm.ResizeNearestNeighbor).apply(null,arguments)},o._Reverse=function(){return(o._Reverse=o.asm.Reverse).apply(null,arguments)},o._RotateWithOffset=function(){return(o._RotateWithOffset=o.asm.RotateWithOffset).apply(null,arguments)},o._Round=function(){return(o._Round=o.asm.Round).apply(null,arguments)},o._Rsqrt=function(){return(o._Rsqrt=o.asm.Rsqrt).apply(null,arguments)},o._ScatterNd=function(){return(o._ScatterNd=o.asm.ScatterNd).apply(null,arguments)},o._SelectV2=function(){return(o._SelectV2=o.asm.SelectV2).apply(null,arguments)},o._Sigmoid=function(){return(o._Sigmoid=o.asm.Sigmoid).apply(null,arguments)},o._Sin=function(){return(o._Sin=o.asm.Sin).apply(null,arguments)},o._Softmax=function(){return(o._Softmax=o.asm.Softmax).apply(null,arguments)},o._SparseFillEmptyRows=function(){return(o._SparseFillEmptyRows=o.asm.SparseFillEmptyRows).apply(null,arguments)},o._SparseReshape=function(){return(o._SparseReshape=o.asm.SparseReshape).apply(null,arguments)},o._SparseSegmentReduction=function(){return(o._SparseSegmentReduction=o.asm.SparseSegmentReduction).apply(null,arguments)},o._Sqrt=function(){return(o._Sqrt=o.asm.Sqrt).apply(null,arguments)},o._Square=function(){return(o._Square=o.asm.Square).apply(null,arguments)},o._SquaredDifference=function(){return(o._SquaredDifference=o.asm.SquaredDifference).apply(null,arguments)},o._Step=function(){return(o._Step=o.asm.Step).apply(null,arguments)},o._StridedSlice=function(){return(o._StridedSlice=o.asm.StridedSlice).apply(null,arguments)},o._Sub=function(){return(o._Sub=o.asm.Sub).apply(null,arguments)},o._Sum=function(){return(o._Sum=o.asm.Sum).apply(null,arguments)},o._Tan=function(){return(o._Tan=o.asm.Tan).apply(null,arguments)},o._Tanh=function(){return(o._Tanh=o.asm.Tanh).apply(null,arguments)},o._Tile=function(){return(o._Tile=o.asm.Tile).apply(null,arguments)},o._TopK=function(){return(o._TopK=o.asm.TopK).apply(null,arguments)},o._Transform=function(){return(o._Transform=o.asm.Transform).apply(null,arguments)},o._Transpose=function(){return(o._Transpose=o.asm.Transpose).apply(null,arguments)},o.__FusedMatMul=function(){return(o.__FusedMatMul=o.asm._FusedMatMul).apply(null,arguments)},o._malloc=function(){return(o._malloc=o.asm.malloc).apply(null,arguments)},o._free=function(){return(o._free=o.asm.free).apply(null,arguments)},o.___errno_location=function(){return(o.___errno_location=o.asm.__errno_location).apply(null,arguments)},o._emscripten_main_thread_process_queued_calls=function(){return(o._emscripten_main_thread_process_queued_calls=o.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},o.stackSave=function(){return(ee=o.stackSave=o.asm.stackSave).apply(null,arguments)}),te=o.stackRestore=function(){return(te=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},ne=o.stackAlloc=function(){return(ne=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)};function re(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ae(e){function n(){Q||(Q=!0,o.calledRun=!0,k||(q(O),t(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),B.unshift(e);var e;q(B)}()))}e=e||m,R>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),F.unshift(e);var e;q(F)}(),R>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),n()}),1)):n()))}if(o.dynCall_iijjiiii=function(){return(o.dynCall_iijjiiii=o.asm.dynCall_iijjiiii).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.dynCall_jiji).apply(null,arguments)},o.cwrap=function(e,t,n,r){var a=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&a&&!r?A(e):function(){return function(e,t,n,r){var a={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);!function(e,t,n){!function(e,t,n,r){if(!(r>0))return 0;for(var a=n+r-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127){if(n>=a)break;t[n++]=o}else if(o<=2047){if(n+1>=a)break;t[n++]=192|o>>6,t[n++]=128|63&o}else if(o<=65535){if(n+2>=a)break;t[n++]=224|o>>12,t[n++]=128|o>>6&63,t[n++]=128|63&o}else{if(n+3>=a)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63,t[n++]=128|o>>6&63,t[n++]=128|63&o}}t[n]=0}(e,N,t,n)}(e,t=ne(n),n)}return t},array:function(e){var t=ne(e.length);return function(e,t){I.set(e,t)}(e,t),t}},s=A(e),o=[],i=0;if(r)for(var u=0;u<r.length;u++){var l=a[n[u]];l?(0===i&&(i=ee()),o[u]=l(r[u])):o[u]=r[u]}return function(e){return 0!==i&&te(i),function(e){return"string"===t?C(e):"boolean"===t?Boolean(e):e}(e)}(s.apply(null,o))}(e,t,n,arguments)}},P=function e(){Q||ae(),Q||(P=e)},o.run=ae,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();if(ae(),s&&(Y={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!s.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!s.unhandledRejection.indexOf(e)>-1}))}),void 0!==e)J=e;else{if("undefined"==typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");J=WasmBackendModuleThreadedSimd}if(Y){var se=J._dispose;J._dispose=function(){se(),Y.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),Y.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return e.ready});e.exports=a},559:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(601),a=n.n(r),s=n(314),o=n.n(s)()(a());o.push([e.id,".kQA6kMQBPJ9W9pwTPrfi {\n    position: absolute;\n    width: 80%;\n    left: 50%;\n    bottom: 0;\n    display: flex;\n    z-index: 1000;\n    align-items: center;\n    padding-bottom: 20px;\n    flex-direction: column;\n    justify-content: center;\n    transform: translateX(-50%);\n    background-color: transparent;\n}\n\n.mduEZtsXrmNQnA9YNhCw {\n    width: 90% !important;\n    padding: 12px;\n    border: none;\n    border-radius: 30px;\n    cursor: pointer;\n    text-align: center;\n    margin: 15px auto 0 auto !important;\n}\n\n.mduEZtsXrmNQnA9YNhCw:hover {\n    background-color: #0056b3;\n}\n\n.mduEZtsXrmNQnA9YNhCw.NZHmyfOhFTt8iwrv58sN {\n    background-color: #ccc !important;\n    cursor: not-allowed;\n    pointer-events: none;\n}\n\n.F0znqiYkhbufEAF8bKp4 {\n    width: 100%;\n    border: none;\n    max-width: 312px;\n\n    border-radius: 48px;\n    height: var(--size-button);\n    height: 48px;\n\n    color: var(--cor-background);\n    background-color: var(--cor-primary);\n\n    text-align: center;\n    cursor: pointer;\n\n    font-size: 100%;\n    font-weight: bold;\n\n    font-family: var(--font-family);\n\n    margin-left: auto;\n    margin-right: auto;\n\n    -webkit-tap-highlight-color: transparent;\n}",""]),o.locals={footer:"kQA6kMQBPJ9W9pwTPrfi",footerButton:"mduEZtsXrmNQnA9YNhCw",disabled:"NZHmyfOhFTt8iwrv58sN",errorButton:"F0znqiYkhbufEAF8bKp4"};const i=o},317:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(601),a=n.n(r),s=n(314),o=n.n(s),i=n(417),u=n.n(i),l=new URL(n(952),n.b),d=new URL(n(752),n.b),c=new URL(n(4),n.b),p=new URL(n(910),n.b),h=o()(a()),m=u()(l),f=u()(d),g=u()(c),y=u()(p);h.push([e.id,'html,\nbody {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\n\n.o0hjn64_eNgAb4fcChMH {\n  font-family: var(--font-family);\n  font-style: normal;\n  font-size: 0.1px;\n  color: var(--cor-background);\n}\n\n.xuv9ebvMAXU9NtWoNyvN {\n  width: 16px;\n  height: 16px;\n\n  filter: invert(1);\n\n  position: absolute;\n  top: 40px;\n  right: 24px;\n  transform: translate(-50%, -50%);\n\n  z-index: 100;\n}\n\n.UugeS4M8qsIei66ZZMeN {\n  width: 100%;\n  height: 100%;\n  \n  overflow: hidden;\n  position: absolute;\n}\n\n.dKAF3BVMrfaPqAfzyR6W {\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) rotateY(180deg) !important;\n\n  object-fit: cover;\n  overflow: hidden;\n}\n\n.naDawG3bxUv4ERSPnfEc {\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: "FlipH";\n}\n\n.rPAtK5zlHqILB93BsKYB {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n\n  position: absolute;\n}\n\n.njY1l2Fhx0Uejx1ze8rS {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n\n  margin: 0px;\n  padding: 0px;\n \n  overflow: hidden;\n}\n\n.am05XdaIIC_EHjTvJ7z3 {\n  position: absolute;\n  height: 5vh;\n  left: 17.5vw;\n  right: 17.5vw;\n  top: 3.75vh;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.am05XdaIIC_EHjTvJ7z3 .cFFJLkaqvA6xmLk8mSyf {\n  width: 10vw;\n}\n\n.am05XdaIIC_EHjTvJ7z3 p {\n  font-family: IBM Plex Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 2.19vh;\n  line-height: 128.2%;\n\n  /* or 18px */\n  text-align: center;\n  letter-spacing: 0.0175em;\n}\n\n.kMowwgh9OVrURRaxjkzd {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n\n  overflow: hidden;\n}\n\n.qfiwtrKLAr81bhg1qqgD {\n  display: none;\n}\n\n.kMowwgh9OVrURRaxjkzd .iDJgRwEyP1nD5e9EQzMP {\n  position: relative;\n}\n\n.kMowwgh9OVrURRaxjkzd .kZrEczFk5ZvtcoF1MrT5 {\n  width: 80%;\n\n  position: absolute;\n  top: calc(50% - 280px);\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n}\n\n.kMowwgh9OVrURRaxjkzd .JkHi51GXSx7G6qt2OGRw {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n\n  position: relative;\n\n  padding: 1rem .75rem;\n  border-radius: 8px;\n\n  background: #121212;\n}\n\n.kMowwgh9OVrURRaxjkzd .JkHi51GXSx7G6qt2OGRw::after {\n  content: "";\n  width: 0;\n  height: 0;\n\n  position: absolute;\n  left: 50%;\n  top: 100%;\n  transform: translate(-50%, -50%);\n\n  border-top: solid 15px #121212;\n  border-left: solid 15px transparent;\n  border-right: solid 15px transparent;\n}\n\n.kMowwgh9OVrURRaxjkzd .JkHi51GXSx7G6qt2OGRw p {\n  margin: 0;\n\n  font-family: \'Roboto\', sans-serif;\n  font-weight: 400;\n  font-size: 1.5rem;\n\n  text-align: center;\n\n  color: #FFFFFF;\n}\n\n.kMowwgh9OVrURRaxjkzd .ELqU0Alj5pJYXCLURvu1 {\n  width: 16.875rem;\n  height: 23.125rem;\n\n  position: absolute;\n  z-index: 1;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n \n  border-radius: 50%;\n  outline: solid 300vw rgba(0, 0, 0, .6);\n  object-fit: contain;\n \n  overflow: hidden;\n\n  transition: all .6s linear;\n}\n\n.kMowwgh9OVrURRaxjkzd .h_7FQ4f0cGuk6rguzU4D {\n  border: solid 5px #0A84FF;\n  transition: all .6s linear;\n}\n\n.FE7Ushe0E43ET7qo7bGv {\n  transform: translate(-50%, -50%) scale(0.8) !important;\n}\n\n.g1yw9pvGIRjd3C724nKr {\n  transform: translate(-50%, -50%) scale(1) !important;\n}\n\n.Z28DwNwbMxrB38wvzh9n {\n  transform: translate(-50%, -50%) scale(1.2) !important;\n}\n\n.Xk05c1QXeWEjJocbQWpF {\n  width: 120px;\n  height: 120px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  position: absolute;\n}\n\n.QyDsEYykX8CA3H1QjNzM {\n  visibility: hidden;\n}\n\n.TYsrEXwv6EgSVA5Rr0vO {\n  background-image: url('+m+");\n\n  width: 120px;\n  height: 120px;\n\n  transform: rotate(180deg);\n\n  background-position: center;\n  background-size: cover;\n\n  margin: 0px;\n  padding: 0px;\n  border: none;\n}\n\n.ye4ZQYBO_b5kDqaAj0Lz {\n  width: 120px;\n  height: 120px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  position: absolute;\n}\n\n._fR7OHimx6hZWofgKAQ5 {\n  background-image: url("+m+");\n\n  width: 120px;\n  height: 120px;\n\n  background-position: center;\n  background-size: cover;\n\n  margin: 0px;\n  padding: 0px;\n  border: none;\n}\n\n.zilwk7VD29CxxFXyiMOd {\n  width: 90px;\n  height: 36px;\n\n  background-image: url("+f+");\n  background-size: contain;\n  background-repeat: no-repeat;\n\n  position: relative;\n\n  background-position: center;\n  background-size: cover;\n\n  transform: translate(-50%, 0%);\n}\n\n.Pjp25rMuQYpdUGtD4OyK {\n  position: absolute;\n\n  bottom: 0px;\n\n  left: 50%;\n  transform: translate(0%, -50%);\n}\n\n.ERk07jSZ7QFgK6nK6Zsp {\n  position: absolute;\n\n  bottom: 40px;\n\n  left: 50%;\n  transform: translate(0%, -50%);\n}\n\n.Jp3uxjKRDXe5hMk96H6i {\n  background-image: url("+g+");\n  background-size: contain;\n  background-repeat: no-repeat;\n\n  width: 64px;\n  height: 64px;\n\n  position: relative;\n  left: -32px;\n}\n\n.rPAtK5zlHqILB93BsKYB {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  background: white;\n\n  overflow: hidden;\n}\n\n.IE5Lj4NJUudjfJcX1Awz {\n  height: 100%;\n  width: 100%;\n\n  position: absolute;\n\n  background: white;\n\n  align-self: center;\n\n  z-index: 999999;\n}\n\n.o_IFB7DVWsnP6h_ACfLZ {\n  height: 100%;\n  width: 100%;\n\n  position: absolute;\n  align-self: center;\n}\n\n.uSH1UMgW2mofua4BASRw {\n  width: 390px;\n  font-size: 45px;\n\n  color: white;\n\n  position: absolute;\n\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.uvFsqGf4xY1s1qtzPKNA {\n  width: 64px;\n  height: 64px;\n  background-size: contain;\n  background-image: url("+y+");\n  position: absolute;\n\n  background-color: white;\n\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  z-index: 9999;\n}\n\n.kCZv2gMbdjzn3sXYRSi5 {\n  display: none;\n}\n\n/* TELA COMEÇA FACIAL */\n\n.l_IAWF4FaVdoha03XdcC {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  width: auto;\n  height: auto;\n  font-family: var(--font-family);\n  text-align: center;\n  vertical-align: center;\n}\n\nheader {\n  width: 100vw;\n  margin-bottom: 68px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.A5PuvAkfYTHhA_VPbfSQ {\n  font-size: 16px;\n}\n\n.MdPPi9_jwLhP6KvJEohs {\n  font-size: 18px;\n}\n\n.vbFjjmUUOW7ptr6Ka109 {\n  font-weight: 300;\n}\n\n.jW6A0dPJlLbXFaHUsAcg {\n  font-weight: 400;\n}\n\n.yD8ZJWI_5G74EuWwkKx5 {\n  font-weight: 700;\n}\n\n.zCtwI7qirtrBnYY5aF0H {\n  line-height: 18.75px;\n}\n\n.ZZ8I6tkQpm96JxXapKpT {\n  line-height: 21.09px;\n}\n\n.e4FJkSXt_mKcBpy3u7M0 {\n  color: #757a89;\n}\n\n.ahMBJkKh_IcUWyp3THXS {\n  color: #444c66;\n}\n\nsection p {\n  margin: 0 24px;\n}\n\n.DCJGdGLOW_Ca3NbTr1Yg {\n  height: 40px;\n  border-top-left-radius: 25px;\n  border-top-right-radius: 25px;\n  background-color: #f8f8f8;\n  box-shadow: 0px -4px 18px rgba(0, 0, 0, 0.1);\n  margin-top: 102px;\n}\n\n.LblPI0YgurTrrtDSYBps {\n  margin-top: 56px;\n}\n\n.oD0IBZX3g_aTCfMAKuO4 {\n  margin-left: 38px;\n}\n\n.s6fnLZ6lgq0xkgOBkWAg {\n  margin-right: 24px;\n}\n\n.oC3I0iM7Z_NV4CegJdET {\n  margin-right: 28px;\n}\n\n.EPhpB0ibbjJbreDixxK8 {\n  display: flex;\n}\n\n.iOH_jjrzTgrMo7bENJCA {\n  align-items: center;\n}\n\n@media (min-width: 480px) {\n  .dKAF3BVMrfaPqAfzyR6W {\n   width: min(90%, 576px);\n   height: min(90%, 832px);\n    \n    border-radius: 1rem;\n  }\n\n  .kMowwgh9OVrURRaxjkzd .kZrEczFk5ZvtcoF1MrT5 {\n    width: fit-content;\n  }\n}\n\n@media (min-width: 768px) {\n  .xuv9ebvMAXU9NtWoNyvN {\n    right: 32px;\n  }\n}\n\n@media (min-width: 1024px) {\n  .dKAF3BVMrfaPqAfzyR6W {\n    width: min(90%, 450px);\n    height: min(90%, 680px);\n  }\n}",""]),h.locals={headerOculto:"o0hjn64_eNgAb4fcChMH",errorButtonExit:"xuv9ebvMAXU9NtWoNyvN",cameraContainer:"UugeS4M8qsIei66ZZMeN",cameraVideo:"dKAF3BVMrfaPqAfzyR6W",cameraVideoFlip:"naDawG3bxUv4ERSPnfEc",selfieContainer:"rPAtK5zlHqILB93BsKYB",guiDIV:"njY1l2Fhx0Uejx1ze8rS",guiHEADER:"am05XdaIIC_EHjTvJ7z3",setaVoltar:"cFFJLkaqvA6xmLk8mSyf",guiBODY:"kMowwgh9OVrURRaxjkzd",guiBODYImgLabelNone:"qfiwtrKLAr81bhg1qqgD",elipsesCONTAINER:"iDJgRwEyP1nD5e9EQzMP",guiLabelWrapper:"kZrEczFk5ZvtcoF1MrT5",guiLabelContainer:"JkHi51GXSx7G6qt2OGRw",elipsesBODY:"ELqU0Alj5pJYXCLURvu1",elipsesBODYSuccess:"h_7FQ4f0cGuk6rguzU4D",elipseBODYSMALL:"FE7Ushe0E43ET7qo7bGv",elipseBODYMED:"g1yw9pvGIRjd3C724nKr",elipseBODYBIG:"Z28DwNwbMxrB38wvzh9n",leftArrowPassiveContainer:"Xk05c1QXeWEjJocbQWpF",guiHidden:"QyDsEYykX8CA3H1QjNzM",leftArrowPassive:"TYsrEXwv6EgSVA5Rr0vO",rightArrowPassiveContainer:"ye4ZQYBO_b5kDqaAj0Lz",rightArrowPassive:"_fR7OHimx6hZWofgKAQ5",guiLOGO:"zilwk7VD29CxxFXyiMOd",guiBOTTOM:"Pjp25rMuQYpdUGtD4OyK",guiBOTAOCAPTURARCONTAINER:"ERk07jSZ7QFgK6nK6Zsp",guiBOTAOCAPTURAR:"Jp3uxjKRDXe5hMk96H6i",selfieLoadingParent:"IE5Lj4NJUudjfJcX1Awz",selfieTextoParent:"o_IFB7DVWsnP6h_ACfLZ",selfieTexto:"uSH1UMgW2mofua4BASRw",selfieLoading:"uvFsqGf4xY1s1qtzPKNA",divDisplayNone:"kCZv2gMbdjzn3sXYRSi5",resetCSS:"l_IAWF4FaVdoha03XdcC",fs16:"A5PuvAkfYTHhA_VPbfSQ",fs18:"MdPPi9_jwLhP6KvJEohs",w300:"vbFjjmUUOW7ptr6Ka109",w400:"jW6A0dPJlLbXFaHUsAcg",w700:"yD8ZJWI_5G74EuWwkKx5",lh18:"zCtwI7qirtrBnYY5aF0H",lh21:"ZZ8I6tkQpm96JxXapKpT",grey:"e4FJkSXt_mKcBpy3u7M0",darkBlue:"ahMBJkKh_IcUWyp3THXS",bordaRedonda:"DCJGdGLOW_Ca3NbTr1Yg",mt56:"LblPI0YgurTrrtDSYBps",ml38:"oD0IBZX3g_aTCfMAKuO4",mr24:"s6fnLZ6lgq0xkgOBkWAg",mr28:"oC3I0iM7Z_NV4CegJdET",flex:"EPhpB0ibbjJbreDixxK8","align-center":"iOH_jjrzTgrMo7bENJCA"};const b=h},675:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(601),a=n.n(r),s=n(314),o=n.n(s)()(a());o.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap);"]),o.push([e.id,":root {\n    --cor-background: #f5f5f5;\n    --font-family: 'Roboto', sans-serif;\n    --size-header: 50px;\n  \n  }\n\n.L71ivxL1lbiWJbfRMpxT {\n    font-family: var(--font-family);\n    font-style: normal;\n    font-size: 0.1px;\n    color: var(--cor-background);\n}\n\n.BTKGZMk2hoKZKDCGGw6z {\n    position: absolute;\n    right: 15px;\n    top: 0px;\n    margin-top: 50px;\n    width: 16px;\n    height: 16px;\n}\n\n.JwXDFk4mAZCNWC2MPYaq {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n}\n\n.WDBb2ENI6J9sQ8ZLpRkD {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap: 12px;\n    align-items: flex-start;\n    position: relative;\n    width: 90vw;\n    left: 5vw;\n    margin-top: 25px;\n}\n\n.xF14UYjPmvozQVIWQflD {\n    color: #333333;\n    font-family: var(--font-family);\n    font-style: normal;\n    font-size: 24px !important;\n    line-height: 28px;\n    font-weight: 700;\n    text-align: left;\n\n    position: static !important;\n    margin: 0;\n}\n\n.zQE1ASciydC_SZ5T3sA6 {\n    font-family: var(--font-family);\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    color: #585858;\n    margin: 0;\n}\n\n.fGivs9YjpzygR7VN0TvU {\n    margin-top: 10%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-around;\n}\n  \n.fGivs9YjpzygR7VN0TvU img {\n    height: 62px;\n}\n\n.m2I7vH2wtnOsHiK3o8iW {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    margin-bottom: 10px;\n}\n\n.BI6BWBVJToLntZxFYw_o {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 20px;\n    justify-content: center;\n    background: #f5f8fa;\n    border-radius: 8px;\n    height: 150px;\n    width: 150px;\n    margin-left: 5px;\n    margin-right: 5px;\n    padding: 3px;\n    text-align: center;\n}\n\n@media (max-width: 360px) {\n    @media (max-height: 800px) {\n\n        .BG_6qVwIAKflRFvuvthX {\n            margin-top: 20vh;\n        }\n\n        .JwXDFk4mAZCNWC2MPYaq {\n            display: flex;\n            flex-direction: column;\n            justify-content: flex-start;\n            align-items: center;\n            margin-top: -9%;\n        }\n    }\n}\n\n@media (max-width: 375px) {\n    @media (max-height: 667px) {\n        .BTKGZMk2hoKZKDCGGw6z {\n            position: absolute;\n            right: 15px;\n            top: -3%;\n            margin-top: 50px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .JwXDFk4mAZCNWC2MPYaq {\n            display: flex;\n            flex-direction: column;\n            justify-content: flex-start;\n            align-items: center;\n            margin-top: -27%;\n        }\n\n        .WDBb2ENI6J9sQ8ZLpRkD {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: flex-start;\n            gap: 16px;\n            position: relative;\n            width: 90vw;\n            left: 5vw;\n            margin-top: 25%;\n        }\n\n        .BI6BWBVJToLntZxFYw_o {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            background: #f5f8fa;\n            border-radius: 8px;\n            height: 120px;\n            width: 130px;\n            margin-left: 5px;\n            margin-right: 5px;\n            padding: 3px;\n            text-align: center;\n        }\n\n        .BG_6qVwIAKflRFvuvthX {\n            margin-top: 33vh;\n        }\n\n    }\n}\n\n@media (max-width: 390px) {\n    @media (max-height: 884px) {\n\n        .BG_6qVwIAKflRFvuvthX {\n            margin-top: 23vh;\n        }\n\n        .JwXDFk4mAZCNWC2MPYaq {\n            display: flex;\n            flex-direction: column;\n            justify-content: flex-start;\n            align-items: center;\n            margin-top: -8%;\n        }\n    }\n\n    @media (max-height: 667px) {\n        .BTKGZMk2hoKZKDCGGw6z {\n            position: absolute;\n            right: 15px;\n            top: -3%;\n            margin-top: 50px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .JwXDFk4mAZCNWC2MPYaq {\n            display: flex;\n            flex-direction: column;\n            justify-content: flex-start;\n            align-items: center;\n            margin-top: -27%;\n        }\n\n        .WDBb2ENI6J9sQ8ZLpRkD {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: flex-start;\n            position: relative;\n            width: 90vw;\n            left: 5vw;\n            margin-top: 25%;\n        }\n\n        .BI6BWBVJToLntZxFYw_o {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            background: #f5f8fa;\n            border-radius: 8px;\n            height: 120px;\n            width: 130px;\n            margin-left: 5px;\n            margin-right: 5px;\n            padding: 3px;\n            text-align: center;\n        }\n\n        .BG_6qVwIAKflRFvuvthX {\n            margin-top: 33vh;\n        }\n\n    }\n\n}\n\n@media (min-width: 600px) {\n\n    .fGivs9YjpzygR7VN0TvU {\n        margin-top: 3%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: space-around;\n    }\n\n}\n\n@media (min-width: 600.01px) {\n\n    .JwXDFk4mAZCNWC2MPYaq {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        position: relative;\n        bottom: 20vh;\n    }\n\n    .WDBb2ENI6J9sQ8ZLpRkD {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: flex-start;\n        margin-top: -6%;\n        left: 0px !important;\n        width: 452px;\n    }\n\n    .fGivs9YjpzygR7VN0TvU {\n        margin-top: 3%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: space-around;\n        position: relative;\n        top: 30px;\n    }\n\n    .BI6BWBVJToLntZxFYw_o {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background: #f5f8fa;\n        border-radius: 8px;\n        height: 150px;\n        width: 200px;\n        margin-left: 5px;\n        margin-right: 5px;\n        padding: 3px;\n        text-align: center;\n    }\n\n}\n\n@media (min-width: 1024px) {\n    .MAtOXIdVRUKheD1iRM_F {\n      margin-top: 175px;\n    }\n    .BTKGZMk2hoKZKDCGGw6z {\n      position: absolute;\n      right: 15px;\n      top: 0px;\n      margin-top: 0px;\n      width: 16px;\n      height: 16px;\n    }\n\n    .fGivs9YjpzygR7VN0TvU img {\n        height: 73px;\n    }\n}\n\n@media (min-width: 1280px) {\n    @media (min-height: 451px) {\n        .MAtOXIdVRUKheD1iRM_F {\n            margin-top: 33vh;\n          }\n\n          .JwXDFk4mAZCNWC2MPYaq {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: relative;\n            bottom: 23vh;\n        }\n    }\n\n    .BI6BWBVJToLntZxFYw_o {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background: #f5f8fa;\n        border-radius: 8px;\n        height: 150px;\n        width: 200px;\n        margin-left: 5px;\n        margin-right: 5px;\n        padding: 3px;\n        text-align: center;\n    }\n}\n\n@media (min-width: 1280px) {\n    @media (min-height: 563px) {\n        .MAtOXIdVRUKheD1iRM_F {\n            margin-top: 33vh;\n          }\n\n          .JwXDFk4mAZCNWC2MPYaq {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: relative;\n            bottom: 23vh;\n        }\n\n        .BI6BWBVJToLntZxFYw_o {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            background: #f5f8fa;\n            border-radius: 8px;\n            height: 150px;\n            width: 200px;\n            margin-left: 5px;\n            margin-right: 5px;\n            padding: 3px;\n            text-align: center;\n        }\n    }\n}\n\n@media (min-width: 1280px) {\n    @media (min-height: 597px) {\n        .MAtOXIdVRUKheD1iRM_F {\n            margin-top: 29vh;\n          }\n\n          .JwXDFk4mAZCNWC2MPYaq {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: relative;\n            bottom: 16vh;\n        }\n\n        .BI6BWBVJToLntZxFYw_o {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            background: #f5f8fa;\n            border-radius: 8px;\n            height: 150px;\n            width: 200px;\n            margin-left: 5px;\n            margin-right: 5px;\n            padding: 3px;\n            text-align: center;\n        }\n    }\n}",""]),o.locals={headerOculto:"L71ivxL1lbiWJbfRMpxT",errorButtonIcon:"BTKGZMk2hoKZKDCGGw6z",dicasContainer:"JwXDFk4mAZCNWC2MPYaq",dicasHeaderContainer:"WDBb2ENI6J9sQ8ZLpRkD",dicasHeader:"xF14UYjPmvozQVIWQflD",headerSubtitle:"zQE1ASciydC_SZ5T3sA6",dicasBoxes:"fGivs9YjpzygR7VN0TvU",dicasRow:"m2I7vH2wtnOsHiK3o8iW",dicasSpacing:"BI6BWBVJToLntZxFYw_o",botaoDivFooter:"BG_6qVwIAKflRFvuvthX",abaixarBotao:"MAtOXIdVRUKheD1iRM_F"};const i=o},574:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var r=n(601),a=n.n(r),s=n(314),o=n.n(s),i=n(417),u=n.n(i),l=new URL(n(14),n.b),d=new URL(n(506),n.b),c=new URL(n(656),n.b),p=new URL(n(860),n.b),h=new URL(n(437),n.b),m=new URL(n(174),n.b),f=new URL(n(784),n.b),g=new URL(n(842),n.b),y=o()(a());y.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap);"]);var b=u()(l),w=u()(d),x=u()(c),v=u()(p),k=u()(h),A=u()(m),E=u()(f),I=u()(g);y.push([e.id,":root {\r\n  --cor-primary: #002dd1;\r\n  --cor-secondary: #d82d80;\r\n  --cor-complementary: #004691;\r\n\r\n  --cor-background: #f5f5f5;\r\n  /* --cor-background: #fff; */\r\n\r\n  --cor-error: #b00020;\r\n  --cor-aviso: #424242;\r\n  --cor-success: #20b000;\r\n\r\n  --cor-progresso-loading: blue;\r\n  --cor-background-loading: #C4C4C4;\r\n  --cor-loading-text: #636f88;\r\n\r\n  --cor-background-orientacoes: rgba(45, 53, 73, 1);\r\n\r\n  --font-family: 'Roboto', sans-serif;\r\n\r\n  --spacing-padding: 16px;\r\n\r\n  --logoHeader: url("+b+");\r\n\r\n  --size-header: 50px;\r\n  --size-header-mid: 20px;\r\n\r\n  --size-footer: 140px;\r\n  --size-button: 48px;\r\n}\r\n\r\n.eSZaNmEyWTZdlQ2p_yXB {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0px;\r\n  left: 0px;\r\n}\r\n\r\n._QQUoDvZxUX0auRwtgFB {\r\n  display: none !important;\r\n}\r\n\r\n.r4dx9oqHZpi_RFovjVZ_ {\r\n  color: #fff !important;\r\n}\r\n\r\n.MqJimDyefRH1AXvVtDc6 {\r\n  color: #000 !important;\r\n}\r\n\r\n.qzpfPkyzm4TEZbq9jXac {\r\n  background-color: #fff !important;\r\n}\r\n\r\n.CULIAVvnTkExi3sd00Qq {\r\n  background-color: #002dd1 !important;\r\n}\r\n\r\n.zMp7xbRc29xIRnYm04Hl {\r\n  background-color: gray !important;\r\n}\r\n\r\n.mjkWz0jWIUHxRA3r6tT5 {\r\n  background-color: none;\r\n}\r\n\r\n.mjkWz0jWIUHxRA3r6tT5 p {\r\n  color: var(--cor-primary);\r\n  text-align: center;\r\n  font-weight: 700;\r\n}\r\n\r\n.LSbY7lZjojHuy8DdBbkd {\r\n  font-family: var(--font-family);\r\n\r\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0) !important;\r\n  -webkit-tap-highlight-color: transparent !important;\r\n\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  background-color: #ffffff;\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n}\r\n\r\n.P0cKkuROUIHnWEHRgsIQ {\r\n  background-color: #f5f7f9 !important;\r\n}\r\n\r\n.LSbY7lZjojHuy8DdBbkd h1 {\r\n  font-size: 40px;\r\n\r\n  margin-top: 40px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.LSbY7lZjojHuy8DdBbkd h2 {\r\n  font-size: 32px;\r\n\r\n  margin-top: 32px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.LSbY7lZjojHuy8DdBbkd h3 {\r\n  font-size: 24px;\r\n  margin-top: 25px;\r\n  margin-bottom: 10px;\r\n  bottom: 5vh;\r\n  position: relative;\r\n  color: #333333;\r\n}\r\n\r\n.LSbY7lZjojHuy8DdBbkd h4 {\r\n  font-size: 24px;\r\n  text-align: left;\r\n  position: absolute;\r\n  line-height: 28px;\r\n}\r\n\r\n/* .wrapper p {\r\n  color: #585858;\r\n  font-size: 16px;\r\n\r\n  margin-top: 55px;\r\n  margin-bottom: 10px;\r\n} */\r\n\r\n.WBYaISF3xhqd6hzDVtEK {\r\n  position: relative;\r\n  bottom: 7.5vh;\r\n}\r\n\r\n@media (min-width: 600px) {\r\n  .LSbY7lZjojHuy8DdBbkd h3 {\r\n    font-size: 24px;\r\n    margin-top: 25px;\r\n    margin-bottom: 10px;\r\n    text-align: center;\r\n    color: #333333;\r\n  }\r\n\r\n  /* .wrapper p {\r\n    color: #585858;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    margin-top: 55px;\r\n    margin-bottom: 10px;\r\n  } */\r\n}\r\n\r\n.kb4oSn4S9JnJqsA2SMjV {\r\n  color: var(--cor-primary);\r\n  font-size: 16px;\r\n\r\n  font-weight: bold;\r\n  text-align: center;\r\n}\r\n\r\n.jGgP9fmLTBxDDXOe9e8b {\r\n  width: 100%;\r\n  max-width: 312px;\r\n  height: 48px;\r\n  border: none;\r\n  display: flex;\r\n  border-radius: 48px;\r\n\r\n  color: var(--cor-primary);\r\n  background-color: none;\r\n\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  cursor: pointer;\r\n\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\r\n  margin-top: 20px;\r\n\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  font-family: var(--font-family);\r\n\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.Nk8qVvyX90seYw8FY1N6 {\r\n  width: 100%;\r\n  max-width: 312px;\r\n  border: none;\r\n  display: flex;\r\n  border-radius: 48px;\r\n  height: var(--size-button);\r\n\r\n  color: var(--cor-background);\r\n  background-color: var(--cor-primary);\r\n\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  cursor: pointer;\r\n\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  font-family: var(--font-family);\r\n\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.OkuU4L7SDoWiwkaslAsk {\r\n  position: absolute;\r\n  right: 15px;\r\n  top: 0px;\r\n  margin-top: 50px;\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.nlUwQ8nVAg3_5CAE1F66 {\r\n  position: absolute;\r\n  right: 15px;\r\n  top: 0px;\r\n\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.JeIyECCrn3l1iyN1JuT6 {\r\n  width: 100%;\r\n  border: none;\r\n  border-radius: 48px;\r\n  height: var(--size-button);\r\n  height: 48px;\r\n\r\n  color: var(--cor-background);\r\n  background-color: var(--cor-primary);\r\n\r\n  text-align: center;\r\n  cursor: pointer;\r\n\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n\r\n  font-family: var(--font-family);\r\n\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.tYNtobt7KXh4p0plbrqW {\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n\r\n  height: var(--size-header);\r\n  padding: var(--spacing-padding);\r\n\r\n  text-align: center;\r\n\r\n  background-color: var(--cor-background);\r\n}\r\n\r\n.fNAeNZGNWgkM8MPEJ_Sj {\r\n  position: absolute;\r\n  left: var(--size-header-mid);\r\n  top: var(--size-header-mid);\r\n}\r\n\r\n.UTBlPeeGSkat2_d4QS3P {\r\n  position: absolute;\r\n  right: var(--size-header-mid);\r\n  top: var(--size-header-mid);\r\n}\r\n\r\n.hiX2fhtLfaBaOmSzWM7x {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n\r\n  height: 256px;\r\n  padding: var(--spacing-padding);\r\n}\r\n\r\n.coHxhlf1Er18UvNCYdjU {\r\n  background: #ffffff;\r\n  border-radius: 10px 10px 0px 0px;\r\n  height: 77%;\r\n  padding: 5%;\r\n  width: 100vw;\r\n  position: absolute;\r\n\r\n  top: 70%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.hMqTJs8Fn4XKBiutrV2A {\r\n  position: absolute;\r\n  /* top: var(--size-header); */\r\n  /* bottom: var(--size-footer); */\r\n  top: 10px;\r\n  left: 0;\r\n  right: 0;\r\n\r\n  overflow: hidden;\r\n\r\n  padding: var(--spacing-padding);\r\n  margin: 16px;\r\n  height: 100vh;\r\n}\r\n\r\n._4HpMkFanaF_hK1yBx74 {\r\n  margin: 0;\r\n  position: absolute;\r\n  top: 50%;\r\n  -ms-transform: translateY(-50%);\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.m9xD0VzFWaXPJRo770Gj {\r\n  height: var(--size-header);\r\n\r\n  background-size: auto;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-image: var(--logoHeader);\r\n\r\n  margin: auto;\r\n}\r\n\r\n.T2BbvZ3TjEXT5JXQ7iWz {\r\n  width: 25px;\r\n  height: 25px;\r\n\r\n  margin: 10px;\r\n\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-image: url("+w+");\r\n\r\n  cursor: pointer;\r\n}\r\n\r\n.rV7w2YLhJ2mjBraPLC7A {\r\n  width: 25px;\r\n  height: 25px;\r\n\r\n  margin: 10px;\r\n\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-image: url("+x+");\r\n\r\n  cursor: pointer;\r\n}\r\n\r\n.F0kMYIn1OWsE19ay7tiS {\r\n  width: 25px;\r\n  height: 25px;\r\n\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-image: url("+v+");\r\n\r\n  cursor: pointer;\r\n}\r\n\r\n.AhUkZoXNSM00B7N_odEE {\r\n  width: 25px;\r\n  height: 25px;\r\n\r\n  margin: 10px;\r\n\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-image: url("+k+");\r\n\r\n  cursor: pointer;\r\n}\r\n\r\n.IUek4SFhXlsBHBJCZ43N {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 15vh;\r\n}\r\n\r\n.IUek4SFhXlsBHBJCZ43N img {\r\n  margin-top: 0;\r\n  width: 75%;\r\n}\r\n\r\n.jQc1BH6XN8kc6XBCqGx7 {\r\n  display: flex;\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  top: 0;\r\n  left: 0;\r\n\r\n  background-color: var(--cor-background);\r\n  position: absolute;\r\n\r\n  z-index: 99999999;\r\n}\r\n\r\n.yhgeQSIss4CMkYlFCEwf {\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  margin: auto;\r\n}\r\n\r\n.RqYJkUkeWBugPdHTtCAP {\r\n  max-width: 100%;\r\n}\r\n\r\n.qghQW5oxHAFnJmXmIHcm {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  margin: 0 auto;\r\n\r\n  position: relative;\r\n  /* top: 15vh; */\r\n}\r\n\r\n._J37W_At53VSGK1j6rYo {\r\n  color: #333333 !important;\r\n}\r\n\r\n.x8HPNXxtSPeo9FF3X4ZX {\r\n  color: #585858 !important;\r\n}\r\n\r\n.TeQ5x6b6We9lHtPiAKod {\r\n  appearance: none;\r\n  display: inline-block;\r\n  height: 10px;\r\n  width: 184px;\r\n  vertical-align: -0.2em;\r\n  border-radius: .5em;\r\n  margin-top: 72px;\r\n}\r\n\r\n.g24kfTg7rd5VVRFG1PQR {\r\n  appearance: none;\r\n  display: inline-block;\r\n  height: 10px;\r\n  width: 184px;\r\n  vertical-align: -0.2em;\r\n  border-radius: .5em;\r\n  margin-top: 26px;\r\n}\r\n\r\n.TeQ5x6b6We9lHtPiAKod::-webkit-progress-bar,\r\n.g24kfTg7rd5VVRFG1PQR::-webkit-progress-bar {\r\n  background: var(--cor-background-loading);\r\n  border-radius: .5em;\r\n}\r\n\r\n.TeQ5x6b6We9lHtPiAKod::-webkit-progress-value,\r\n.g24kfTg7rd5VVRFG1PQR::-webkit-progress-value {\r\n  background: var(--cor-progresso-loading);\r\n  border-radius: .5em;\r\n}\r\n\r\n.LAfCOtDdaY4Sxtp9nvjg {\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n  line-height: 20px;\r\n  text-align: center;\r\n\r\n  color: var(--cor-loading-text);\r\n\r\n  margin-top: 36px;\r\n}\r\n\r\n.NWt9TiIjnI1MdxC3V4TN {\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 14px;\r\n  line-height: 20px;\r\n  text-align: center;\r\n\r\n  color: var(--cor-loading-text);\r\n\r\n  margin-top: 8px;\r\n}\r\n\r\n.UEBAqUPjllK67KM9cWM_ {\r\n  width: 140px;\r\n  height: 160px;\r\n\r\n  margin: auto;\r\n\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: contain;\r\n  background-image: url("+A+");\r\n}\r\n\r\n.GKl3zDlfHGUE49t35cDr {\r\n  background-color: var(--cor-background) !important;\r\n\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.FALIleMKpwZyVAXkLb8E {\r\n  background-color: var(--cor-aviso) !important;\r\n\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.XHXyxDJwMRVtch7xXBFy {\r\n  width: 90px;\r\n  height: 90px;\r\n\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: contain;\r\n  background-image: url("+E+");\r\n}\r\n\r\n.rYC7dTldcYhFw7iitM5_ {\r\n  margin-top: 0px;\r\n  color: #333333;\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-size: 24px !important;\r\n  line-height: 28px;\r\n  font-weight: 700;\r\n  text-align: left;\r\n}\r\n\r\n.WwqXpAJeFb9zXrZBrLkW {\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-size: 0.1px;\r\n  color: var(--cor-background);\r\n}\r\n\r\n.IR5OQKDwjl7RuMqhFCgZ {\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 14px;\r\n  color: #585858;\r\n  margin-top: 5%;\r\n  margin-left: 0px;\r\n  position: relative;\r\n  top: 15px;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.CdfKCdt03f_xU7f8qreb {\r\n  margin-top: 10%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n}\r\n\r\n.CdfKCdt03f_xU7f8qreb img {\r\n  max-width: 50%;\r\n  position: relative;\r\n  top: 25px;\r\n}\r\n\r\n.NdAiD8GY097mAtd4by1Q {\r\n  width: 16px;\r\n  height: 12px;\r\n\r\n  float: left;\r\n  margin-right: 5px;\r\n\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: contain;\r\n  background-image: url("+I+");\r\n}\r\n\r\n.QLCzDabS4_7wDv3ci4KT {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.sZyIV7zJzdfKDyZNV5M2 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #f5f8fa;\r\n  border-radius: 8px;\r\n  height: 150px;\r\n  width: 150px;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n  padding: 3px;\r\n  text-align: center;\r\n}\r\n\r\n/* Estilos auxiliares adicionados em 7 de Dezembro de 2022 */\r\n\r\n._4eVjSOYT3k2QnZWLEzE {\r\n  text-align: center;\r\n}\r\n\r\n.r34BS_jZySMrjJPnJady {\r\n  margin-top: 10vh;\r\n}\r\n\r\n.JNk3Eclduc0dNfTAPAwL {\r\n  display: none;\r\n}\r\n\r\n.wiHVa8zJTx1dCHAwaNpb {\r\n  /* background-color: #FFFFFF; */\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: space-around;\r\n  text-align: center;\r\n  /* border-radius: 10px 10px 0px 0px; */\r\n  top: 0px;\r\n  left: 0px;\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  /* top: 40%; */\r\n\r\n  z-index: 9999;\r\n\r\n  overflow: hidden;\r\n}\r\n\r\n.neWRl_YLIL0eS2gHIi3u {\r\n  background-color: #FFFFFF;\r\n  position: absolute;\r\n  border-radius: 10px 10px 0px 0px;\r\n  bottom: 0;\r\n}\r\n\r\n/* @media (max-width: 600px) {\r\n  .modalWrapper img {\r\n    width: 15%;\r\n  }\r\n} */\r\n\r\n.y4fVWvuA0xuayUPTGA_m {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 0 15px 0 15px;\r\n  padding: 5%;\r\n}\r\n\r\n.CuRzjcxroZ61CehwTzpz {\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  line-height: 20px;\r\n  /* identical to box height, or 125% */\r\n\r\n  text-align: center;\r\n\r\n  /* dark-low */\r\n\r\n  color: rgba(0, 8, 38, 0.44);\r\n\r\n  position: relative;\r\n  left: 1%;\r\n}\r\n\r\n.MvX53fI7SmRk_9GDY0Aa {\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  line-height: 24px;\r\n  /* identical to box height, or 120% */\r\n\r\n  text-align: center;\r\n  letter-spacing: -0.6px;\r\n\r\n  margin-top: 10%;\r\n}\r\n\r\n.vlhWRZk0oERO9MEGXmCc {\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: 24px;\r\n  /* or 150% */\r\n\r\n  text-align: center;\r\n\r\n  /* dark-medium */\r\n\r\n  color: rgba(0, 8, 38, 0.6);\r\n\r\n  margin-top: 3%;\r\n}\r\n\r\n.w3sa2IRlAdKaw4sMuuEz {\r\n  width: 100%;\r\n  max-width: 312px;\r\n  border: none;\r\n  display: flex;\r\n  border-radius: 48px;\r\n  height: 48px;\r\n\r\n  color: var(--cor-background);\r\n  background-color: var(--cor-primary);\r\n\r\n  text-align: center;\r\n  cursor: pointer;\r\n\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  font-family: var(--font-family);\r\n\r\n  -webkit-tap-highlight-color: transparent;\r\n\r\n  margin: 5% auto 0 auto;\r\n}\r\n\r\n.w3sa2IRlAdKaw4sMuuEz p {\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n  line-height: 21px;\r\n  /* identical to box height */\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  text-align: center;\r\n\r\n  color: #ffffff;\r\n}\r\n\r\n.nS7cV8fZAFLFIlx6mOuE {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  padding: 100%;\r\n  background: #000000;\r\n  mix-blend-mode: normal;\r\n  opacity: 0.5;\r\n}\r\n\r\n.CcMXFZ8joiSEuAjVVq0v {\r\n  height: 24px;\r\n  left: 5.88%;\r\n  right: 5.88%;\r\n  top: calc(50% - 24px / 2);\r\n\r\n  font-family: var(--font-family);\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  /* identical to box height, or 150% */\r\n\r\n  text-align: center;\r\n\r\n  color: var(--cor-primary);\r\n\r\n  margin-top: 5%;\r\n}\r\n\r\n.BgaKj2Ab_YuTltyzZmRq {\r\n  right: 0px;\r\n  top: 0px;\r\n\r\n  width: 16px;\r\n  height: 16px;\r\n\r\n  position: relative;\r\n\r\n  left: 10%;\r\n}\r\n\r\n.fE6KmJH1cgdUT2MS1f4E {\r\n  margin-top: 0px;\r\n}\r\n\r\n@media (max-width: 375px) {\r\n  @media (max-height: 667px) {\r\n    /* .wrapper p {\r\n      color: #585858;\r\n      font-size: 14px;\r\n      margin-top: 38px;\r\n      margin-bottom: 10px;\r\n    } */\r\n  }\r\n}\r\n\r\n@media (min-width: 600px) {\r\n  .P0cKkuROUIHnWEHRgsIQ {\r\n    background-color: #f5f7f9 !important;\r\n  }\r\n\r\n  .P0cKkuROUIHnWEHRgsIQ div {\r\n    position: relative;\r\n  }\r\n\r\n  .hiX2fhtLfaBaOmSzWM7x {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    /* height: var(--size-footer); */\r\n    /* padding: var(--spacing-padding); */\r\n    width: 445px;\r\n    margin: 0 auto 0 auto;\r\n  }\r\n\r\n  .coHxhlf1Er18UvNCYdjU {\r\n    background: none;\r\n    border-radius: 10px 10px 10px 10px;\r\n  }\r\n\r\n  .CdfKCdt03f_xU7f8qreb {\r\n    margin-top: 3%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n  }\r\n\r\n  .Nk8qVvyX90seYw8FY1N6 {\r\n    border: none;\r\n    display: flex;\r\n    border-radius: 48px;\r\n    height: 48px;\r\n    color: var(--cor-background);\r\n    background-color: var(--cor-primary);\r\n    text-align: center;\r\n    cursor: pointer;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-family: var(--font-family);\r\n    margin: 8px auto 0 auto;\r\n    -webkit-tap-highlight-color: transparent;\r\n  }\r\n\r\n  .LSbY7lZjojHuy8DdBbkd h4 {\r\n    font-size: 18px;\r\n    text-align: left;\r\n    position: absolute;\r\n  }\r\n\r\n  .IUek4SFhXlsBHBJCZ43N img {\r\n    margin-top: 0px;\r\n    position: relative;\r\n    top: 6vw;\r\n  }\r\n\r\n  .IR5OQKDwjl7RuMqhFCgZ {\r\n    text-align: center;\r\n  }\r\n\r\n  .r34BS_jZySMrjJPnJady {\r\n    margin-top: 5%;\r\n  }\r\n\r\n  .Fr3BPR94HYNkMvIpeDBW {\r\n    word-wrap: break-word;\r\n    word-break: break-all;\r\n  }\r\n\r\n  ._J37W_At53VSGK1j6rYo {\r\n    color: #333333 !important;\r\n    text-align: center;\r\n    margin-top: 150px !important;\r\n  }\r\n\r\n  .x8HPNXxtSPeo9FF3X4ZX {\r\n    color: #585858 !important;\r\n    text-align: center;\r\n  }\r\n\r\n  .neWRl_YLIL0eS2gHIi3u {\r\n    background-color: #ffffff;\r\n    position: absolute;\r\n    border-radius: 10px 10px 0px 0px;\r\n    padding: 50px;\r\n  }\r\n\r\n  .jGgP9fmLTBxDDXOe9e8b {\r\n    width: 100%;\r\n    max-width: 312px;\r\n    max-height: 48px;\r\n    border: none;\r\n    display: flex;\r\n    border-radius: 48px;\r\n    height: var(--size-button);\r\n\r\n    color: var(--cor-primary);\r\n    background-color: none;\r\n\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    cursor: pointer;\r\n\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n\r\n    margin-top: 20px;\r\n\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    font-family: var(--font-family);\r\n\r\n    -webkit-tap-highlight-color: transparent;\r\n  }\r\n\r\n  .qghQW5oxHAFnJmXmIHcm {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    margin: 25px auto;\r\n  }\r\n\r\n  .wiHVa8zJTx1dCHAwaNpb img {}\r\n}\r\n\r\n/* NOVOS */\r\n\r\n.FG76ixMS059bhUBM0X7l {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n}\r\n\r\n.snSA7fKCKRaldr2XYAqI {\r\n  color: #585858;\r\n  font-size: 16px !important;\r\n  position: relative;\r\n  top: 3vw !important;\r\n}\r\n\r\n.Bp5jP2S1yG5cnVokV9Bc {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  position: relative;\r\n  width: 90vw;\r\n  left: 5vw;\r\n  margin-top: 25px;\r\n}\r\n\r\n.BapxDXn7cuR4dahjniIU {\r\n  bottom: 10% !important;\r\n}\r\n\r\n.vJS_VahAuUgVMFxoZt1t {\r\n  margin-top: 0px !important;\r\n  position: relative;\r\n  bottom: 10% !important;\r\n}\r\n\r\n.qbN86J2Co5H_tJdjOYuo {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  width: 60px;\r\n}\r\n\r\n@media (min-width: 600.01px) {\r\n  .hMqTJs8Fn4XKBiutrV2A {\r\n    position: absolute;\r\n    /* top: var(--size-header); */\r\n    /* bottom: var(--size-footer); */\r\n    top: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    left: 0;\r\n    right: 0;\r\n    overflow: hidden;\r\n    padding: var(--spacing-padding);\r\n    margin: 16px;\r\n    height: 100vh;\r\n    justify-content: center;\r\n  }\r\n\r\n  .FG76ixMS059bhUBM0X7l {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n    bottom: 20vh;\r\n  }\r\n\r\n  .Bp5jP2S1yG5cnVokV9Bc {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    left: 0px !important;\r\n    width: 452px;\r\n  }\r\n\r\n  .IR5OQKDwjl7RuMqhFCgZ {\r\n    margin-top: 15px !important;\r\n  }\r\n\r\n  .uA0LMTriL5DgbnSEW6OT {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n    left: 0px !important;\r\n    bottom: 20vh;\r\n  }\r\n\r\n  .snSA7fKCKRaldr2XYAqI {\r\n    color: #585858;\r\n    font-size: 16px !important;\r\n    position: relative;\r\n    bottom: 3vw !important;\r\n  }\r\n\r\n  .P0cKkuROUIHnWEHRgsIQ {\r\n    background-color: #f5f7f9 !important;\r\n  }\r\n\r\n  .P0cKkuROUIHnWEHRgsIQ div {\r\n    position: relative;\r\n  }\r\n\r\n  .IUek4SFhXlsBHBJCZ43N img {\r\n    margin-top: 0px;\r\n    position: relative;\r\n    top: 0px !important;\r\n  }\r\n\r\n  .qghQW5oxHAFnJmXmIHcm {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 0 auto;\r\n    position: relative;\r\n    top: 0;\r\n  }\r\n\r\n  .tH8MeeTnknarOaY84i9O {\r\n    position: relative;\r\n    bottom: 20vh;\r\n  }\r\n\r\n  .sZyIV7zJzdfKDyZNV5M2 {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background: #f5f8fa;\r\n    border-radius: 8px;\r\n    height: 202px;\r\n    width: 226px;\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n    padding: 3px;\r\n    text-align: center;\r\n  }\r\n\r\n  .CdfKCdt03f_xU7f8qreb {\r\n    margin-top: 3%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    position: relative;\r\n    top: 30px;\r\n  }\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n  .r34BS_jZySMrjJPnJady {\r\n    margin-top: 175px;\r\n  }\r\n\r\n  .OkuU4L7SDoWiwkaslAsk {\r\n    position: absolute;\r\n    right: 15px;\r\n    top: 0px;\r\n    margin-top: 0px;\r\n    width: 16px;\r\n    height: 16px;\r\n  }\r\n}",""]),y.locals={componenteContainer:"eSZaNmEyWTZdlQ2p_yXB",escondido:"_QQUoDvZxUX0auRwtgFB",textoBranco:"r4dx9oqHZpi_RFovjVZ_",textoPreto:"MqJimDyefRH1AXvVtDc6",fundoBranco:"qzpfPkyzm4TEZbq9jXac",fundoAzul:"CULIAVvnTkExi3sd00Qq",fundoCinza:"zMp7xbRc29xIRnYm04Hl",fundoTransparente:"mjkWz0jWIUHxRA3r6tT5",wrapper:"LSbY7lZjojHuy8DdBbkd",wrapperBgChange:"P0cKkuROUIHnWEHRgsIQ",cameraSubtitle:"WBYaISF3xhqd6hzDVtEK",secondaryButtonTextStyle:"kb4oSn4S9JnJqsA2SMjV",secondaryButtonStyle:"jGgP9fmLTBxDDXOe9e8b",nextButton:"Nk8qVvyX90seYw8FY1N6",errorButtonIcon:"OkuU4L7SDoWiwkaslAsk",errorButtonExit:"nlUwQ8nVAg3_5CAE1F66",errorButton:"JeIyECCrn3l1iyN1JuT6",header:"tYNtobt7KXh4p0plbrqW",headerLeft:"fNAeNZGNWgkM8MPEJ_Sj",headerRight:"UTBlPeeGSkat2_d4QS3P",footer:"hiX2fhtLfaBaOmSzWM7x",roundedFooter:"coHxhlf1Er18UvNCYdjU",main:"hMqTJs8Fn4XKBiutrV2A",content:"_4HpMkFanaF_hK1yBx74",logoHeader:"m9xD0VzFWaXPJRo770Gj",setaTrasBranca:"T2BbvZ3TjEXT5JXQ7iWz",setaTrasEscura:"rV7w2YLhJ2mjBraPLC7A",sairBranco:"F0kMYIn1OWsE19ay7tiS",sairEscuro:"AhUkZoXNSM00B7N_odEE",liberarCameraIcone:"IUek4SFhXlsBHBJCZ43N",loadingContainer:"jQc1BH6XN8kc6XBCqGx7",loading:"yhgeQSIss4CMkYlFCEwf",loadingImg:"RqYJkUkeWBugPdHTtCAP",errorDocIcone:"qghQW5oxHAFnJmXmIHcm",errorTituloImg:"_J37W_At53VSGK1j6rYo",errorDescricaoImg:"x8HPNXxtSPeo9FF3X4ZX",loadingProgressImg:"TeQ5x6b6We9lHtPiAKod",loadingProgressImgFotografar:"g24kfTg7rd5VVRFG1PQR",loadingTituloImg:"LAfCOtDdaY4Sxtp9nvjg",loadingDescricaoImg:"NWt9TiIjnI1MdxC3V4TN",documentoIcone:"UEBAqUPjllK67KM9cWM_",erroContainer:"GKl3zDlfHGUE49t35cDr",avisoContainer:"FALIleMKpwZyVAXkLb8E",iconeAlerta:"XHXyxDJwMRVtch7xXBFy",dicasHeader:"rYC7dTldcYhFw7iitM5_",headerOculto:"WwqXpAJeFb9zXrZBrLkW",headerSubtitle:"IR5OQKDwjl7RuMqhFCgZ",dicasBoxes:"CdfKCdt03f_xU7f8qreb",iconeDicasCheck:"NdAiD8GY097mAtd4by1Q",dicasRow:"QLCzDabS4_7wDv3ci4KT",dicasSpacing:"sZyIV7zJzdfKDyZNV5M2",centralizarTexto:"_4eVjSOYT3k2QnZWLEzE",abaixarBotao:"r34BS_jZySMrjJPnJady",modalMaster:"JNk3Eclduc0dNfTAPAwL",modalWrapper:"wiHVa8zJTx1dCHAwaNpb",modalBody:"neWRl_YLIL0eS2gHIi3u",divModalHeader:"y4fVWvuA0xuayUPTGA_m",modalTitle:"CuRzjcxroZ61CehwTzpz",modalHeader:"MvX53fI7SmRk_9GDY0Aa",modalText:"vlhWRZk0oERO9MEGXmCc",modalNextButton:"w3sa2IRlAdKaw4sMuuEz",modalBackground:"nS7cV8fZAFLFIlx6mOuE",modalSecondaryButtonText:"CcMXFZ8joiSEuAjVVq0v",modalErrorButtonExit:"BgaKj2Ab_YuTltyzZmRq",normalizeButton:"fE6KmJH1cgdUT2MS1f4E",quebraDeLinha:"Fr3BPR94HYNkMvIpeDBW",dicasContainer:"FG76ixMS059bhUBM0X7l",cameraTexto:"snSA7fKCKRaldr2XYAqI",dicasHeaderContainer:"Bp5jP2S1yG5cnVokV9Bc",erroTitle:"BapxDXn7cuR4dahjniIU",erroSubtitle:"vJS_VahAuUgVMFxoZt1t",modalImg:"qbN86J2Co5H_tJdjOYuo",dicasHeaderContainerCamera:"uA0LMTriL5DgbnSEW6OT",erroIconeDiv:"tH8MeeTnknarOaY84i9O"};const N=y},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var i=0;i<this.length;i++){var u=this[i][0];null!=u&&(o[u]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&o[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{"use strict";e.exports=function(e){return e[1]}},570:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},s={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(s[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=u(e,e<0?-1:0,!1),o&&(a[e]=n),n)}function i(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=h)return k}else{if(e<=-m)return A;if(e+1>=m)return v}return e<0?i(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=i,n.fromBits=u;var l=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var a=i(l(n,8)),s=g,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+u),n);if(u<8){var p=i(l(n,u));s=s.mul(p).add(i(c))}else s=(s=s.mul(a)).add(i(c))}return s.unsigned=t,s}function c(e,t){return"number"==typeof e?i(e,t):"string"==typeof e?d(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=d,n.fromValue=c;var p=4294967296,h=p*p,m=h/2,f=o(1<<24),g=o(0);n.ZERO=g;var y=o(0,!0);n.UZERO=y;var b=o(1);n.ONE=b;var w=o(1,!0);n.UONE=w;var x=o(-1);n.NEG_ONE=x;var v=u(-1,2147483647,!1);n.MAX_VALUE=v;var k=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var A=u(0,-2147483648,!1);n.MIN_VALUE=A;var E=n.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(A)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=i(l(e,6),this.unsigned),s=this,o="";;){var u=s.div(a),d=(s.sub(u.mul(a)).toInt()>>>0).toString(e);if((s=u).isZero())return d+o;for(;d.length<6;)d="0"+d;o=""+d+o}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(A)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return!(1&~this.low)},E.isEven=function(){return!(1&this.low)},E.equals=function(e){return r(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(r(e)||(e=c(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(A)?A:this.not().add(b)},E.neg=E.negate,E.add=function(e){r(e)||(e=c(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,s=65535&this.low,o=e.high>>>16,i=65535&e.high,l=e.low>>>16,d=0,p=0,h=0,m=0;return h+=(m+=s+(65535&e.low))>>>16,p+=(h+=a+l)>>>16,d+=(p+=n+i)>>>16,d+=t+o,u((h&=65535)<<16|(m&=65535),(d&=65535)<<16|(p&=65535),this.unsigned)},E.subtract=function(e){return r(e)||(e=c(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=c(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(A))return e.isOdd()?A:g;if(e.eq(A))return this.isOdd()?A:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,s=this.low>>>16,o=65535&this.low,l=e.high>>>16,d=65535&e.high,p=e.low>>>16,h=65535&e.low,m=0,y=0,b=0,w=0;return b+=(w+=o*h)>>>16,y+=(b+=s*h)>>>16,b&=65535,y+=(b+=o*p)>>>16,m+=(y+=a*h)>>>16,y&=65535,m+=(y+=s*p)>>>16,y&=65535,m+=(y+=o*d)>>>16,m+=n*h+a*p+s*d+o*l,u((b&=65535)<<16|(w&=65535),(m&=65535)<<16|(y&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(r(e)||(e=c(e)),e.isZero())throw Error("division by zero");var n,a,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;s=y}else{if(this.eq(A))return e.eq(b)||e.eq(x)?A:e.eq(A)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:x:(a=this.sub(e.mul(n)),s=n.add(a.div(e)));if(e.eq(A))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=g}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),d=o<=48?1:l(2,o-48),p=i(n),h=p.mul(e);h.isNegative()||h.gt(a);)h=(p=i(n-=d,this.unsigned)).mul(e);p.isZero()&&(p=b),s=s.add(p),a=a.sub(h)}return s},E.div=E.divide,E.modulo=function(e){return r(e)||(e=c(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return u(~this.low,~this.high,this.unsigned)},E.and=function(e){return r(e)||(e=c(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return r(e)||(e=c(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return r(e)||(e=c(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},391:(e,t,n)=>{var r=n(180),a=n(181),s=n(31),o=n(67),i=n(833),u=n(717),l=n(801);l.alea=r,l.xor128=a,l.xorwow=s,l.xorshift7=o,l.xor4096=i,l.tychei=u,e.exports=l},180:function(e,t,n){var r;!function(e,a){function s(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new s(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.alea=i}(0,e=n.nmd(e),n.amdD)},717:function(e,t,n){var r;!function(e,a){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.tychei=i}(0,e=n.nmd(e),n.amdD)},181:function(e,t,n){var r;!function(e,a){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xor128=i}(0,e=n.nmd(e),n.amdD)},833:function(e,t,n){var r;!function(e,a){function s(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,s=t.i;return t.w=r=r+1640531527|0,n=a[s+34&127],e=a[s=s+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[s]=n^e,t.i=s,n+(r^r>>>16)|0},function(e,t){var n,r,a,s,o,i=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,s=-32;s<u;++s)t&&(r^=t.charCodeAt((s+32)%t.length)),0===s&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,s>=0&&(o=o+1640531527|0,a=0==(n=i[127&s]^=r+o)?a+1:0);for(a>=128&&(i[127&(t&&t.length||0)]=-1),a=127,s=512;s>0;--s)r=i[a+34&127],n=i[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,i[a]=r^n;e.w=o,e.X=i,e.i=a}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xor4096=i}(0,e=n.nmd(e),n.amdD)},67:function(e,t,n){var r;!function(e,a){function s(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xorshift7=i}(0,e=n.nmd(e),n.amdD)},31:function(e,t,n){var r;!function(e,a){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xorwow=i}(0,e=n.nmd(e),n.amdD)},801:function(e,t,n){var r;!function(a,s,o){var i,u=256,l=o.pow(u,6),d=o.pow(2,52),c=2*d,p=u-1;function h(e,t,n){var r=[],p=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(s)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(u):(e=new Uint8Array(u),(a.crypto||a.msCrypto).getRandomValues(e)),b(e)}catch(e){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,b(s)]}}():e,3),r),h=new m(r),w=function(){for(var e=h.g(6),t=l,n=0;e<d;)e=(e+n)*u,t*=u,n=h.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|h.g(4)},w.quick=function(){return h.g(4)/4294967296},w.double=w,y(b(h.S),s),(t.pass||n||function(e,t,n,r){return r&&(r.S&&f(r,h),e.state=function(){return f(h,{})}),n?(o.random=e,t):e})(w,p,"global"in t?t.global:this==o,t.state)}function m(e){var t,n=e.length,r=this,a=0,s=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<u;)o[a]=a++;for(a=0;a<u;a++)o[a]=o[s=p&s+e[a%n]+(t=o[a])],o[s]=t;(r.g=function(e){for(var t,n=0,a=r.i,s=r.j,o=r.S;e--;)t=o[a=p&a+1],n=n*u+o[p&(o[a]=o[s=p&s+t])+(o[s]=t)];return r.i=a,r.j=s,n})(u)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(e){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(y(o.random(),s),e.exports){e.exports=h;try{i=n(234)}catch(e){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},o=[],i=0;i<e.length;i++){var u=e[i],l=r.base?u[0]+r.base:u[0],d=s[l]||0,c="".concat(l," ").concat(d);s[l]=d+1;var p=n(c),h={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var m=a(h,r);r.byIndex=i,t.splice(i,0,{identifier:c,updater:m,references:1})}o.push(c)}return o}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var s=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var i=n(s[o]);t[i].references--}for(var u=r(e,a),l=0;l<s.length;l++){var d=n(s[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=u}}},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},952:e=>{"use strict";e.exports="data:image/gif;base64,R0lGODlhyADIAPcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQICAgMDAwQEBAUFBQUFBQYGBgcHBwgICAkJCQoKCgoKCgwMDA0NDQ8PDxAQEBISEhMTExQUFBUVFRYWFhcXFxgYGBoaGhwcHB0dHR4eHh8fHx8fHyEhISIiIiMjIyQkJCQkJCUlJSYmJicnJygoKCkpKSsrKywsLC0tLS4uLi8vLzAwMDIyMjMzMzMzMzQ0NDU1NTU1NTY2Njc3Nzc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEJCQkJCQkNDQ0REREVFRUZGRkdHR0hISEhISElJSUpKSktLS0xMTE1NTU1NTU5OTk9PT1BQUFBQUFFRUVFRUVFRUVJSUlJSUlNTU1NTU1NTU1NTU1NTU1NTU1NTU1RUVFRUVFRUVFNTU1RUVFRUVFRUVFRUVFRUVFVVVVdXV1hYWFlZWVtbW11dXWBgYGFhYWRkZGdnZ2lpaWxsbG5ubnBwcHFxcXNzc3Z2dnd3d3l5eXp6enx8fH19fX5+foCAgIODg4aGhoeHh4iIiImJiYuLi42NjY6Ojo6Ojo+Pj5CQkJKSkpOTk5SUlJaWlpiYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKCgoKGhoaKioqOjo6SkpKWlpaWlpaampqampqampqenp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6ioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKurq6ysrK+vr7Gxsba2trm5ubq6uru7u729vcDAwMXFxcvLy9DQ0NLS0tTU1NbW1tfX19nZ2dvb297e3uDg4OPj4+bm5unp6evr6+3t7e7u7vDw8PHx8fLy8vPz8/T09PX19fb29vb29vf39/j4+Pn5+fr6+vz8/P7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/iH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBAAFACwAAAAAyADIAAAI/gALCBxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnz4IndECBosMEkA9E3LhSZIUFkCukALLzQ8PcDkHa6N6dQ0LHNpiCCR/epWOdaP+SKy8UN8fu57qdhNgYfLj1YIFEZMygTLn35Mli/rg9Ab18m+kY7Vxf7wgERkzf409jwdZCFfPQwbi3WGO9/0UcWLRFfARGY8JaM+BX3hYfWJSIf/4lkkFF0BBIIDTooUWEguVh0QFFGUAIISIXTBSChRY+EyBaUnBYXhUbTPSDiBAWUoFEZaBooTMYoLWFi+VNYVtEVdAI4SAQRASIjhYqc5pZSQBZnhQ9QmSDkRAGwgBEUjBpYTINmOWclNA9UaVDIGAJ4R8QreClhceYRR6Z0DXx2kOIqOlfHxA98yaBqZj1A53QLXGjQzTo6d8eDznxJ4GilIUBFoQ+l4RvDqmn6HV6PPTIo/FtUtYIlT6HRAQOKQDIptflkSoy/qB+d0lZc5bahhEPOPSAIKxad4dDEXQXq3KTlJWCrboRsWVDExTS63B2OHRBM8Mq50hZLCDbhhAKSJvns8HM4dAGflb7jyJlvaAtEA9l8CC4bTgUAnLmIlJWDNr28BAHjIAbzBYOmSCNuf8QUlaCyPLwEAiP+HuFQyxUQ3AgZdmgbQ4PiTCJv1I4FAM2BPtR1pi23vDQCZf464RDN2xDMKNk8aBtDQ+tkIm/SzjUQzcEu0oWENrO8NALnfh7hENEhEPwr2QNoa0MD8Ugir9DOKSEOQTXUVYR2ornUA2p+MtuQ1G0Q3AcZCmAhLYvPJSDv6no4BAWBLeTBVkMLKGt/gsPzQjuKCY31AbB6ExBFgROaEufQ0P4+4nQDdVBsDhMkCVBFNqm8NAR/m7iNUN3EOzN0WNZQIW2Jzy0hL+YtOCQHgRzIwRZGFyh7YEOOeGvJSg4xAfB2sg9VgY/IkvCQ1P4OwnuDP1BMDY0j7VBGdpmyBAW/j4yJEOCEFwN82F1oO0SyzYEhr9aO2QIwZqUBULXEMnx9/EOJUJwvGSFoC2qD9UBbrQPaYS5oGEWUtkqRhDRFKvQBRFJVCscZ6kVoVIXETw8q0QQuUS1emcWvVXKdRE5wSx6Rb+H3MAdwxIeWdZWqv08JARTY1UmIvKCclTrTGLhmq3u5BAObOJZ/nx6iAm8Ua1qlEUIyDICRDCQsmcl4SEfcFm1IkGWQdmqCwhsiAUkAS6KOUQD1xjgk8KiA8U9JAKN8BffGlKBgZlLCWO5AfwcwoB3PatqDWlAhcxFh7HQQFs0gIghjPYQZyxtLPhClg0gwitw5cwhwqpWp8SiLmQFziF/8FcUHmIMggUxLNlClgobwgd/VeEhoyAYIMaCgnxBJA/+AphDMkEwg4lFgpUam0Pu4C/8NWQSBLOXWEigrSEs4CF08FcfHbIIgi1iLCLQVhHC5JA2+AuADUEEwR4xFv0h6whJcsgW/IWHhwyCYJYYywe0damHUMFfPmvIkszVPrF0gHq2/jLUQ57gL5iRkmCREssGilcqO6nOX59kCOzMNYuxaMB2tjLT5vy1yl0SLE5iwcAUkCWFCTHOX4KgJkMkZy5lhBMsF3gCsqiwPYb47VmFGONCcmQuZmAQLBZgArI85DZ/kcghVyDYM7L4lQkoAVkMekgNSgGuRLRUIU9YxwCt55UIsLBUYKCqQmLgCXAx4kMNSYLSqiUNCoLlAUbQlnYc4oLq9OoRWkXIELhhLmqsESwM2BCyRvAQFFgCXJMo4UJ0oA1zYQNyYFEAEpEFvoWQYGPP4h2iQFat4I1FZsjiYEMukMZnZQKEDNmAG4fVjdmJpZXIWsErwdWJzzEEPtUC/scTM0opW4G2IUYAlyii1xA7mMscTyALLunUNojs4VmnwNhDPlGtdjyMLDWwlWsdoohn/SAi9IqVL8eiV0JBTSIx3BQeIWLDWKWvLNElVCAnUglWIWEio/1TOc8STTotkiKN1FPlJgLMR03yLBag0yUnwks9bZIioftTQs9iRRcpzCIvOIWaTlkRDITRSxVdSxdcdF2MrM5IxbnIE7zEnLZsgEP3zYg1ITQKw2VEmxZCB5vewgCS7UYKgs0ICQ6xHkPcFiM0KJd3nBGEuYTABTk4QgxAkCuPQGAIcvgDH6KgWo9MoA6JOEYp+tBh0Hj5y2AOs5jHTOYym/nMaE6zP5rXzOY2u/nNcI6znOdM5zrb+c54zrOe98znPvv5z4AOtKAHTehCG/rQiE60ohfN6EY7+tGQjrSkJ03pSl8mIAAh+QQJBAAEACwAAAAAyADIAIcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQECAgIDAwMEBAQEBAQFBQUGBgYHBwcICAgJCQkKCgoLCwsNDQ0ODg4QEBARERESEhITExMVFRUWFhYXFxcZGRkbGxsdHR0eHh4fHx8fHx8gICAhISEiIiIjIyMkJCQlJSUlJSUmJiYnJycoKCgpKSkqKiosLCwtLS0uLi4vLy8xMTEyMjIzMzM0NDQ1NTU2NjY2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+Pj4/Pz9AQEBBQUFCQkJDQ0NERERERERGRkZHR0dISEhJSUlLS0tMTExMTExMTExNTU1OTk5PT09QUFBQUFBRUVFSUlJSUlJTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NUVFRUVFRVVVVaWlpcXFxeXl5hYWFjY2NmZmZoaGhqamptbW1vb29wcHBycnJ0dHR2dnZ3d3d4eHh5eXl7e3t8fHx9fX1+fn6AgICCgoKFhYWGhoaHh4eIiIiJiYmLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSWlpaYmJiampqampqbm5ucnJydnZ2enp6fn5+goKCgoKChoaGioqKjo6OkpKSlpaWlpaWmpqampqampqanp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6eoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirq6usrKyvr6+xsbG2tra5ubm6urq7u7u9vb3AwMDFxcXLy8vQ0NDS0tLU1NTW1tbX19fZ2dnb29ve3t7g4ODj4+Pm5ubp6enr6+vt7e3u7u7w8PDx8fHy8vLz8/P09PT19fX29vb29vb39/f4+Pj5+fn6+vr8/Pz+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v4I/gAJCBxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnz4IlbDBxggMFkA5A1JASBEUFkCia9JmzI8PcCzve6N4tREPHN5iCCR9+paOcaP+SKxcU98WV3dDfXFGxMfjw68H8gMh4QZny78mT/r1w2"},842:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACsSURBVHgBnZCxDcIwEEW/I1EgGkagoqExG8AIbMAIsIE3gQ0YgRHihoKOEdygFJGS3EVOlDiOE+d3d773dGeBBfke1KMEZLbCWSAyFr7aUicRrAvXmb2BB9bZn05Id2q73uBFq+j9R91j4ONPmYTgNzVOBXDjwRiYC/4D07zwYFcyBXNEKumEvN5Ctk3g2QhDsJ0FfBInXrgVTEhG4Z5gRBKEBwJHYgi+hGBOBd86awiEEkctAAAAAElFTkSuQmCC"},437:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABjSURBVHgBtZPRCcAgDAWPTpL9l3CUjmIt5EeoeanBQFDk3oFiAGx08zVbU+bd9NF3UmLOds9OB0qyZDMSyUSADEdgOryS/Ap/ScLwxYEyClcwCo8YgVIiAYq/MGQb1Idpe5wf7xhOM/vl1b0AAAAASUVORK5CYII="},860:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABlSURBVHgBrZPbCUAhDEPLneTuv0RHcZT4oD+KrZEaEEWSo/UhAP7WtPdCasrYoKswEAsXy+g6EUJcLwM5eiIDvcud8aZED8KHHUgY/uS1UiWkDjF1jcwqyLzCEIJHn0mZ8AIZmQo+U9K8w/Li/QAAAABJRU5ErkJggg=="},506:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAQCAYAAAD0xERiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB/SURBVHgBvZP/CYAgEIWfTuAIjlAjtEEb1CiN2Aa5gW1g76A/JAziTvrgeSj44Q8OeKGUEpmD2WChEgkztDxEK7RUotxTNECLbO4pymYRcXIi1sjszAk9yXMI9yTARqivKW8WYaXbT/4l1LdRQygssKIV+taicy6xTIzUER+5AMMnvcPaC27jAAAAAElFTkSuQmCC"},656:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAQCAYAAAD0xERiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADlSURBVHgBrZPBCYMwFIZfYvFsdQFBFI91BDfoBq2btRO0G7Qb6FEUaRYQvIva96QFBVMS7QfBxMPH/z+NARLCMHRt204dx9nXdf0EBbhM1Pf9A7du13UZKMJ/iYZhSKqquoMiXCKySFSW5QU0YBJRjCLlerNkvu8ftorGZCRijJEItohGWRAEL3y6uDKUNbASDCSopvU5W7ANa0fVvjXbtk0EAivhNCPOeUQH0zRTmiGs5P+/BpHnucCEMW4bqu153hE0md2AqdAwjBt+6RNowJZeTu8nrnNRFFfQTbaQUOD8IlDkDbM9f/ykEYOgAAAAAElFTkSuQmCC"},784:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAxCAYAAACLfLrrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALHSURBVHgB3ZqNdaMwDMdFJ8gG9QjZ4HIb3G2QTtDeBMkGTSdIb4KMQDdoN0g3SDuBKhXxMBT8hQ04//f84IElEDI/ZCcAEwkRd9TOWIm3R2oruCZJUKyL7JdawNcRLAWylaD2neN7Of4IuYuCUJK188D5OrMbyFnakN0OnFdyvoRcpQVxtPSrh/AD5CiNsMrSbyV9L9mBaQhAhv6b7MBkA5DBrswKTDYAGeyUDN/lg8kVQAb7PMDkCiCD/fLBRDd27wMgg5/lgskHQC7ZXiyYNAD9MfRR2J69rC19lwUmvmEXAGlZOkgQZ0v/ZYFJg4dy6FfK/jNHYOkfFUw3MEIMINooak9FUbxDRJG/D9rcUeMgdzCX0LMC8s2oZlfGANOYjPJTVtT+QVpxVj9gjqy6AqhjE5RR6T8PmFwB1GMTGuhoMHkPXbpQPWSjA2hIk4NJ+5B7TcHENjijmo8yFEy+GeWnyU/1DuZRDaZ0dTCXd74A6tiPzqjYpgVT/c3E8ClYrECDwOQ0dOcA0JA6YIo3hMcAqOMnSkY1fycfMLlktAbQX1iWuCJzBpMxUKzml1tqzzRk3mBBklfoidp6NJjGAqjHV7Sh2/FrBdONwUEKAKVY8AoHEzbLlqMA1PFZ1t9hDFjgtvj2ApNueBTDNUQStteMLgl8+30ZsPndJKgCcrkpSCCtYtq7GkQD0NRC1+kjVn+oYG0hQ2Gz+H0ydYoOoJ5r7AQc95BI9adrEEwagBQkEPl9xLaSTLWwKvr7wZQaQHKNM7VX2S/5ZiCRyPdDL5imABC2K6Pv7x4kFD/UFpimAhA2BcNJbuAVEuoHmCTyZADSLqzkWihBK0gs7eGuIPW7OaewKSJuuah/h6p4v0bdyvZTj3q+H3ISqPuOFljN4xgMitoLVBnOXYraBqpYfvM0s+CjEuyB2i+4jmHMSyz/qR3qufQXPlzDwGlTeW8AAAAASUVORK5CYII="},14:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAAiCAYAAAAwG6WQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnMSURBVHgB7VrNbyNJFX+vuu3EE0GMOIFWml4JCQRo40QzEhcUG/6AtTO3vYytzXdGmuSAhJjDOGKRuMVBk4mdYRVH4oAEmjgSF07TuXAAdsa57QE0PRIHOIB6WTaT2O4q3qv2R9uxnQ9NJtkoP8l29+vq6upXr371q1fGb6R+9QxBxcGHU1Uy9d7Nd1bouG5Dx0OV+d4fP9lEAIstisp5ChL5T3/pQBAT+W36TkI/KCwDqjJItQylOQdOi4nCQ1DUXlQxalu0T0mHnpGhZ9hwSSACjmZYYQB6CQjYlCU8ZTUczeBjM3CukVzn8/6O1jezkyBNT34Gyc0onAYTBQoClaUGxI9xNMMC0dHGC4YJ5waK3CPAEWh1CDmjkqbfHJwEujPVYqt6sKnjdnvfoFx4Ol+ESwSTotQlWmhGSVWfKwcBrYYNFTUc6aPwpJHowNO5bNcrdwoviAZi+lgpq2lPrpFNHK2/RQPxtvq3ZxNwVvij0OqwOk1a6369jsEylDLu0Tp7tD9QrzkciSSqPnWAkp7zt9/O2V/9YIP4zrfVzJDzh99k7B9+92eOUL6tAsL56NOPbDgLJHdc/Zg70H+5uKaVbpjIU8fNvttmU+DCWXAnf586ONuVgnikACQguRIl+nnRm6YOuU05atNSq40FGnFqpedzJ/Ileu8l/PH9379kXm7YPYREcDKsNyTxo8pXNslJTRt6MJpyHpSbZTgaBL6sX3VBytSRhwoxrjm3Aane1b3e5mzuALTBDwCrXs6P4rYOwSWQNSonjjq+28SbXOd5YrPdqJ/l1t9xh0aLT1Op9SIgjsNRWIF7l5uj1y9/F/qjZAYdzeicDBmSz7HdVjNlH0pR0e6Rqhq/1BmQ6qFGVilqsm3O4YlOHpQAIlzeqtexAsKArpjI83exTfEIfNgqwB0VLnalA8b2XLqrvS0otHOzRwsFOkEHYGOUYPwcJ8h+oGgSyJFr9ynk+JEH3Ns2lJZcanwCUGzXFc1xSFO0WaCpgZzU6CSlOIKPn5S1Utq3jvKwHg3R3jQTao0e7ug7Bcefo1TU7JwMDQPKrKPbotvzyhSUTjC6zZrnQE8wjXiZ5hBtgXuauI2fR5GZXC/31MG+/WsdNoe+R31HHHRxOI0oxGRzSLNE9MtaraZBGfqBy+MhdehhnLzRp6A6mVgIzFHmezt/Gv239c0kn4T3992P/5wtf2BlRw8MX6INkjrJ/D1b/kk8O/r5f0PaNoCm++1PHjh9GuJCab7U9VKKogyh7gzk+mw4Lfzhb3e9llwhSRhp8afwhpkHTww8rOt4Bisw4TRHmB9sFpwRZjUy+GL4X/+xGoZ73/lpYrgS2hwOVPq7b/08ET4MbX59oMmX8I/bvxh95y8Pyqd/JN5sHcIwvHEMdok4owwNj6uuE18QI80jKRM0mgIigJXK4MsTLKi6wjzJZCh8PdxmU4bo90ALJtazR6z8oti2Ou2zKOkC1rJC9FmlCuo8FbxOsnHyFf2+glTe1s/mD6cVpFrtuNnXw4KoT9UnciFiRHVu23ud0dGMc5wgg7N/w9R25uiJ7zQwzM3mgqgrVOcDWw5VlCdBrSQs4FWswGTHrTbwZKpgF5qrXFJDAt4YBPVwi1tpkUGRbZNPgnzrCk/a0GZDt6bVQgAcFQpWoS/0KrSs5ZEcGG1JvwMeqo4vCUVvalKwBcfD0W1lbf50JtfWPrYptVVvQ+fkvae/9T3UPl2mL4qBdhX1c7nD/JHUAuKO/97H+eYa17jGNa5xmYBwxTEzs7DJchaV3NnYWD9+mX6OeIPC5nKCxGCcIiquULzP57OzsxZcEAy4YkgvLkZvfT/2g7GxW9bz5391bt26HacBTFkH3B27PXZAq7EXY2OxnefPn/8T3jIuKOt3fgjvVxYpm6YXVNPTc0uFwuNmXj2dXoyGQpXM0NCQAxeAC3H25Oy9eG3QLBdzOfck5Tlau5WdmppPP3nyuNj7ToymiTYGFDtflQuF3CrdA69fV1fod5fv5TqEwBEp1RYivI+UlvU8uUe/NpHsuKYgCctVQ7p+PbRtSNuElRvh1ZO2v4ELcTZNVsnw/iEvu/WE9eH0XJL5rHJjwDb/dxCjl49WKgN2OHwY98hu7FfuksMz/HKTk7NxfV2osvCTSsVg3VII21BqnB1CKY5SWIp0DeQOlXXYsYjCKhQeZabnFhanp+ez5NRxRC8jhPHQQ9z6df7R8tTMvRwloWK0iqSO8FKDQ4PuF6+r21yOn6HAeDZUrfJzT+Xstz5BcqT5OeVWQsdEjCsTndAXlSS9kEsOGQ9FPMq+YezjjXVOE+yxo5kGhBBxRRvPQ4ahKBqPJLLIWfZhJJQSQi5R5JYrlXDOAEH14l3kBBvKEVYoKGFECb20d/L5vEOdE+V7uQ7p50kodYPLnjI2P9+vxUW9HH+QRgmcAW/d2aakBBCHK6C1sLBQT7fiMFSrICk3gxhKSgoptirl51/IUYFULB0LGPY8r6dsHaAolMrQ+6HE0UkpvSI5OsZRTxslLt27Rc51nuQDFGTg7vTMwso0jzJUK4i0s4LyJnl+S6CMc2fwyOCPVBiHM+DtO1uoEnNlpRJaDIVCn7GNnEqOC+ko9kCUpRJ29bWxNzQU1skvaagtzdvFnKtMtUUybo8jrHG9Ex5paqzTi2FIm6mDKGKZI5dGzjKfk+P1qJD1VOvG+lpOUtKIR41ALyGonTUldFJpKBLObmw8Tkn0N5eVwNTa2tor+DLivLSvjsSZhWf8C+eAD6fvJScn78VPWv5SSD+OUjgHEBXEeVebxk2T2+vqY5z5vloNl5hmeKQRfSwqugEVRFmR8HW219XMfb73ED09CvhcKcmR7Qiz5rQUT12pCLnFEzPVc7NRD993pVeQRAVZJRUpDVnk84YaiURCS2hilNROmuUeczVRgyuANxTws0JhLcO7NBy1IZogfVnorfKxIfW/AqI3bgxQnTJWq5kW23WdVIYYcdH/HyQOcz3k8PjU1JTe8Lhyi5og6iOm2DQI/uOPvMk6m2dXKXBXgVhFqVaeFB4vkUq5u7GxpuWowlqJlQ9P5CiQItngyHR4J5Oi91WO1BFJRxo90iLTXs7X3O7MzLzt+WX8zQhQpHQGtPK60s7uBE2sJdL491mNkCPHqxGiEVIu5LFdphEuQw7kBdCeUuI+aeyMlGKEpOAuMYzLkycavJvUEkJUjqXgXVYxUoKllQq278oIAdGp+fnYlU9EBcFqhGTcUlONcCxKtfSk8GhRCkNrZ7ZzltCgBQyPjIYK0dqe1E/tYLDMiyUuy/RkEmdXD0MpoiHmepeVCpdhFdQoQ/zuGFKeagF05UEUsA3niP8D1t+AltwHEMgAAAAASUVORK5CYII="},752:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKkAAABCCAYAAAAsVvZuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAB5rSURBVHgB7V0JeFRFtj5V9/aShC1IMIADggygCCKLC49BVBjFBSWQweUpMEI6C0FxHLcZNTPzVBxFkQBJOuC4DkogILjgKIrjhiC4EEFWkYGwhZ0s3X2r6v3VWUw63R2CCcPS//d1cu+t9VadOnWWulWsVcK0XEU0iIhRdSglv/YIlV686J7dV03MG0ec/ZkUnVUjErHdSqmHP5o2cu7ECx6+WpKcwoidF5BRGTE+mbzx0zM3TfRQGNgTsy8Qgk1HvhcjoUnHCsa8KKeUkTqgGG1VxFdyRh9YFxYup4wMSScCgzKcZmy7/sTFUKWoB9qhA9q1Jd4jOrBt6wJTaj0x+aCVn/oBRUDsrOHTJNowaCsq5XumZ4dOj3Np7QAhRIfIY59jQ2G7X2/d+RkIpA8Fz0gJxnvPXPvENxQKiTOacGEuR0W6U4NAYUCwhYL4fZQ/fjs1IsyE7IFS0bOMEQYX49QQYHRISNmFFqTsoTMcPBSBasjig52J+VqFIVCNs1q0cDRVnM4OGYMxMAfZisLBsv+KKbqAGgzMgT+jTKYW07CnmlIjwRzuvgKcczFesU+DEaiGouamYXSmCKjhGvUXwzLCDZjjBZh4L8NsPpmGTnNQQ2PY1LMVU69iEDajBgYI/6DFfN9RBHTsct9/E4o8IF9fiFD9Ds7wGbA7qEnMNFyspwaEYdivxb9zwsfyix0+qhfUGoMZ98q8tKMUwSlApEzli567EsMqQH1ybNRB9DGU+SjiDw0So6lheQeKBiZSYsaNIUI84OCPSZPNobmu/4DTKqonBEVQibBEyuwxJUIZxRAoFQulXBH5LMsq83O7EFA6vVIldBzAtLexTg19lctHq2i5GDrtFh7l+J4F4W6M+LlBcmc06C9GyHzjvleUlxeSXvDuPVjwOj8i813P+ImTueiEIjHRoL3da1drEMmw7Tgoo26GVUd7hEYd7ayxLMMKFaQrdhC/FkEyLjbsMW98MnXEzqvuzpsH8XWkv7BqwI3EE3cepqX0Cx56WZHKAC3XaiCoEx/vVVFfUWPj3YmHKSHnU1zdUivMYDU7IfHZKC5yn2LUtl/I/EQbRQlDjuK9NklSr5Ox9LPqnYQXbVMrjaJS6ZB5x8M9jwvXzYg3nLZrUcc+qE9HEqwFDF+1CeJb6VMJOa/J/CS3np6qnt+cc57B2d246ldnWaKtoBGDDyPxRmapD8Shru/SsiutsGkS3IMNlXs3sbZhFGeMnYQcLRbtBT2tlUotI2Mn2jrDq0NNr+KdbVz1JSlrEJep2MY9C9M36+sPp44cdeXEN3oqZq+hJTNDHvioecE6fZ259sm/pfR48FWbR7at8V4m9+35fvNXeZR3QmYwpphBQehDCrGr+j0vo0nMptKpTihNjEOQaQqJwW+Iob8ZjcFQMWvoQRtgX+ZUSodlGTU2bshpbzjoflRvrLbFsmr1DYryqfBSMyF3s5VPVfZXg9OzSDOMjhXK/8ZDMegnGi037AQRJov9he8E44T2Ybk9BZPv4NIWPlNWlbnuOoywR5kVv16NnDlJzEt91+z7q7hLiRvXMVlj9GGCpq8uGPTRT8swUtJ7PNIJ0/VtoPBmAXnvPc+w3LOIts/t/FArW3GzUYpk+xrv5MOY69zbm7cp72tqbAx9tRmx4suDhPgkM7+o8aT0cBzZYqieGGU4bPkYbXP1DdqzBM3bpHoENHKs6eTnocd2UWNh+KwLOYl5qEBXqh/ssmS/drZUESk4cLtfYFTBTKLyect2qeCF7sBAaVM3owAbHQcgX3YlaeSZw7OHmIzxhf6MAuoJj42knvvMjGUZLxRJzzI8OqfWq6CXnD5jIK4GmaLp0xA8RwdyFv/kL+Rtizo83XfYT3/8keoJpitLGTCVhZGnEjPsJON7GnT0MbzdOUEyWUT7dtRD3FAypM2Ts+upgkjRuZvwr3VgaZL4DBo+41ZakLaOGhqJz7bkwlqCsttRvaGKzJizP/ZWf8RZLnr6Qlwdr4nOYCQep8ScJZTn2hZQnp1+GWIwVz0LOY0FpXTQH/eUHbxm34XWUrR6SDMLiPCK8vhqYKgRCUJr6TXK9AiuN5Ei45uNhDbFRDlWyBoIGRWKqPCSm6SpHggnmFeDAIndJvbtzqe4OCcXtmy4Wm+vGYV3gALCtRKC2ebfKL1/rRoRXQQReC3krM1IvxdPwpfNFKwBfKti4jvDxz739d61OpSSY8iY5/EvGIFa6IMfUPaX6IefULli4upnelSYTUi9L+aP3VI9kZznyqFbcxci9CISKqTd3FBGLOOyFyo1DGV0C3iBVlyw8cj/UaK6ZXFEKEOsdxjn6/zyqCS74qoL1OsByDvQ9X5JWI1Oej1cSEsLeVQXwJFZSHnolyOMHVSXGcKrS2q1JPl7eiN1Mx0T1EoxP2Vuxc1RlpA1H0QZQKTSQcv8ThBpE8ZsyxTjqVbDVuE8FbiWIWixjMrlMY5MqcxYE/+ekZjziDfPtaZGvBvdcBmrWmYvtMA2uA7vEqWeT36Wl+uBOeN34++/wkWpUCjmQBZ+mtvV8sA1GhiMA+mOV6LpFSoOl4/mZhjYd4kFSXNqEjSUiZG510MVR5tTdQ7MTyKPU8MCb78FuuAomp9aH6/NwRp3zPQEyVj5zTmAZ9G4TWjmZ/zPGgoKA1Kxm4RQ/7KPyKnBsUyTbtDu0sAk4NOpVn7SB8dFoPXFW64i/J0X+BgNcC4d8jSpKzlEwu0iP5BANZiCYeJf0Gl2BqY5NTxOxwHwJm1aWUojsu6vxh3rBeGRBdyhdsFiEF/+xK/pf1F9KrYOdHmGx27UDf4guEkLajCweKEoA/PBrZXmLDDaAYHDARxtndXcuYwaAlqM+aYDlM8yO3lkaAamMCxYYD2oGTmsOukJ9uptIUWCvN95YS3AIFAdqj8Om6lhsyu74YT1JuwALW9ABZMpY2Ei8ePmNjA1wGvDPSECdbHN/csIawnFeFnF3ZhGPGLe+DepvnjLtc0Yln2jMmgwyjHRwNt9nrI5NeLA+gGKfYqGT1/AGb+OMXMI2qIbqqJNcU76ZbiRbsjqiP9b/MZ2pc4PjAAm/jW9cmcx/RIMy2zLTdto9i39FpoIrDO8BTnDzbLayhPY18ok4TsGM4EKSwfIoJYLWROpRcGIFW9vi27+RYuzdmzbt1uvb2ShzB3L/JkzpmWaoO4VjJtCg9vX0HGBvSwXuEbXGS3xpXZclMGZQOMCQkDA8jkalrucFvllr3rBtyhZWwXqtgwsmLABxLoBV1PpmABB9OapzckWdT6UpQkYw7cFka2jYfLqLTSRtmjeBMHRQTjpf+gXgI/IeRD9cz8uY4/dEtXg64DCAsTJb0MnXuV3fFaDYagVhS3oVZigrJSuf77JZsjRglTL6nEw1Aqbcpajrw9J74PNmW0z2rDGkj2DMR9Ur/kjN//xuNZFBpNRgiJv9A6Z9FUqL1p1CV6kZ0AmHQ27uAad/TKdNABpLPTLwF+IPjlfGR3YubiuZSlQSpQrKLZoNEUQ6mDquGcoY6R7KBSVv9FJLvaZfZcsX1JCRiFXNT1OAuaBD3540m/CuHJ9z02848bXOTNqGPOllEUjtz7s505jtj52aEe/J97HtB5fPQ4meavkYNRxctF6wt3XB7PPZxRIpKSNl3q1/8lEpNWwyuVT7bPfw2xUi0ghQjT3C8CxVKKKyFNrkq2Sl+sJLT5ImkTBCVRTvjadHQ54zDEm2mPaPKFEbZZy81vI5R1VwNJS3JWldn34upnrn/jI7LTpdchjIzCUa/ruYTGZ32nyMyO2PPjArn5P/cEg4ykVuEZVu2RiS5b/2CtjaMdvMg5SY0OyoOKvotpa8UmF0sNeiq5dRakqZDS3y8cSsmFKYzWUChDNJf61svXV7GNbNcfI7RGwHEO307fS4MMpb3xwm3ZCTht08PsN9wVF3YB5TXUMEea0qPT3Szo8rhdRjFCBb0N++oN0rdL0NYzHv1chFlHj+WUxhvNCamzozuLqyhChv0y5aEz0ybGx6GZDg4YxqpKjwTXfDwxGr3Qzou2JVF+Y8AkralW7OJoekkA18l1a/PoHnUCEtZN6RFkTj8m1gzukpAzi9TvAOWNR4fLyMXVcmi44eJdyt2gYaNPJCHd3I8rpRkXPp6D1pK10smFwTnMa6e4PeVSvTBoYLIrkYm3VNRPalFYaEAV8gk3RPm4KwkhCQmviejFOAOAQPoZ+4id0VjoF7KRqONyikI1yQq9u/05hgKhwvmefNIxPqDGQMO0cgzmexyi4iYiMeqeXofUe/8AS4md5Pj/lRxqePRdyVqC1ozX03neNBPdCRe4PGck9oOiarlhOPqHkyqoP+wzmgRvpEAUu0+QsGQS/ymLeIFaDKDKlvABi3710AnGqGPPrWK7E6gpeTHu3r6ZGgEHOyZiHE6gRwCXNlQsn7Pv5ifbKzP4rJ+uG2j5u/wAZAfY4olwQq52fSXyDNfyl/rRg9D46Kg6Q0yxA1AHV4yB9dxD85wY5giw3hMDP/C7LE2qDOnncosLua1D3YgXgI1onBOyAx7bApH5ISrIpEgOo4aEd+e9YtthHaoXk37WFczUKV/W2+YLAunBWOsJ/oxUtxaaWr/gKCmeQnyPsx5KGTQW8RRBljtWxrljWCg9LpNFm0y02VrYHFtQjoWOpnyr+bwkVA29VjGkivJ1UWv/RC0KogaC0osQoXzJ5Ey101V5g0iy+dn0YK6L6wO2GYMeXUwMC9d4O+889osSb4HcTBoE1L3kpOu46TM0Lyj/0O2aAFfLCyhvRq3ABTCGPIY+G+ODvB/I5ayinjKwlgfXDu70bLhOMzgXVBw4G1mE93U9HwwxnNe"},174:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADUCAYAAADZTGx+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABb6SURBVHgB7Z1bbBzXfcb/y+Wd3CUpURQl1dJKlRDFhW0arVvDsK1VE6ByHiK5sJ0URSD6qaiRWA5QoGkaQBJqpClQwLJjOH2qJAQoCsuF5ZfUAeKYjN3CtQOYcBFHhgRrZUciRYni/brc3Zxvdg49XC5nb7Nz2f1+wGB2z87MUtrzzf92zpmQkDXi8WPdqVTTsZCE7guFMnHJhLpVc0zIekKZEcnIVCYTGk5Leujdd18bkholJEQefviJeDjUcEK9jKutW0ipJDKh0JmGleU3ht67mJAaoq4FEo9/M5ZJpc6q/4a4ECdQQpFzv/rVq6elRqhbgTz66DdOhDKZU0KLUQ0SoeTK4VqwJnUpkEcffepkKCOnCh3Xv2Ob9Pdvk87ODrW1b3rc2OgtGRn5WILOwMDdxr/ZjrGxW8b+yuVrMjc3b3doIpTKPD70vxdGJMA0Sp1RSBwD99+tYpIH5MhjcVtRWHntws9qQiAQx/f+4Zmij79yJSEjH35s/Pu1cCzEMuHQ2/GHnjwcZJHUlQWxEweEMfj0k8ZdtFR+9M+vyJv/PSxBB9byP199WcoB//5zZy/kE8qUcrfuD6q71SB1QvyRp45tJo4nnvyanHnxZFniIFmOPHZIzrx00rC+OXRnmprfRgpdAkhdCMTIVom8kO+zb3/nuLFVAmKUWqBQ/FHwfGWBnv/h3xmWOIdYOt18UgJIXQgknU5DAbHcdvyQsB6VkueuGUiOHImLEww+/YS61qF1bcp6Pxd/8FhMAkbNCwTWI59rBZcAP6QTIH4JunuGuz/+T5zi288eN65pJdPUFDgrUvsWJJWK52vO4wZUBFyL3A4RFPB3I35wEridGzNiocGgxSI1L5BMJnQitw13Sqc7MzoEOpmTd2E3gPXD310NceezrKlky6AEiJpO82aHkqSv5rYjlVnNuz1SnagRXLmcEL/Sv6MvWxisstVDjeTlH5+3tGSGht+5cFgCQk0XClOp5ECDhNe17d8fq3qnwPWx1UrwXgmwqOsFEhqQAFHTLlYoE97wY8DsE/eA64mbkoXuhx76yz0SEGo7BgltTO0GNZAOMvsPrNdDs4R7JCDUTSVd09/fJ8RdNhRSGzKByWTVnUA6I8UNQCTOUeygTz9SdwIhpBQoEEJsoEAIsYECIcQGCoQQGygQQmygQAixgQIhxAYKhBAb6m7Zn3yML90Q4hx9rTulVqAFIcQGCoQQGygQQmygQAixgQIhxAYKhBAbKBBCbKBACLGBAiHEBgqEEBsoEEJsoEAIsYECIcQGCoQQGzjc3aek02mZu7Mgy/MrsrKYlNXkqtHeEG6QxqawNLc1SXukTdq6WoVUDwrEZ0AIE59PydL8ct7P06m0rGBbSsrc5II0Noelqy8qnT1cMbIaUCA+Yub2nEyOTpd0zupKSiZ+NynT4zOyfV+vsi78SZ2EMYhPgNUoVRxWIJTRy7dkcWZJiHNQID4A4pibmpdKgfs1fm1iU/eMlA4F4jFTN2cLiiMcDsv27dtl9+7d0tvbK4W4de3OWlBPKoMC8RB0YsQOdrS1tcm9995riAMi2bt3r/EeotkMWBJYJb+SCTW8/sgjTx2TAECBeMi0sh6FOHDggDQ2rg+8W1paZNeuXbbnwc3ysavVLalgPESHAvEIWA+kae2IRCKGGPJRjKtVjACJPRSIRyzNrRQ8JpVKSSWgVgJ3i5QPBeIR8wWsB1heXt5UJJOTk4VOzxYVlUhI+VAgHoG6RSEgjk8//XRD+8rKity4UdxqkBimQsqHZVePKDYNOzU1JR999JGRwULmamFhQSYmJmR1tbjz6WJVBgUSAOBqffbZZ0LchwLxCIzKLXR3h8Vob998EOLsLLNU1YYC8QiMwl1ZtBdIocr5pUuXCoqkua1ZSPkwSPeIlnb7jtvc3Fyw1lGoWAgwd4SUDwXiEe1dbbafF9P5UUjEthkY+o6JVaR8KBCPaO1oMeKQfBRjPTR2Qor0dgqpDArEQyJbO/K2F2M91q6xiRWB9WiPcjpupTBI95Du7VFVUV/cUBO5efOmkdqNRqNGFivfyF18jpoIgvTFxcUNn0e2dRiJAFIZFIjHbIttkZuf3l6X8kXHx6ar5RjNaxUJxGFHm7Ic0a10r5yALpbHNLc2Sc+OLttjUDWHKPRW6Hq9f9AjxBloQXwAViSBO4RJTpXMBITlgDg2C/5J6fB/0icgq4VVScpZvqehoUF6dnZJ356tFIfD0IL4CFiRrcoCdCiRYDh8oQlVKAJ2bGk34g0KozpQID4E1gQbYhPM58CQdWsQ39TcKC2dzVwDywX4P+xjYBW0WIg30C4T1wmlQ98NNycvSgCgQIj7hFIjQ0MX/bsukQUKhBAbKBBCbKBACLGBAiHEBgqEEBsoEEJsoEAIsYECIcQGCoQQGygQQmygQAixgQIhxAYKhBAbKBBCbKBACLGBMwp9SDqdluXZFVleWpFUMiXpVMaYcosZhpi3Hm4KG8v7tHZypmG1oUB8xML0osxOzJf0+GZMx8UiD+WshkIKQ4H4gKW5ZZm4PrnuuYVYyqe5rVFZjEbDYmiSS0njOP1wTv089OnxGens7pCu7REhzkGBeAhcqcnrMzI3Nb/Wpq1BoYUa9BNssTzQwvSSIZqp8ey1tuzoNhaRI5VDgXgEVlDEmrzaaqBDo2NbF5xeXVmV5bkVSVpWW2xqUhZFHYP4Q6940tWXMoQxf2fROGf82oR090VpTRyAAvGIW9furIkDqyLqxaZhVWZvzcvMxFzBZxjC0nR0txtigSDgYk2OTsnCzJJhTXCtQuv+EnsoEI9AjIENy43iKVCbCQOrJyIO0WjXCsyZqy/i/G17thjHbduz1RDH9M1Zmbk9Z3wHLUn5UCAeAWHo1C3cLVgUrKAI0KnxfA9jUes8qyfiPATmRvyhrAXOu37p5ppbhT2ASCCWkPqOaG+HkNKhQDxEi8Mai6CDW9faRUyRXMzGIKFwSJrbm4zP2qNtxobzjPPVdSAGfQ2IJKU+g4UxMlw9bVy/twwoEA+xigOWAm6SdrcMF2mTOASBPMQR6e0w3KpdB7fLHRV7zN6eXycSxB9LKsjH90yOThsLY5PS4C3FQ6zi0LEI4ovRy+PZINsUB1wu6+OccQ7ii9HLt9Q+myJGBixiulE4Fy4YLIaOP2BJKnn2SL1CC+IRRoc13aqtd2XTu9qiGLHJJnGIXu0dFiZrGaYko46HECASuGMQx8TvJmXH/j7jfH3s/J0FdVxUSPHQgnjEtOkKdZhFQbhVWhwQxI4DfUYckRukYwwWOv2OA9vWWQxtSbaaT5iC+GaVlcl+R/aZ7KUMYSFZaEE8YGFmcc16rGWcxmaNNp36hUXRqV8cjwGLaIMbZsQeSjiwGBnVbg3EcQweLz09jhhm3nhWOp6mi/P4GIXSoQXxgEWVmgWtHc1rrhUCctDVH1lr07EI3Cq8hwVA7IGULtwmgEAcFgOWR1uMaG/nWtuC+V0I6pnFKh3+j3mALvS1RU3XR2WaAKyCrqjrAF4X+vBwzq6+yJrLZQ3EO7q1C5W9DtrgimXb6FZVAgXiMkYl3CwIwu0B8+azCPFYNYDRvdoFg7sFNwyxClwlpHS1q6TjjvauL2IMnfnSgxWXKZCKoEBcRosD5N7l9ZyO+amsYGBhtIisdJjHJZdW1l0HaGG1mmKzDqEnpUOBuAwCbwA3SGebNNp90i4YYhTQ0RiRvtadEmmMmsdlayL6XH0toy1ptjWsr5uQ8qBAXAbZKKDFkE5bBGIOdc91wVrCWReqrbFz0+siVrGCISq51yWlQ4G4jO64+gafXs2s+zzf0JK51RlZzayq/XT23MbQhuO/sEzZz7QVam5tFlI+rIN4TO5Q9nyspJbkTmrpi3MsxUO4T81tqnayt9cQhQ7gZ820cVMbf+JKoAVxmdxahL7jA7hfxsolOhaxBPS519DH6IAe7pgO8qduzm4oRJLy4O3FZdCJ0cH1nV4H2HqOR2dzu5HuXZ1cNQqKKPrlA9V0jNBF4RDnYmYhYg2M6NVFR5zL+KMyKBCXgRhyl+hBtgoV7yQsRk9WRKiN6LpGvgo4Or8eFq9nFuZek9NtK4culg9oMa3JnHaXWpvWRKGHj+QD7hMGJ1rHWCEFjMr79n3bhFQOLYgPgMWAu6TdLHR464DDji35p97qc7loXPWgBfEB1phED0I04gclCohm4vMpId5AgfgEPfNPr5QI0WAilW7DBCjiPhSITzAWgFMiMZYDMuMP3QYQhBtraXHarKswBvERCLpz6xbWJXwwcWplaUW6sEgc4w5XoAUJADpbhZgEBcD5yXkh7kALEhD0gtY6y0XcgQIJEKiKo9JO3IMuFiE2UCCE2ECBEGIDBUKIDRQIITZQIITY4DuBzM7OvjA9Pf2cEOIDfFUHmZycjGUymedCoRCE0hWJRE4LIR7iKwsSDocH9GsllFNKJCeFEA/xlUCUKOI57ykS4im+EkhDQ8Oh3DaKhHiJbwSi4o9uJYaBfJ9BJAzciRf4RiCNjY0Ddp+rwP0FJSLbYwhxGt8IJJ1OF9P5E7A0QohL+CbNqyzEoQKHTKks1wtqf0yJ5HBPT8+IOARWTickH76xIEogsQKHwHIMYq+E8jpqJkJIlfGFQOwC9E2IKZG8TXeLVBtfCKRQgL4JEMnrQkgV8YVAigzQ8xHH2C0hpEr4JQaJSZlg7BZrJKRa+EIgKkC/TyqANRJSLfwikIqDbTOzxaCdOIovBFJiBmszGLQTx/FcIA7XM+KMR4iTeC4QleKNiYMgHhFCHMJzgSj3KibOMiSEOETNCURd7w0hxCEMgczMzBxT29souuG1y+OcHM08qaLjRewxyeqPvry/ovQxIcZo3lQqhZGycXPK63PqNUSTkKy78ob6fKSnpych1cExgai/3/g75+bmTiihnNqxc7t8/NsrQki56OHuGDqOB+FZO2tMsqNnB03BnItGo0+j1qA6oWMPzVNB9R5xjmFYPyWOM1IDJG9MycL7CUnPLklKbSAcaZWmXd3ScrBfmnay7FNtDIGgwysBQCRxm2MHVec7rcRyVVsX1bnPRyKRIfEJ6u8ZwShfCTALHyRk7pefyPTFEUMYdkAgnV85KD3f+jOKpUqsTZhCcKs6WNzuYIjDfBlT26A6Z9ABscTEOc5KQIEwJl4ZNvbFAgsz+dP3jK3r2IBsfeYQheIwa1ks5Zack/KISVYsbyuxXEWgz8lMpTH+Lz+Xz58+X5I4coHF+XzwvMxcdGyiJRGLQMy4Ykgqw1gZ0XTDIJjBIs6p21seXCgIAxbACWBRRn/whmGJiDPk1kHOi3PE1XYWVqXASNu6FIghjsHKrMZm3H5liCJxiHUCUelc1BAcy1CZxBoaGo4JWQfu9EufjEm1oEicYZ1A4GZVoxKtVyxBbKIsSkZtZ+s5TplQnXfurUtSbSCSalioemLDUJMKgnU7BlA/sQxMHDTjlMBmncoFccJtF+/sY//IkTeVsEEgyooMifNuFuKMfHHIoNQZt112eyBIZrbKJ+9gReVmvShOf1FDQ7wKI3cDhVed9c5P/09IeeQVSJWGahxVW6HVE2uaWRfijnwsq2QAY5HyyCsQh2oi61CBOlysQalj5n/5iXjF3FvefXeQ2XQ+iEr58vFnDuPlXXy5iinlWmZTgZjB+pAQR/C6gy5dokDKodCMQicr63VNamZJvKTQyGCSH1uBRKPRc+J8yrcu8UMHRRaNlEbBOenVSPnWIw2RVvEaDoUvnYICMVO+vPVUSDjqvUBI6RQUiDk+i1akQry+e2OKLimdopb9oRWpHLhYXoqk9eB2IaVTlEBoRZyh8ytfEq/oPHxQSOkUvXAcrUjldP65N50U1guLO5DSKVog5vCT7wopm/YHYsbmNhEPLVfQKWnpUbMuMiSkbLDyiJvAemz927iQ8ih5bV6O0aoMt61Iz7ceNBaaI+VRskDMMVoXhZRN//NHXem0bQ/skd5n6nqGQcWUtbq7siKIRRiwlwnEsfOlb1S1uo7v2PE818qolLIEggWiVdqXrlYFtH6pX+46d7wqIoE47vr343StHKDs54N0dXUh7TskpGwgkthrf+NoR0atxelr1jMVPUBHuVpPC12tikBH3vfzExVnt2CJ+v7+L2TXi9/0xcDIWqFRKgCu1vT09Gk+F7Byep+JS9fRAbn9kyFZ/OCaJK8Xd9/B8JXosftki8pWURjOU5FAgOlqnTGXF8UqinElmPuwgonax4QUjTWwxvRcbJiJCLGkZ5aN9oZoi7Qe7JcW5Z5hAKIXhcd6omKBaJQ1wXo22NZSwFgsTu0GlGgGaGVKw6uqO1mPYwKxsri4GFPxSXc6nR4wrcmAEBJAHBfI7Ozsh8lkck0QShxCSFBx/DHQympwoQdSMzguEATtLCKSWsFxgQAlklN+FcnY6LgQd5mbW5CgUhWBAL+KJMg/VlAZG70lQaVqAgFei2Tvvrs2tF25khDiLmNjOQJpXA3M8xiqKhBgisSTmYj7/nCjQEY+/FiIe0AcOTelxNDQxcAMT6q6QAACd1UXOSwuj9val8eC4AejSNxj5MPf5LRkhiRAuCIQgIlWSiT3K2uSEJfo6GiXe+7ZOB/7tQs/E+IO586+tu59SCRQTxZ1TSAAgxtVnQSWxLUZiV8/9tUNbe+++wGtiAvgRpQTfySG3rlwTgKEqwIBEEk0Gn3creD9wQfvNyxJLi//+DwzWlUEwsi1HkFzr4DrAtEgeEdc4obL9Vd//fUNbQgcX37pnBDngTiee/a0ugHNW5sToWQycAVkzwQCEJfA5VIiqerwlKNHv5o3FnnzzWElEo6McRKI4wff/9cNqd1QOvTi0HsXExIwQuITZmZmBpVQTlZrDsn4zQl59junZX5+o1s1MHC3fO/7z0h//zYh5TMy8hv50Q9/srHuoWLO4XdefVwCiG8EAiYnJzHh6pQSyXGpAm/94n/kzAtn834GcRx57JDa4hRKiSCWO3f2wmbZQeVarRwOovUAvhKIphrWRA+7/4USyUtnzm16XGdnhzz88J/Iw48+YAhl//6YkI2MjY3Lu+/8ulBGMNDiAJ4J5OrVqzH9urGx0XhtFYSyJN2q/YTax3LnlOC9ta3Q57n8+oP/l3975T9kfmFRigGi6Yy0C1HWYnYhN/jOy57YLnn2xPGRXbu2W4vDCf1C/T54YsA0XqvffUrFosZx2OO9bk8mk8brvXv3JsQDyhaI6uCYTotOjA7cjQ6NzXy9x7h4KGS8Vy9jeG++9sV6NLdu3ZF/Ov2ysSfO8tjXDskTTx6R9vY2qQKGgCAwLSRFQgtOi01nR1dXV7GfUgIraxRHXoGg8zc1NcXUS0yZRVywB51dfXHM7PQxqRGGh9+X/7rwJoXiAF++e78hjLvV3o+ovpsQuH1ZEUFU06rUMIL3Skgj+UQUghiUFRgIh8NH1YED5vzxult1DEIZHnpffvvxFSHF06GsxB8/cI8civ+pb4VRArBKI0oDI0oww7t3774YunHjxofqAy6qYAJLci1xXRJqu3btukoLFxen1AsdHW2G6xRTMQbiDOyr5Ep5DoQSGh0dRQyBxZiOSlYoXLOS1DNws2BFhldWVs5siEEsLhfcrW4s2yNZ0cTMjZCgk1AbAvkRM5NmxCFKECO52bKSs1g6gNeZK1NEMXPfZUnVdudshDjNlHwxxygh2U6/ls3SmSzsy81muVYH0WlhvNZ1Dy0w4w9ZXxTco1/kKRZa31N8/sfaiXPfGx3a8tk1/UJ3bmuNxOzkxnnlpm1LxZeV9HKxilCjxZjLZlX6QtV7bSmlTCocHZDboUpC31kLHJPI127tqNY2Xciz/o1udV43+D3n6e3wlfizmQAAAABJRU5ErkJggg=="},910:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDApIG5vbmUgcmVwZWF0IHNjcm9sbCAwJSAwJTsgZGlzcGxheTogYmxvY2s7IHNoYXBlLXJlbmRlcmluZzogYXV0bzsiIHdpZHRoPSIxMjhweCIgaGVpZ2h0PSIxMjhweCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4KPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iMzIiIHN0cm9rZS13aWR0aD0iOCIgc3Ryb2tlPSIjMWQwZTBiIiBzdHJva2UtZGFzaGFycmF5PSI1MC4yNjU0ODI0NTc0MzY2OSA1MC4yNjU0ODI0NTc0MzY2OSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iNS4yNjMxNTc4OTQ3MzY4NDI1cyIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOzM2MCA1MCA1MCI+PC9hbmltYXRlVHJhbnNmb3JtPgo8L2NpcmNsZT4KPCEtLSBbbGRpb10gZ2VuZXJhdGVkIGJ5IGh0dHBzOi8vbG9hZGluZy5pby8gLS0+PC9zdmc+"},4:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf8,%3Csvg width=%2764%27 height=%2764%27 viewBox=%270 0 64 64%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cg filter=%27url%28%23filter0_d%29%27%3E%3Ccircle cx=%2732%27 cy=%2728%27 r=%2728%27 fill=%27%23C4C4C4%27/%3E%3C/g%3E%3Ccircle cx=%2732%27 cy=%2728%27 r=%2720%27 fill=%27white%27/%3E%3Cdefs%3E%3Cfilter id=%27filter0_d%27 x=%270%27 y=%270%27 width=%2764%27 height=%2764%27 filterUnits=%27userSpaceOnUse%27 color-interpolation-filters=%27sRGB%27%3E%3CfeFlood flood-opacity=%270%27 result=%27BackgroundImageFix%27/%3E%3CfeColorMatrix in=%27SourceAlpha%27 type=%27matrix%27 values=%270 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0%27/%3E%3CfeOffset dy=%274%27/%3E%3CfeGaussianBlur stdDeviation=%272%27/%3E%3CfeColorMatrix type=%27matrix%27 values=%270 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0%27/%3E%3CfeBlend mode=%27normal%27 in2=%27BackgroundImageFix%27 result=%27effect1_dropShadow%27/%3E%3CfeBlend mode=%27normal%27 in=%27SourceGraphic%27 in2=%27effect1_dropShadow%27 result=%27shape%27/%3E%3C/filter%3E%3C/defs%3E%3C/svg%3E"},893:()=>{},74:()=>{},281:()=>{},244:()=>{},556:()=>{},817:()=>{},590:()=>{},234:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var r={};return(()=>{"use strict";n.r(r),n.d(r,{Selfie:()=>Qg});var e={};n.r(e),n.d(e,{browserFiles:()=>Pa,browserHTTPRequest:()=>Ka,concatenateArrayBuffers:()=>Hr,copyModel:()=>Sa,decodeWeights:()=>zr,encodeWeights:()=>Pr,fromMemory:()=>Ja,fromMemorySync:()=>Za,getLoadHandlers:()=>Xr,getModelArtifactsForJSON:()=>$r,getModelArtifactsInfoForJSON:()=>Kr,getSaveHandlers:()=>Zr,http:()=>$a,isHTTPScheme:()=>Wa,listModels:()=>Ia,loadWeights:()=>Va,moveModel:()=>Ta,registerLoadRouter:()=>Jr,registerSaveRouter:()=>Yr,removeModel:()=>Na,weightsLoaderFactory:()=>ja,withSaveHandler:()=>Xa,withSaveHandlerSync:()=>es});var t={};n.r(t),n.d(t,{conv2d:()=>wl,depthwiseConv2d:()=>kl,matMul:()=>Al});var a={};n.r(a),n.d(a,{json:()=>Pd});var s={};n.r(s),n.d(s,{json:()=>zd});var o={};n.r(o),n.d(o,{json:()=>Ud});var i={};n.r(i),n.d(i,{json:()=>Vd});var u={};n.r(u),n.d(u,{json:()=>jd});var l={};n.r(l),n.d(l,{json:()=>Hd});var d={};n.r(d),n.d(d,{json:()=>Wd});var c={};n.r(c),n.d(c,{json:()=>qd});var p={};n.r(p),n.d(p,{json:()=>$d});var h={};n.r(h),n.d(h,{json:()=>Kd});var m={};n.r(m),n.d(m,{json:()=>Gd});var f={};n.r(f),n.d(f,{json:()=>Qd});var g={};n.r(g),n.d(g,{json:()=>Yd});var y={};n.r(y),n.d(y,{json:()=>Jd});var b={};n.r(b),n.d(b,{json:()=>Zd});var w={};n.r(w),n.d(w,{json:()=>Xd});var x={};n.r(x),n.d(x,{json:()=>ec});var v={};n.r(v),n.d(v,{json:()=>tc});var k={};n.r(k),n.d(k,{json:()=>nc});var A={};n.r(A),n.d(A,{OP_SCOPE_SUFFIX:()=>Mr,abs:()=>us,acos:()=>ls,acosh:()=>ds,add:()=>cs,addN:()=>ps,all:()=>hs,any:()=>ms,argMax:()=>fs,argMin:()=>gs,asin:()=>ys,asinh:()=>bs,atan:()=>ws,atan2:()=>xs,atanh:()=>vs,avgPool:()=>Ds,avgPool3d:()=>Fs,basicLSTMCell:()=>Us,batchNorm:()=>js,batchNorm2d:()=>Hs,batchNorm3d:()=>Ws,batchNorm4d:()=>qs,batchToSpaceND:()=>Vs,bincount:()=>$s,booleanMaskAsync:()=>nl,broadcastArgs:()=>Ks,broadcastTo:()=>Gs,buffer:()=>Ma,cast:()=>Da,ceil:()=>Qs,clipByValue:()=>Ys,clone:()=>Fa,complex:()=>Fr,concat:()=>Os,concat1d:()=>Js,concat2d:()=>Zs,concat3d:()=>Xs,concat4d:()=>eo,conv1d:()=>no,conv2d:()=>to,conv2dTranspose:()=>ao,conv3d:()=>so,conv3dTranspose:()=>io,cos:()=>uo,cosh:()=>lo,cosineWindow:()=>pl,cumprod:()=>co,cumsum:()=>po,denseBincount:()=>ho,depthToSpace:()=>mo,depthwiseConv2d:()=>fo,diag:()=>go,dilation2d:()=>yo,div:()=>wo,divNoNan:()=>Ao,dot:()=>Eo,dropout:()=>dl,einsum:()=>Io,elu:()=>No,enclosingPowerOfTwo:()=>cl,equal:()=>xo,erf:()=>So,euclideanNorm:()=>Wo,exp:()=>qo,expandDims:()=>$o,expm1:()=>Ko,eye:()=>Qo,fft:()=>Du,fill:()=>Yo,floor:()=>Jo,floorDiv:()=>bo,fused:()=>t,gather:()=>Zo,gatherND:()=>ll,greater:()=>Xo,greaterEqual:()=>ei,ifft:()=>Fu,imag:()=>ti,image:()=>fd,inTopKAsync:()=>hl,irfft:()=>Ou,isFinite:()=>ni,isInf:()=>ri,isNaN:()=>ai,leakyRelu:()=>si,less:()=>oi,lessEqual:()=>ii,linalg:()=>gd,linspace:()=>ui,localResponseNormalization:()=>li,log:()=>di,log1p:()=>ci,logSigmoid:()=>fi,logSoftmax:()=>yi,logSumExp:()=>bi,logicalAnd:()=>wi,logicalNot:()=>xi,logicalOr:()=>vi,logicalXor:()=>ki,losses:()=>yd,lowerBound:()=>Ii,matMul:()=>Bs,max:()=>Bo,maxPool:()=>Ni,maxPool3d:()=>Si,maxPoolWithArgmax:()=>Ti,maximum:()=>_i,mean:()=>Ci,meshgrid:()=>Fi,min:()=>Ro,minimum:()=>Oi,mirrorPad:()=>Bi,mod:()=>Ri,moments:()=>Li,movingAverage:()=>ol,mul:()=>Rs,multiRNNCell:()=>Pi,multinomial:()=>zi,neg:()=>hi,norm:()=>Ho,notEqual:()=>Ui,oneHot:()=>Vi,ones:()=>Di,onesLike:()=>ji,op:()=>Dr,outerProduct:()=>Hi,pad:()=>Wi,pad1d:()=>qi,pad2d:()=>$i,pad3d:()=>Ki,pad4d:()=>Gi,pool:()=>Yi,pow:()=>Lo,prelu:()=>Ji,print:()=>Oa,prod:()=>Zi,raggedTensorToTensor:()=>Xi,rand:()=>eu,randomGamma:()=>su,randomNormal:()=>ou,randomStandardNormal:()=>iu,randomUniform:()=>uu,range:()=>lu,real:()=>du,reciprocal:()=>cu,relu:()=>pu,relu6:()=>hu,reshape:()=>Ms,reverse:()=>mu,reverse1d:()=>fu,reverse2d:()=>gu,reverse3d:()=>yu,reverse4d:()=>bu,rfft:()=>Ru,round:()=>wu,rsqrt:()=>xu,scalar:()=>Po,scatterND:()=>il,searchSorted:()=>Ei,selu:()=>vu,separableConv2d:()=>ku,setdiff1dAsync:()=>Au,sigmoid:()=>Ls,sign:()=>Eu,signal:()=>md,sin:()=>Iu,sinh:()=>Nu,slice:()=>Ps,slice1d:()=>Su,slice2d:()=>Tu,slice3d:()=>_u,slice4d:()=>Cu,softmax:()=>Mu,softplus:()=>mi,spaceToBatchND:()=>Qi,sparse:()=>bd,sparseToDense:()=>ul,spectral:()=>hd,split:()=>Bu,sqrt:()=>zo,square:()=>Uo,squaredDifference:()=>Lu,squeeze:()=>Pu,stack:()=>zu,step:()=>Uu,stridedSlice:()=>Vu,string:()=>wd,sub:()=>gi,sum:()=>Vo,tan:()=>ju,tanh:()=>zs,tensor:()=>Br,tensor1d:()=>Hu,tensor2d:()=>Wu,tensor3d:()=>ns,tensor4d:()=>qu,tensor5d:()=>$u,tensor6d:()=>Ku,tile:()=>Go,topk:()=>Gu,transpose:()=>sl,truncatedNormal:()=>Qu,unique:()=>Yu,unsortedSegmentSum:()=>Ju,unstack:()=>Zu,upperBound:()=>Xu,variable:()=>el,where:()=>vo,whereAsync:()=>tl,zeros:()=>Mi,zerosLike:()=>ko});var E,I,N,S=function(e,t){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},S(e,t)};function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function _(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))}function C(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}Object.create,Object.create,function(e){e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Top=3]="Top",e[e.Bottom=4]="Bottom",e[e.Smile=5]="Smile",e[e.Near=6]="Near",e[e.Far=7]="Far",e[e.VeryFar=8]="VeryFar",e[e.Capturar=0]="Capturar"}(E||(E={})),function(e){e[e.Passive=1]="Passive",e[e.Active=2]="Active"}(I||(I={})),function(e){e[e.NenhumaCamera=11]="NenhumaCamera",e[e.PermissaoNegadaOuCameraemUso=11]="PermissaoNegadaOuCameraemUso",e[e.FalhaAoConectarServidor=2]="FalhaAoConectarServidor",e[e.ErroValidarSelfie=14]="ErroValidarSelfie",e[e.AcaoCanceladaUsuario=9]="AcaoCanceladaUsuario",e[e.CapturaDesktopNaoHabilitada=15]="CapturaDesktopNaoHabilitada"}(N||(N={}));var M="https://liveness.brscan.com.br",D=function(){function e(e){this.livenessKey=null,this.livenessToken=null,this.livenessConfig=null,this.b64toBlob=function(e,t,n){void 0===t&&(t="image/jpeg"),void 0===n&&(n=512);for(var r=e.replace(/^[^,]+,/,""),a=atob(r),s=[],o=0;o<a.length;o+=n){for(var i=a.slice(o,o+n),u=new Array(i.length),l=0;l<i.length;l++)u[l]=i.charCodeAt(l);var d=new Uint8Array(u);s.push(d)}return new Blob(s,{type:t})},this.chave=e}return e.prototype.validaChave=function(){return _(this,void 0,void 0,(function(){var e=this;return C(this,(function(t){return[2,new Promise((function(t,n){return _(e,void 0,void 0,(function(){var e,r,a,s;return C(this,(function(o){switch(o.label){case 0:return o.trys.push([0,12,,13]),(e=new FormData).append("key",this.chave),e.append("version","3.0.0"),e.append("api_level","1"),e.append("model","web"),e.append("os","web"),[4,fetch("https://document.brscan.com.br/v1/mobile/sdk-licenca",{method:"POST",body:e})];case 1:return[4,o.sent().json()];case 2:return"error"!==(r=o.sent()).type?[3,3]:(n({id:N.FalhaAoConectarServidor,desc:"Erro ao conectar com o servidor, verifique sua conexão e tente novamente."}),[3,11]);case 3:return void 0!==r.res?[3,4]:(n({id:N.FalhaAoConectarServidor,desc:"Erro ao conectar com o servidor, verifique sua conexão e tente novamente."}),[3,11]);case 4:return""==r.res.liveness_license||null==r.res.liveness_license||""==r.res.liveness_autentication||null==r.res.liveness_autentication?[3,10]:(this.livenessKey=r.res.liveness_license,[4,fetch(M+"/v1/init/"+this.livenessKey,{method:"POST",headers:new Headers({Authorization:"Basic ".concat(r.res.liveness_autentication)})})]);case 5:a=o.sent(),o.label=6;case 6:return o.trys.push([6,8,,9]),[4,a.json()];case 7:return s=o.sent(),this.livenessConfig=s.config_web,this.livenessToken=s.token,t(this.livenessConfig),[3,9];case 8:return o.sent(),n({id:N.FalhaAoConectarServidor,desc:"Erro ao conectar com o servidor, verifique sua conexão e tente novamente."}),[3,9];case 9:return[3,11];case 10:n({id:N.FalhaAoConectarServidor,desc:"Erro ao conectar com o servidor, verifique sua conexão e tente novamente."}),o.label=11;case 11:return[3,13];case 12:return o.sent(),n({id:N.FalhaAoConectarServidor,desc:"Erro ao conectar com o servidor, verifique sua conexão e tente novamente."}),[3,13];case 13:return[2]}}))}))}))]}))}))},e.prototype.validaSelfies=function(e){return _(this,void 0,void 0,(function(){var t=this;return C(this,(function(n){return[2,new Promise((function(n,r){return _(t,void 0,void 0,(function(){var t,a,s,o=this;return C(this,(function(i){this.selfieA=e[0],this.selfieB=e[1];try{(t=new Headers).append("Authorization","Bearer "+this.livenessToken),(a=new FormData).append("selfieA",this.b64toBlob(this.selfieA),"selfieA"),a.append("selfieB",this.b64toBlob(this.selfieB),"selfieB"),a.append("source","web"),s={method:"POST",headers:t,body:a},fetch(M+"/v1/check/"+this.livenessKey,s).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);if(void 0!==t.result&&"real"===t.result){var a=new Image;return a.src=o.selfieB,void(a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0);var r=e.toDataURL("image/jpeg",.7);o.selfieB=r,n({selfieValida:!0,selfie:o.selfieB,id:t.id})})}r({selfieValida:!1,id:N.ErroValidarSelfie,desc:"Ocorreu uma falha ao concluir o processo. Por favor, tente novamente."})})).catch((function(e){r({id:N.FalhaAoConectarServidor,desc:"Erro ao conectar com o servidor, verifique sua conexão e tente novamente."})}))}catch(e){r({id:N.FalhaAoConectarServidor,desc:"Erro ao conectar com o servidor, verifique sua conexão e tente novamente."})}return[2]}))}))}))]}))}))},e}(),F=n(72),O=n.n(F),B=n(825),R=n.n(B),L=n(659),P=n.n(L),z=n(56),U=n.n(z),V=n(540),j=n.n(V),H=n(113),W=n.n(H),q=n(317),$={};$.styleTagTransform=W(),$.setAttributes=U(),$.insert=P().bind(null,"head"),$.domAPI=R(),$.insertStyleElement=j(),O()(q.A,$);const K=q.A&&q.A.locals?q.A.locals:void 0;var G,Q;!function(e){e.User="user",e.Environment="environment"}(G||(G={})),function(e){e.VideoInput="videoinput",e.AudioOutput="audiooutput",e.AudioInput="audioinput"}(Q||(Q={}));var Y=function(){function e(){this.cameraContainer=null,this.flipped=!0,this.mode=G.Environment,this.video=null,this.videoLoaded=!1,this.videoStream=null,this.renderCallback=null,this.cameraBackID=null,this.cameraFrontID=null}return e.prototype.iniciaCamera=function(e,t,n){return void 0===t&&(t=null),_(this,void 0,void 0,(function(){var r=this;return C(this,(function(a){return this.renderFrame=this.renderFrame.bind(this),[2,new Promise((function(a,s){return _(r,void 0,void 0,(function(){var r,o,i,u,l=this;return C(this,(function(d){switch(d.label){case 0:return this.cameraContainer=document.createElement("div"),this.cameraContainer.id="cameraContainer",this.cameraContainer.classList.add(K.cameraContainer),e.appendChild(this.cameraContainer),this.renderCallback=t,r=!0,[4,navigator.mediaDevices.enumerateDevices()];case 1:if(0===(o=d.sent()).length)return s({id:N.NenhumaCamera,desc:"Não podemos seguir enquanto não for liberado o acesso a câmera do dispositivo."}),[2];for(i=0;i<o.length;i++)(u=o[i]).kind==Q.VideoInput&&u.label.toLowerCase().indexOf("virtual")<=0&&(r=!1);return r?(s({id:N.NenhumaCamera,desc:"Não podemos seguir enquanto não for liberado o acesso a câmera do dispositivo."}),[2]):(this.getPortraitCameraStream(n).then((function(e){l.iniciaVideo(e,n),a("ok")})).catch((function(e){s({id:N.PermissaoNegadaOuCameraemUso,desc:"Não podemos seguir enquanto não for liberado o acesso a câmera do dispositivo."})})),[2])}}))}))}))]}))}))},e.prototype.iniciaVideo=function(e,t){var n=this;this.videoStream=e,document.getElementById("cameraVideo")||(this.video=document.createElement("video"),this.video.id="cameraVideo",this.video.classList.add(K.cameraVideo),this.video.setAttribute("playsinline","true"),this.video.setAttribute("muted","true"),this.mode!==G.User||t||(this.flipped=!1,this.video.classList.add(K.cameraVideoFlip)),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.cameraContainer.appendChild(this.video)),this.video.onloadedmetadata=function(){return _(n,void 0,void 0,(function(){return C(this,(function(e){return this.videoLoaded=!0,this.video.play(),requestAnimationFrame(this.renderFrame),[2]}))}))},this.video.srcObject=this.videoStream},e.prototype.finalizaCamera=function(){null!==this.video&&(this.video.pause(),this.video.src="",this.video.srcObject=null),this.videoStream=null,this.videoLoaded=!1},e.prototype.renderFrame=function(){var e=this;this.renderCallback&&!0===this.videoLoaded&&this.renderCallback.render(),this.videoLoaded&&setTimeout((function(){return _(e,void 0,void 0,(function(){return C(this,(function(e){return requestAnimationFrame(this.renderFrame),[2]}))}))}),1e3)},e.prototype.stop=function(){this.videoTrack&&this.videoTrack.stop()},e.prototype.snapPicture=function(){return this.canvas.width=this.video.videoWidth,this.canvas.height=this.video.videoHeight,this.canvas.getContext("2d").drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.canvas.toDataURL("image/jpeg",1)},e.prototype.getPortraitCameraStream=function(e){return _(this,void 0,void 0,(function(){var t=this;return C(this,(function(n){return[2,new Promise((function(n,r){return _(t,void 0,void 0,(function(){var t,a,s,o,i,u,l,d,c,p,h;return C(this,(function(m){switch(m.label){case 0:t=[1520,1440,1200,1080,1024,960,720,480],a=e?G.Environment:G.User,s=0,o=t,m.label=1;case 1:if(!(s<o.length))return[3,6];i=o[s],m.label=2;case 2:return m.trys.push([2,4,,5]),[4,navigator.mediaDevices.getUserMedia({video:{aspectRatio:16/9,width:{ideal:i},facingMode:a},audio:!1})];case 3:return u=m.sent(),(l=u.getVideoTracks()[0].getSettings()).height>l.width&&l.facingMode==a&&l.height/l.width<2?(null==u?r(new Error("Could not get camera")):(n(u),this.mode=l.facingMode),[2]):[3,5];case 4:return d=m.sent(),r(d),[2];case 5:return s++,[3,1];case 6:return m.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({video:{facingMode:G.Environment},audio:!1})];case 7:return null==(c=m.sent())?r(new Error("Could not get camera")):(p=c.getVideoTracks()[0].getSettings(),this.mode=p.facingMode,n(c)),[2];case 8:return h=m.sent(),r(h),[2];case 9:return[2]}}))}))}))]}))}))},e}();class J{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Z{refCount(e){return X("refCount")}incRef(e){return X("incRef")}timerAvailable(){return!0}time(e){return X("time")}read(e){return X("read")}readSync(e){return X("readSync")}readToGPU(e,t){return X("readToGPU")}numDataIds(){return X("numDataIds")}disposeData(e,t){return X("disposeData")}write(e,t,n){return X("write")}move(e,t,n,r,a){return X("move")}memory(){return X("memory")}floatPrecision(){return X("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return X("dispose")}}function X(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function ee(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function te(e,t,n=""){ee(se(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function ne(e){ee(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function re(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||de(e)&&!n)for(let r=0;r<e.length;++r)re(e[r],t,n);else t.push(e);return t}function ae(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function se(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function oe(e){return e%1==0}function ie(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function ue(e,t){const n=t.length;return ee((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),ee(e.every((e=>oe(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function le(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function de(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function ce(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function pe(e){return"string"==typeof e||e instanceof String}function he(e){return Array.isArray(e)?he(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"==typeof e?"float32":pe(e)?"string":"boolean"==typeof e?"bool":"float32"}function me(e){return!!(e&&e.constructor&&e.call&&e.apply)}function fe(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function ge(e,t,n,r=!1){const a=new Array;if(1===t.length){const s=t[0]*(r?2:1);for(let t=0;t<s;t++)a[t]=n[e+t]}else{const s=t[0],o=t.slice(1),i=o.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<s;t++)a[t]=ge(e+t*i,o,n,r)}return a}function ye(e,t,n=!1){if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return ge(0,e,t,n)}function be(e,t){const n=we(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function we(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function xe(e){e.forEach((t=>{ee(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function ve(e){return e&&e.then&&"function"==typeof e.then}const ke="tfjsflags";class Ae{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Ee,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(Ie().getBool("IS_TEST")||Ie().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];Ie().getBool("IS_TEST")||Ie().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(ve(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);ke in e&&e[ke].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}function Ee(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function Ie(){return Se}let Ne,Se=null;function Te(){if(null==Ne){let e;if("undefined"!=typeof window)e=window;else if(void 0!==n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Ne=e}return Ne}function _e(e,t){const n=function(){const e=Te();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const Ce="Add",Me="AddN",De="All",Fe="Any",Oe="ArgMax",Be="AvgPool",Re="BatchMatMul",Le="BatchToSpaceND",Pe="Cast",ze="Ceil",Ue="ClipByValue",Ve="Concat",je="Conv2D",He="Conv2DBackpropInput",We="Cosh",qe="Cumprod",$e="Cumsum",Ke="CropAndResize",Ge="DepthToSpace",Qe="DepthwiseConv2dNative",Ye="RealDiv",Je="Equal",Ze="ExpandDims",Xe="Fill",et="FlipLeftRight",tt="Floor",nt="FloorDiv",rt="FusedBatchNorm",at="GatherV2",st="GatherNd",ot="Greater",it="GreaterEqual",ut="Identity",lt="LeakyRelu",dt="Less",ct="LessEqual",pt="LinSpace",ht="LogicalAnd",mt="LogicalNot",ft="LogicalOr",gt="Max",yt="Maximum",bt="MaxPool",wt="Mean",xt="Min",vt="Minimum",kt="MirrorPad",At="Multiply",Et="NotEqual",It="NonMaxSuppressionV3",Nt="NonMaxSuppressionV4",St="NonMaxSuppressionV5",Tt="OnesLike",_t="OneHot",Ct="Pack",Mt="PadV2",Dt="Prelu",Ft="Prod",Ot="Range",Bt="Relu",Rt="Reshape",Lt="ResizeNearestNeighbor",Pt="ResizeBilinear",zt="Relu6",Ut="Reverse",Vt="Round",jt="Rsqrt",Ht="ScatterNd",Wt="Select",qt="Slice",$t="Sigmoid",Kt="Sqrt",Gt="Sum",Qt="SpaceToBatchND",Yt="SplitV",Jt="Softmax",Zt="SparseFillEmptyRows",Xt="SparseReshape",en="SparseSegmentMean",tn="SparseSegmentSum",nn="SquaredDifference",rn="StridedSlice",an="StringNGrams",sn="StringSplit",on="StringToHashBucketFast",un="Tanh",ln="Tile",dn="TopK",cn="Transform",pn="Transpose",hn="Unpack",mn="ZerosLike",fn="Step",gn="FromPixels",yn="RotateWithOffset",bn="_FusedMatMul",wn="FusedConv2D",xn="FusedDepthwiseConv2D";function vn(...e){Ie().getBool("IS_TEST")||Ie().getBool("PROD")||console.warn(...e)}const kn=_e("kernelRegistry",(()=>new Map)),An=_e("gradRegistry",(()=>new Map));function En(e,t){const n=Tn(e,t);return kn.get(n)}function In(e){return An.get(e)}function Nn(e){const t=kn.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[s,o]=a,[i]=s.split("_");i===e&&n.push(o)}return n}function Sn(e){const{kernelName:t,backendName:n}=e,r=Tn(t,n);kn.has(r)&&vn(`The kernel '${t}' for backend '${n}' is already registered`),kn.set(r,e)}function Tn(e,t){return`${t}_${e}`}var _n=n(570);const Cn=n.n(_n)()||_n;function Mn(e){return Cn.fromString(e,!0,16)}const Dn=Mn("c3a5c85c97cb3127"),Fn=Mn("b492b66fbe98f273"),On=Mn("9ae16a3b2f90404f");function Bn(e){return e.xor(e.shru(47))}function Rn(e,t,n){const r=e.slice(t,t+n);return Cn.fromBytes(Array.from(r),!0,!0)}function Ln(e,t){return Rn(e,t,8)}function Pn(e,t){return Rn(e,t,4)}function zn(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function Un(e,t,n=Mn("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function Vn(e,t,n,r){return function(e,t,n,r,a,s){a=a.add(e),s=zn(s.add(a).add(r),21);const o=a;return a=(a=a.add(t)).add(n),s=s.add(zn(a,44)),[a.add(r),s.add(o)]}(Ln(e,t),Ln(e,t+8),Ln(e,t+16),Ln(e,t+24),n,r)}function jn(e,t=e.length){const n=Cn.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=On.add(2*t),r=Ln(e,0).add(On),a=Ln(e,t-8);return Un(zn(a,37).mul(n).add(r),zn(r,25).add(a).mul(n),n)}if(t>=4){const n=On.add(2*t);return Un(Pn(e,0).shl(3).add(t),Pn(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return Bn(On.mul(n).xor(Dn.mul(r))).mul(On)}return On}(e,t):function(e,t=e.length){const n=On.add(2*t),r=Ln(e,0).mul(Fn),a=Ln(e,8),s=Ln(e,t-8).mul(n),o=Ln(e,t-16).mul(On);return Un(zn(r.add(a),43).add(zn(s,30)).add(o),r.add(zn(a.add(On),18)).add(s),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=On.add(2*t),r=Ln(e,0).mul(On),a=Ln(e,8),s=Ln(e,t-8).mul(n),o=Ln(e,t-16).mul(On),i=zn(r.add(a),43).add(zn(s,30)).add(o),u=Un(i,r.add(zn(a.add(On),18)).add(s),n),l=Ln(e,16).mul(n),d=Ln(e,24),c=i.add(Ln(e,t-32)).mul(n),p=u.add(Ln(e,t-24)).mul(n);return Un(zn(l.add(d),43).add(zn(c,30)).add(p),l.add(zn(d.add(r),18)).add(c),n)}(e,t);let r=n,a=n.mul(Fn).add(113),s=Bn(a.mul(On).add(113)).mul(On),o=[Cn.UZERO,Cn.UZERO],i=[Cn.UZERO,Cn.UZERO];r=r.mul(On).add(Ln(e,0));let u=0;const l=64*(t-1>>6),d=l+(t-1&63)-63;do{r=zn(r.add(a).add(o[0]).add(Ln(e,u+8)),37).mul(Fn),a=zn(a.add(o[1]).add(Ln(e,u+48)),42).mul(Fn),r=r.xor(i[1]),a=a.add(o[0]).add(Ln(e,u+40)),s=zn(s.add(i[0]),33).mul(Fn),o=Vn(e,u,o[1].mul(Fn),r.add(i[0])),i=Vn(e,u+32,s.add(i[1]),a.add(Ln(e,u+16))),[s,r]=[r,s],u+=64}while(u!==l);const c=Fn.add(s.and(255).shl(1));return u=d,i[0]=i[0].add(t-1&63),o[0]=o[0].add(i[0]),i[0]=i[0].add(o[0]),r=zn(r.add(a).add(o[0]).add(Ln(e,u+8)),37).mul(c),a=zn(a.add(o[1]).add(Ln(e,u+48)),42).mul(c),r=r.xor(i[1].mul(9)),a=a.add(o[0].mul(9).add(Ln(e,u+40))),s=zn(s.add(i[0]),33).mul(c),o=Vn(e,u,o[1].mul(c),r.add(i[0])),i=Vn(e,u+32,s.add(i[1]),a.add(Ln(e,u+16))),[s,r]=[r,s],Un(Un(o[0],i[0],c).add(Bn(a).mul(Dn)).add(s),Un(o[1],i[1],c).add(r),c)}function Hn(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=re(e)),Ie().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function Wn(){return Ie().platform.now()}function qn(e,t="utf-8"){return t=t||"utf-8",Ie().platform.encode(e,t)}function $n(e,t="utf-8"){return t=t||"utf-8",Ie().platform.decode(e,t)}class Kn{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new Qn)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let s;const o=Wn();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();s=Promise.resolve({kernelMs:Wn()-o})}if(Ie().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<r.length;t++){const n=r[t];n.data().then((t=>{Gn(t,n.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:s.then((e=>e.kernelMs)),extraInfo:s.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:s}=e;n.forEach((e=>{Promise.all([e.data(),r,s]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])}))}))}}function Gn(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${n}'`),!0}return!1}class Qn{logKernelProfile(e,t,n,r,a,s){const o="number"==typeof r?ie(`${r}ms`,9):r.error,i=ie(e,25),u=t.rank,l=t.size,d=ie(t.shape.toString(),14);let c="";for(const e in a){const n=a[e];if(null!=n){const r=n.shape||t.shape,a=r.length;c+=`${e}: ${a}D ${a>0?r:""} `}}console.log(`%c${i}\t%c${o}\t%c${u}D ${d}\t%c${l}\t%c${c}\t%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const Yn=20,Jn=3,Zn=7;function Xn(e,t,n,r){const a=fe(t),s=function(e,t,n,r){const a=ae(t),s=r[r.length-1],o=new Array(s).fill(0),i=t.length,u="complex64"===n?rr(e):e;if(i>1)for(let e=0;e<a/s;e++){const t=e*s;for(let e=0;e<s;e++)o[e]=Math.max(o[e],er(u[t+e],0,n).length)}return o}(e,t,n,a),o=t.length,i=nr(e,t,n,a,s),u=["Tensor"];return r&&(u.push(`  dtype: ${n}`),u.push(`  rank: ${o}`),u.push(`  shape: [${t}]`),u.push("  values:")),u.push(i.map((e=>"    "+e)).join("\n")),u.join("\n")}function er(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(Zn))} + ${parseFloat(e[1].toFixed(Zn))}j`:pe(e)?`'${e}'`:"bool"===n?tr(e):parseFloat(e.toFixed(Zn)).toString(),ie(r,t)}function tr(e){return 0===e?"false":"true"}function nr(e,t,n,r,a,s=!0){const o="complex64"===n?2:1,i=t[0],u=t.length;if(0===u)return"complex64"===n?[er(rr(e)[0],0,n)]:"bool"===n?[tr(e[0])]:[e[0].toString()];if(1===u){if(i>Yn){const t=Jn*o;let r=Array.from(e.slice(0,t)),s=Array.from(e.slice((i-Jn)*o,i*o));return"complex64"===n&&(r=rr(r),s=rr(s)),["["+r.map(((e,t)=>er(e,a[t],n))).join(", ")+", ..., "+s.map(((e,t)=>er(e,a[i-Jn+t],n))).join(", ")+"]"]}return["["+("complex64"===n?rr(e):Array.from(e)).map(((e,t)=>er(e,a[t],n))).join(", ")+"]"]}const l=t.slice(1),d=r.slice(1),c=r[0]*o,p=[];if(i>Yn){for(let t=0;t<Jn;t++){const r=t*c,s=r+c;p.push(...nr(e.slice(r,s),l,n,d,a,!1))}p.push("...");for(let t=i-Jn;t<i;t++){const r=t*c,s=r+c;p.push(...nr(e.slice(r,s),l,n,d,a,t===i-1))}}else for(let t=0;t<i;t++){const r=t*c,s=r+c;p.push(...nr(e.slice(r,s),l,n,d,a,t===i-1))}const h=2===u?",":"";p[0]="["+p[0]+h;for(let e=1;e<p.length-1;e++)p[e]=" "+p[e]+h;let m=",\n";for(let e=2;e<u;e++)m+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(s?"":m),p}function rr(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class ar{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=ae(e),null!=n){const e=n.length;ee(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||le(t,this.size),this.strides=fe(e)}set(e,...t){0===t.length&&(t=[0]),ee(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return sr().makeTensor(this.values,this.shape,this.dtype)}}let sr=null,or=null,ir=null;class ur{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=ae(e),this.strides=fe(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return or.buffer(this.shape,this.dtype,e)}bufferSync(){return or.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return ye(this.shape,e,"complex64"===this.dtype)}arraySync(){return ye(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=sr().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>$n(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),sr().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=sr().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>$n(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await sr().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(sr().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return or.print(this,e)}clone(){return this.throwIfDisposed(),or.clone(this)}toString(e=!1){return Xn(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),or.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),sr().makeVariable(this,e,t,n)}}Object.defineProperty(ur,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),_e("Tensor",(()=>ur));class lr extends ur{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!se(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);sr().disposeTensor(this),this.dataId=e.dataId,sr().incRef(this,null)}dispose(){sr().disposeVariable(this),this.isDisposedInternal=!0}}var dr,cr,pr,hr,mr;Object.defineProperty(lr,Symbol.hasInstance,{value:e=>e instanceof ur&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(dr||(dr={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(cr||(cr={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(pr||(pr={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(hr||(hr={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(mr||(mr={}));const fr={float32:hr,int32:cr,bool:pr,complex64:mr};function gr(e,t){if(e.dtype===t.dtype)return[e,t];const n=function(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return fr[e][t]}(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function yr(e){const t=[];return br(e,t,new Set),t}function br(e,t,n){if(null==e)return;if(e instanceof ur)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!=typeof r)return;var r;const a=e;for(const e in a){const r=a[e];n.has(r)||(n.add(r),br(r,t,n))}}function wr(e){return null!=e.kernelName}class xr{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class vr{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new xr}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(vn(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Kn(this.backendInstance),!0}setupRegisteredKernels(){Nn(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){Nn(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof Z||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId||(this.registry[e]=n,this.pendingBackendInit=null,0)))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,vn(`Initialization of backend ${e} failed`),vn(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(t){return vn(`Initialization of backend ${e} failed`),vn(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),s=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return vr.nextTensorId++}nextVariableId(){return vr.nextVariableId++}clone(e){const t=Ar.runKernel(ut,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e};return Ar.runKernel(Pe,t,{dtype:"float32"})}})),[],{}),t}runKernel(e,t,n){if(null==this.backendName&&this.backend,null==En(e,this.backendName))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach((e=>{a+="complex64"===e.dtype?3:1}));const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-s;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,s=this.state.numTensors;let o,i;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const u=wr(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(wr(e)){const{kernelName:t,inputs:a,attrs:s}=e;null==this.backendName&&this.backend;const u=En(t,this.backendName);ee(null!=u,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),o=()=>{const e=this.backend.numDataIds();i=u.kernelFunc({inputs:a,attrs:s,backend:this.backend});const o=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,o);const l=o.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,a,l);n=this.saveTensorsForBackwardMode(e)}return l}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};o=()=>{const e=this.backend.numDataIds();i=this.tidy((()=>t(this.backend,a)));const n=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,e,n),n}}const{inputs:l,attrs:d}=e,c=wr(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(u,l,(()=>o())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=o()})),r&&this.addTapeNode(u,l,t,c,n,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(l).map((e=>null!=l[e]?l[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=In(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let s;r.saveAllInputs?(ee(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),s=Object.keys(t).map((e=>t[e]))):s=e.map((e=>t[e]));const o=n.filter(((e,t)=>a[t]));return s.concat(o)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&pe(e[0])&&(a=e.map((e=>qn(e))));const s=r.write(a,t,n),o=new ur(t,n,s,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){const e=this.state.tensorInfo.get(s),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,r){const a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:a}=e,s=new ur(r,a,n,this.nextTensorId());return this.trackTensor(s,t),s}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new lr(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*ce(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof lr||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*ce(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,s){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},i=In(e);null!=i&&(r=i.gradFunc),null!=r&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=we(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],a,s))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=yr(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(ee(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const a=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));ee(a instanceof ur,(()=>"The result y returned by f() must be a tensor."));const s=function(e,t,n){const r={},a={};for(let e=0;e<t.length;e++)r[t[e].id]=!0;for(let n=0;n<e.length;n++){const s=e[n],o=s.inputs;for(const e in o){const n=o[e];let i=!1;for(let e=0;e<t.length;e++)if(r[n.id]){s.outputs.forEach((e=>r[e.id]=!0)),i=!0,a[s.id]=!0;break}if(i)break}}const s={};s[n.id]=!0;const o={};for(let t=e.length-1;t>=0;t--){const n=e[t],r=n.inputs;for(let e=0;e<n.outputs.length;e++)if(s[n.outputs[e].id]){for(const e in r)s[r[e].id]=!0,o[n.id]=!0;break}}const i=[];for(let t=0;t<e.length;t++){const n=e[t];if(a[n.id]&&o[n.id]){const e={};for(const t in n.inputs){const a=n.inputs[t];r[a.id]&&(e[t]=a)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,i.push(t)}}return i}(this.state.activeTape,t,a);if(!r&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[a.id]=null==n?function(e){const t=be(ae(e),"float32");return Ar.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const s=t[a],o=[];if(s.outputs.forEach((t=>{const n=e[t.id];null!=n?o.push(n):o.push(null)})),null==s.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const i=s.gradient(o);for(const t in s.inputs){if(!(t in i))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(i)}.`);const a=n((()=>i[t]()));if("float32"!==a.dtype)throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${a.dtype}'`);const o=s.inputs[t];if(!se(a.shape,o.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${t}' has shape '${a.shape}', which does not match the shape of the input '${o.shape}'`);if(null==e[o.id])e[o.id]=a;else{const t=e[o.id];e[o.id]=r(t,a),t.dispose()}}}}(e,s,(e=>this.tidy(e)),Er);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:a,grads:r}}))}customGrad(e){return ee(me(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;ee(t.every((e=>e instanceof ur)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};return t.forEach(((e,t)=>{r[t]=e})),this.runKernelFunc({forwardFunc:(r,a)=>(n=e(...t,a),ee(n.value instanceof ur,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),ee(me(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const a=n.gradFunc(e,r),s=Array.isArray(a)?a:[a];ee(s.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),ee(s.every((e=>e instanceof ur)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return s.forEach(((e,t)=>{o[t]=()=>e})),o},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Wn(),n=await this.backend.time(e);return n.wallMs=Wn()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new xr;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function kr(){const e=Te();if(null==e._tfengine){const t=new Ae(e);e._tfengine=new vr(t)}var t;return t=e._tfengine.ENV,Se=t,sr=()=>e._tfengine,e._tfengine}vr.nextTensorId=0,vr.nextVariableId=0;const Ar=kr();function Er(e,t){const n={a:e,b:t};return Ar.runKernel(Ce,n)}const Ir=Ie();function Nr(e,t){let n=e;if(de(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||de(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Ie().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Sr(e,r,[]),r}function Sr(e,t,n){if(n=n||[],!Array.isArray(e)&&!de(e))return void ee(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));ee(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),ee(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let t=0;t<e.length;++t)Sr(e[t],r,n.concat(t))}function Tr(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function _r(e,t,n,r="numeric"){if(e instanceof ur)return Tr(r,e.dtype,t,n),e;let a=he(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),Tr(r,a,t,n),null==e||!de(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const s=Nr(e,a);de(e)||Array.isArray(e)||(e=[e]);const o="string"!==a?Hn(e,a):re(e,[],!0);return Ar.makeTensor(o,s,a)}function Cr(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,a)=>_r(e,`${t}[${a}]`,n,r)))}Ir.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Ir.registerFlag("IS_BROWSER",(()=>"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope)),Ir.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),Ir.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),Ir.registerFlag("PROD",(()=>!1)),Ir.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>Ir.getBool("DEBUG"))),Ir.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),Ir.registerFlag("IS_TEST",(()=>!1)),Ir.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),Ir.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),Ir.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1)),Ir.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1));const Mr="__op";function Dr(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=Mr;const a=(...e)=>{Ar.startScope(n);try{const t=r(...e);return ve(t)&&console.error("Cannot return a Promise inside of tidy."),Ar.endScope(t),t}catch(e){throw Ar.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const Fr=Dr({complex_:function(e,t){const n=_r(e,"real","complex"),r=_r(t,"imag","complex");te(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return Ar.runKernel("Complex",a)}});function Or(e,t,n,r){if(null==r&&(r=he(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!de(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){xe(t);const e=ae(t),r=ae(n);ee(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let e=0;e<n.length;++e){const r=n[e],a=e!==n.length-1||r!==ae(t.slice(e));ee(n[e]===t[e]||!a,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return de(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Hn(e,r):re(e,[],!0),Ar.makeTensor(e,t,r)}function Br(e,t,n){return Or(e,t,Nr(e,n),n)}const Rr={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},Lr=4;async function Pr(e,t){const n=[],r=[],a=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let s=0;s<a.length;++s){const o=a[s],i=Array.isArray(e)?e[s].tensor:e[o];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${i.dtype}`);const u={name:o,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+Lr*t.length,r=new Uint8Array(n);let a=0;for(let e=0;e<t.length;e++){const n=t[e],s=new Uint8Array(new Uint32Array([n.length]).buffer);r.set(s,a),a+=Lr,r.set(n,a),a+=n.length}e(r)}));r.push(e)}else r.push(i.data());null!=t&&(u.group=t),n.push(u)}return{data:Ur(await Promise.all(r)),specs:n}}function zr(e,t){const n={};let r,a=0;for(const s of t){const t=s.name,o=s.dtype,i=s.shape,u=ae(i);let l;if("quantization"in s){const n=s.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${s.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${s.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==o)throw new Error(`Weight ${s.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${o}.`)}const i=Rr[n.dtype],d=e.slice(a,a+u*i),c="uint8"===n.dtype?new Uint8Array(d):new Uint16Array(d);if("float32"===o)if("uint8"===n.dtype||"uint16"===n.dtype){l=new Float32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];l[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===r&&(r=Gr()),l=r(c)}else{if("int32"!==o)throw new Error(`Unsupported dtype in weight '${t}': ${o}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);l=new Int32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];l[e]=Math.round(t*n.scale+n.min)}}a+=u*i}else if("string"===o){const t=ae(s.shape);l=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(a,a+Lr))[0];a+=Lr;const n=new Uint8Array(e.slice(a,a+t));l.push(n),a+=t}}else{const r=Rr[o],s=e.slice(a,a+u*r);if("float32"===o)l=new Float32Array(s);else if("int32"===o)l=new Int32Array(s);else if("bool"===o)l=new Uint8Array(s);else{if("complex64"!==o)throw new Error(`Unsupported dtype in weight '${t}': ${o}`);{l=new Float32Array(s);const e=new Float32Array(l.length/2),r=new Float32Array(l.length/2);for(let t=0;t<e.length;t++)e[t]=l[2*t],r[t]=l[2*t+1];const a=Br(e,i,"float32"),o=Br(r,i,"float32");n[t]=Fr(a,o),a.dispose(),o.dispose()}}a+=u*r}"complex64"!==o&&(n[t]=Br(l,i,o))}return n}function Ur(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let a=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}const Vr="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function jr(e){return Vr?Buffer.byteLength(e):new Blob([e]).size}function Hr(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Wr(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function qr(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function $r(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){const[r,a]=await t(e.weightsManifest);n.weightSpecs=r,n.weightData=a}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),n}function Kr(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:jr(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:jr(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function Gr(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;!(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),s=new Uint32Array(a);for(let a=0;a<r.length;a++){const o=r[a],i=e[n[o>>10]+(1023&o)]+t[o>>10];s[a]=i}return new Float32Array(a)}}class Qr{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Qr.instance&&(Qr.instance=new Qr),Qr.instance}static registerSaveRouter(e){Qr.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Qr.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Qr.getHandlers(e,"save")}static getLoadHandlers(e,t){return Qr.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?Qr.getInstance().loadRouters:Qr.getInstance().saveRouters).forEach((t=>{const a=t(e,n);null!==a&&r.push(a)})),r}}const Yr=e=>Qr.registerSaveRouter(e),Jr=e=>Qr.registerLoadRouter(e),Zr=e=>Qr.getSaveHandlers(e),Xr=(e,t)=>Qr.getLoadHandlers(e,t),ea="tensorflowjs",ta="models_store",na="model_info_store";function ra(){if(!Ie().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function aa(e){const t=e.result;t.createObjectStore(ta,{keyPath:"modelPath"}),t.createObjectStore(na,{keyPath:"modelPath"})}class sa{constructor(e){if(this.indexedDB=ra(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(ea,1);r.onupgradeneeded=()=>aa(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(ta,"readonly"),r=t.objectStore(ta).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{const r=Kr(t),s=a.transaction(na,"readwrite");let o=s.objectStore(na);const i=o.put({modelPath:this.modelPath,modelArtifactsInfo:r});let u;i.onsuccess=()=>{u=a.transaction(ta,"readwrite");const i=u.objectStore(ta).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});i.onsuccess=()=>e({modelArtifactsInfo:r}),i.onerror=e=>{o=s.objectStore(na);const t=o.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(i.error)),t.onerror=e=>(a.close(),n(i.error))}},i.onerror=e=>(a.close(),n(i.error)),s.oncomplete=()=>{null==u?a.close():u.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}sa.URL_SCHEME="indexeddb://";const oa=e=>{return Ie().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(sa.URL_SCHEME)?(t=e.slice(sa.URL_SCHEME.length),new sa(t)):null;var t};Qr.registerSaveRouter(oa),Qr.registerLoadRouter(oa);class ia{constructor(){this.indexedDB=ra()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(ea,1);n.onupgradeneeded=()=>aa(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(na,"readonly"),s=a.objectStore(na).getAll();s.onsuccess=()=>{const t={};for(const e of s.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},s.onerror=e=>(r.close(),t(s.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(sa.URL_SCHEME)?t.slice(sa.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(ea,1);r.onupgradeneeded=()=>aa(r),r.onsuccess=()=>{const a=r.result,s=a.transaction(na,"readwrite"),o=s.objectStore(na),i=o.get(e);let u;i.onsuccess=()=>{if(null==i.result)return a.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=o.delete(e),s=()=>{u=a.transaction(ta,"readwrite");const r=u.objectStore(ta).delete(e);r.onsuccess=()=>t(i.result.modelArtifactsInfo),r.onerror=e=>n(i.error)};r.onsuccess=s,r.onerror=e=>(s(),a.close(),n(i.error))}},i.onerror=e=>(a.close(),n(i.error)),s.oncomplete=()=>{null==u?a.close():u.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)}))}}const ua="/",la="tensorflowjs_models",da="info",ca="model_topology",pa="weight_specs",ha="weight_data",ma="model_metadata";function fa(e){return{info:[la,e,da].join(ua),topology:[la,e,ca].join(ua),weightSpecs:[la,e,pa].join(ua),weightData:[la,e,ha].join(ua),modelMetadata:[la,e,ma].join(ua)}}function ga(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function ya(e){const t=e.split(ua);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(ua)}class ba{constructor(e){if(!Ie().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=fa(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Kr(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Vr)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,r=t.length;e<r;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(e.weightData));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:r}}catch(e){throw ga(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const s=this.LS.getItem(this.keys.weightData);if(null==s)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(Vr){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(s),t}}ba.URL_SCHEME="localstorage://";const wa=e=>{return Ie().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ba.URL_SCHEME)?(t=e.slice(ba.URL_SCHEME.length),new ba(t)):null;var t};Qr.registerSaveRouter(wa),Qr.registerLoadRouter(wa);class xa{constructor(){ee(Ie().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),ee("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=la+ua,n=ua+da;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);a.startsWith(t)&&a.endsWith(n)&&(e[ya(a)]=JSON.parse(this.LS.getItem(a)))}return e}async removeModel(e){var t;const n=fa(e=(t=e).startsWith(ba.URL_SCHEME)?t.slice(ba.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return ga(n),r}}const va="://";class ka{constructor(){this.managers={}}static getInstance(){return null==ka.instance&&(ka.instance=new ka),ka.instance}static registerManager(e,t){ee(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(va)&&(e=e.slice(0,e.indexOf(va))),ee(e.length>0,(()=>"scheme must not be an empty string."));const n=ka.getInstance();ee(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=ka.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(ka.getInstance().managers)}}function Aa(e){if(-1===e.indexOf(va))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${ka.getSchemes().join(",")}`);return{scheme:e.split(va)[0],path:e.split(va)[1]}}async function Ea(e,t,n=!1){ee(e!==t,(()=>`Old path and new path are the same: '${e}'`));const r=Qr.getLoadHandlers(e);ee(r.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),ee(r.length<2,(()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`));const a=r[0],s=Qr.getSaveHandlers(t);ee(s.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),ee(s.length<2,(()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`));const o=s[0],i=Aa(e).scheme,u=Aa(e).path,l=i===Aa(e).scheme,d=await a.load();n&&l&&await ka.getManager(i).removeModel(u);const c=await o.save(d);return n&&!l&&await ka.getManager(i).removeModel(u),c.modelArtifactsInfo}async function Ia(){const e=ka.getSchemes(),t={};for(const n of e){const e=await ka.getManager(n).listModels();for(const r in e)t[n+va+r]=e[r]}return t}async function Na(e){const t=Aa(e);return ka.getManager(t.scheme).removeModel(t.path)}async function Sa(e,t){return Ea(e,t,!1)}async function Ta(e,t){return Ea(e,t,!0)}class _a{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if(Ie().get("IS_BROWSER")){Ie().setPlatform("browser",new _a);try{ka.registerManager(ba.URL_SCHEME,new xa)}catch(e){}try{ka.registerManager(sa.URL_SCHEME,new ia)}catch(e){}}let Ca;function Ma(e,t="float32",n){return t=t||"float32",xe(e),new ar(e,t,n)}Ie().get("IS_NODE")&&!Ie().get("IS_BROWSER")&&Ie().setPlatform("node",new class{constructor(){this.util=n(590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=Ie().global.fetch?Ie().global.fetch(e,t):(null==Ca&&(Ca=n(817)),Ca(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}});const Da=Dr({cast_:function(e,t){const n=_r(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return Ar.runKernel(Pe,r,a)}}),Fa=Dr({clone_:function(e){const t={x:_r(e,"x","clone","string_or_numeric")};return Ar.runKernel(ut,t)}});function Oa(e,t=!1){console.log(e.toString(t))}function Ba(e){return new Promise((e=>setTimeout(e))).then(e)}kr(),or={buffer:Ma,cast:Da,clone:Fa,print:Oa};class Ra{constructor(e){if(!Ie().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Ra.URL_SCHEME)&&(e=e.slice(Ra.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=qr(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await Ba((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await Ba((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Kr(e)}}}}Ra.URL_SCHEME="downloads://";class La{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),a=r.modelTopology;if(null==a)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:a});const s=$r(r,(e=>this.loadWeights(e)));e(s)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const r of e)t.push(...r.weights),n.push(...r.paths);const r=this.checkManifestAndWeightFiles(e),a=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(a).then((e=>[t,Hr(e)]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const a=new FileReader;a.onload=e=>{const t=e.target.result;n(t)},a.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),a.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>Wr(e.name))),r={};for(const a of e)a.paths.forEach((e=>{const a=Wr(e);if(-1!==t.indexOf(a))throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(t.push(a),-1===n.indexOf(a))throw new Error(`Weight file with basename '${a}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(a)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function Pa(e){return new La(e)}function za(e,t,n,r){!function(e){ee(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){ee(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),ee(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),ee(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map((s=>(s.then((s=>{const o=n+ ++a/e.length*(r-n);return t(o),s})),s))))}async function Ua(e,t){null==t&&(t={});const n=null==t.fetchFunc?Ie().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),a=(null==t.onProgress?await Promise.all(r):await za(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(a):await za(a,t.onProgress,.5,1)}async function Va(e,t="",n,r){return ja((e=>Ua(e,{requestInit:r})))(e,t,n)}function ja(e){return async(t,n="",r)=>{const a=t.map((()=>!1)),s={},o=null!=r?r.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const u="quantization"in e?e.quantization.dtype:e.dtype,l=Rr[u]*ae(e.shape),d=()=>{a[t]=!0,null==s[t]&&(s[t]=[]),s[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=r?r.forEach(((t,n)=>{t===e.name&&(d(),o[n]=!0)})):d(),i.push(e.name),n+=l}))})),!o.every((e=>e))){const e=r.filter(((e,t)=>!o[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${i.join(", ")}.`)}const u=a.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),l=[];u.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;l.push(t)}))}));const d=await e(l),c={};let p=0;return u.forEach((e=>{const n=t[e].paths.length;let r=0;for(let e=0;e<n;e++)r+=d[p+e].byteLength;const a=new ArrayBuffer(r),o=new Uint8Array(a);let i=0;for(let e=0;e<n;e++){const t=new Uint8Array(d[p+e]);o.set(t,i),i+=t.byteLength}s[e].forEach((e=>{const t=zr(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const e in t)c[e]=t[e]})),p+=n})),c}}Qr.registerSaveRouter((e=>Ie().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ra.URL_SCHEME)?function(e="model"){return new Ra(e)}(e.slice(Ra.URL_SCHEME.length)):null));class Ha{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(ee("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=Ie().platform.fetch,ee(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&ee(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=qr(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:Kr(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return $r(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),a=this.weightPathPrefix||n,s=[];for(const t of e)s.push(...t.weights);const o=[],i=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):o.push(a+e+r);return this.weightUrlConverter&&o.push(...await Promise.all(i)),[s,Hr(await Ua(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function Wa(e){return null!=e.match(Ha.URL_SCHEME_REGEX)}Ha.URL_SCHEME_REGEX=/^https?:\/\//;const qa=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>Wa(e))):Wa(e),n)return $a(e,t)}return null};function $a(e,t){return new Ha(e,t)}function Ka(e,t){return $a(e,t)}Qr.registerSaveRouter(qa),Qr.registerLoadRouter(qa);class Ga{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Qa{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Ya{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function Ja(e,t,n,r){return new Ya(Za(...arguments))}function Za(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new Ga(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ga({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ga({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function Xa(e){return new Qa(e)}function es(e){return new Qa(e)}function ts(e,t){const n=[],r=Math.max(e.length,t.length);for(let a=0;a<r;a++){let r=e[e.length-a-1];null==r&&(r=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===r)n.unshift(s);else if(1===s)n.unshift(r);else{if(r!==s)throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`);n.unshift(r)}}return n}function ns(e,t,n){if(ne(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=Nr(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Or(e,t,r,n)}let rs;const as=Dr({fromPixels_:function(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,s=!1,o=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)s=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);i=!0}if(null!=En(gn,Ar.backendName)){const n={pixels:e},r={numChannels:t};return Ar.runKernel(gn,n,r)}const[u,l]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height];let d,c;if(o)d=e.getContext("2d").getImageData(0,0,u,l).data;else if(r||n)d=e.data;else if(s||a||i){if(null==rs)if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas||"undefined"==typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");rs=new OffscreenCanvas(1,1).getContext("2d")}else rs=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});rs.canvas.width=u,rs.canvas.height=l,rs.drawImage(e,0,0,u,l),d=rs.getImageData(0,0,u,l).data}if(4===t)c=new Int32Array(d);else{const e=u*l;c=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)c[n*t+e]=d[4*n+e]}return ns(c,[l,u,t],"int32")}});function ss(e,t,n){let r=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){r=e;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function os(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function is(e,t,n,r,a,s){if(a[t])return n>0?s[t]:s[t+1&1];{const t=e<0?r+e:e;return t<s[0]?s[0]:t>s[1]?s[1]:t}}const us=Dr({abs_:function(e){const t=_r(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return Ar.runKernel("ComplexAbs",e)}{const e={x:t};return Ar.runKernel("Abs",e)}}}),ls=Dr({acos_:function(e){const t={x:_r(e,"x","acos")};return Ar.runKernel("Acos",t)}}),ds=Dr({acosh_:function(e){const t={x:_r(e,"x","acosh")};return Ar.runKernel("Acosh",t)}}),cs=Dr({add_:function(e,t){let n=_r(e,"a","add"),r=_r(t,"b","add");[n,r]=gr(n,r);const a={a:n,b:r};return Ar.runKernel(Ce,a)}}),ps=Dr({addN_:function(e){ee(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),ee(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>_r(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!se(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return Ar.runKernel(Me,r)}}),hs=Dr({all_:function(e,t=null,n=!1){const r={x:_r(e,"x","all","bool")},a={axis:t,keepDims:n};return Ar.runKernel(De,r,a)}}),ms=Dr({any_:function(e,t=null,n=!1){const r={x:_r(e,"x","any","bool")},a={axis:t,keepDims:n};return Ar.runKernel(Fe,r,a)}}),fs=Dr({argMax_:function(e,t=0){const n={x:_r(e,"x","argMax")},r={axis:t};return Ar.runKernel(Oe,n,r)}}),gs=Dr({argMin_:function(e,t=0){const n={x:_r(e,"x","argMin")},r={axis:t};return Ar.runKernel("ArgMin",n,r)}}),ys=Dr({asin_:function(e){const t={x:_r(e,"x","asin")};return Ar.runKernel("Asin",t)}}),bs=Dr({asinh_:function(e){const t={x:_r(e,"x","asinh")};return Ar.runKernel("Asinh",t)}}),ws=Dr({atan_:function(e){const t={x:_r(e,"x","atan")};return Ar.runKernel("Atan",t)}}),xs=Dr({atan2_:function(e,t){let n=_r(e,"a","atan2"),r=_r(t,"b","atan2");[n,r]=gr(n,r);const a={a:n,b:r};return Ar.runKernel("Atan2",a)}}),vs=Dr({atanh_:function(e){const t={x:_r(e,"x","atanh")};return Ar.runKernel("Atanh",t)}});function ks(e,t,n,r,a,s,o="channelsLast"){const[i,u]=Es(t);let l;if("channelsLast"===o)l=[i,u,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);l=[i,u,e[1],e[1]]}return As(e,l,n,r,a,s,!1,o)}function As(e,t,n,r,a,s,o=!1,i="channelsLast"){let[u,l,d,c]=[-1,-1,-1,-1];if("channelsLast"===i)[u,l,d,c]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[u,c,l,d]=e}const[p,h,,m]=t,[f,g]=Es(n),[y,b]=Es(r),w=Is(p,y),x=Is(h,b),{padInfo:v,outHeight:k,outWidth:A}=function(e,t,n,r,a,s,o,i,u){let l,d,c;if("number"==typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=function(e,t,n,r=1){const a=Is(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}(e,t,n));const s=e[1];return[Ns((e[0]-t+2*r)/n+1,a),Ns((s-t+2*r)/n+1,a)]}([t,n],s,r,e,i);d=a[0],c=a[1]}else if("same"===e){d=Math.ceil(t/r),c=Math.ceil(n/a);const e=Math.max(0,(d-1)*r+s-t),i=Math.max(0,(c-1)*a+o-n),u=Math.floor(e/2),p=e-u,h=Math.floor(i/2);l={top:u,bottom:p,left:h,right:i-h,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((t-s+1)/r),c=Math.ceil((n-o+1)/a);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const p="channelsLast"===u?e[1][0]:e[2][0],h="channelsLast"===u?e[1][1]:e[2][1],m="channelsLast"===u?e[2][0]:e[3][0],f="channelsLast"===u?e[2][1]:e[3][1];l={top:p,bottom:h,left:m,right:f,type:0===p&&0===h&&0===m&&0===f?"VALID":"EXPLICIT"},d=Ns((t-s+p+h)/r+1,i),c=Ns((n-o+m+f)/a+1,i)}}return{padInfo:l,outHeight:d,outWidth:c}}(a,l,d,f,g,w,x,s,i),E=o?m*c:m;let I;return"channelsFirst"===i?I=[u,E,k,A]:"channelsLast"===i&&(I=[u,k,A,E]),{batchSize:u,dataFormat:i,inHeight:l,inWidth:d,inChannels:c,outHeight:k,outWidth:A,outChannels:E,padInfo:v,strideHeight:f,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:w,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:b,inShape:e,outShape:I,filterShape:t}}function Es(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Is(e,t){return t<=1?e:e+(e-1)*(t-1)}function Ns(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function Ss(e){const[t,n,r]=Es(e);return 1===t&&1===n&&1===r}function Ts(e,t){return Ss(e)||Ss(t)}function _s(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function Cs(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)ee(oe(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{ee(oe(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const Ms=Dr({reshape_:function(e,t){const n={x:_r(e,"x","reshape","string_or_numeric")},r={shape:t};return Ar.runKernel(Rt,n,r)}}),Ds=Dr({avgPool_:function(e,t,n,r,a){const s=_r(e,"x","avgPool","float32");ee(Ts(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let o=s,i=!1;3===s.rank&&(i=!0,o=Ms(s,[1,s.shape[0],s.shape[1],s.shape[2]])),ee(4===o.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`)),Cs("avgPool",r,a);const u={x:o},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let d=Ar.runKernel(Be,u,l);return d=Da(d,s.dtype),i?Ms(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),Fs=Dr({avgPool3d_:function(e,t,n,r,a,s="NDHWC"){const o=_r(e,"x","avgPool3d","float32");let i=o,u=!1;4===o.rank&&(u=!0,i=Ms(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(5===i.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`)),ee("NDHWC"===s,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`)),Cs("avgPool3d",r,a);const l={x:i},d={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s};let c=Ar.runKernel("AvgPool3D",l,d);return c=Da(c,i.dtype),u?Ms(c,[c.shape[1],c.shape[2],c.shape[3],c.shape[4]]):c}}),Os=Dr({concat_:function(e,t=0){ee(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=Cr(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return Fa(n[0]);const r=n,a={axis:t};return Ar.runKernel(Ve,r,a)}}),Bs=Dr({matMul_:function(e,t,n=!1,r=!1){let a=_r(e,"a","matMul"),s=_r(t,"b","matMul");[a,s]=gr(a,s);const o={a,b:s},i={transposeA:n,transposeB:r};return Ar.runKernel(Re,o,i)}}),Rs=Dr({mul_:function(e,t){let n=_r(e,"a","mul"),r=_r(t,"b","mul");[n,r]=gr(n,r);const a={a:n,b:r};return Ar.runKernel(At,a)}}),Ls=Dr({sigmoid_:function(e){const t={x:_r(e,"x","sigmoid","float32")};return Ar.runKernel($t,t)}}),Ps=Dr({slice_:function(e,t,n){const r=_r(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},s={begin:t,size:n};return Ar.runKernel(qt,a,s)}}),zs=Dr({tanh_:function(e){const t={x:_r(e,"x","tanh","float32")};return Ar.runKernel(un,t)}}),Us=Dr({basicLSTMCell_:function(e,t,n,r,a,s){const o=_r(e,"forgetBias","basicLSTMCell"),i=_r(t,"lstmKernel","basicLSTMCell"),u=_r(n,"lstmBias","basicLSTMCell"),l=_r(r,"data","basicLSTMCell"),d=_r(a,"c","basicLSTMCell"),c=_r(s,"h","basicLSTMCell"),p=Os([l,c],1),h=Bs(p,i),m=cs(h,u),f=m.shape[0],g=m.shape[1]/4,y=[f,g],b=Ps(m,[0,0],y),w=Ps(m,[0,g],y),x=Ps(m,[0,2*g],y),v=Ps(m,[0,3*g],y),k=cs(Rs(Ls(b),zs(w)),Rs(d,Ls(cs(o,x))));return[k,Rs(zs(k),Ls(v))]}}),Vs=Dr({batchToSpaceND_:function(e,t,n){const r=_r(e,"x","batchToSpaceND"),a=t.reduce(((e,t)=>e*t));ee(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),ee(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),ee(r.shape[0]%a==0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`));const s={x:r},o={blockShape:t,crops:n};return Ar.runKernel(Le,s,o)}}),js=Dr({batchNorm_:function(e,t,n,r,a,s){null==s&&(s=.001);const o=_r(e,"x","batchNorm"),i=_r(t,"mean","batchNorm"),u=_r(n,"variance","batchNorm");let l,d;null!=a&&(l=_r(a,"scale","batchNorm")),null!=r&&(d=_r(r,"offset","batchNorm")),ee(i.rank===u.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),ee(null==d||i.rank===d.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),ee(null==l||i.rank===l.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const c=function(e){let t;return t=0===e.rank||1===e.rank?Ms(e,[1,1,1,e.size]):2===e.rank?Ms(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Ms(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(o),p={x:c,scale:l,offset:d,mean:i,variance:u},h={varianceEpsilon:s},m=Ar.runKernel(rt,p,h);return Ms(m,o.shape)}}),Hs=Dr({batchNorm2d_:function(e,t,n,r,a,s){const o=_r(e,"x","batchNorm"),i=_r(t,"mean","batchNorm"),u=_r(n,"variance","batchNorm");let l,d;return null!=a&&(l=_r(a,"scale","batchNorm")),null!=r&&(d=_r(r,"offset","batchNorm")),ee(2===o.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`)),ee(2===i.rank||1===i.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${i.rank}.`)),ee(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=l&&ee(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=d&&ee(2===d.rank||1===d.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${d.rank}.`)),js(o,i,u,d,l,s)}}),Ws=Dr({batchNorm3d_:function(e,t,n,r,a,s){const o=_r(e,"x","batchNorm"),i=_r(t,"mean","batchNorm"),u=_r(n,"variance","batchNorm");let l,d;return null!=a&&(l=_r(a,"scale","batchNorm")),null!=r&&(d=_r(r,"offset","batchNorm")),ee(3===o.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`)),ee(3===i.rank||1===i.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${i.rank}.`)),ee(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=l&&ee(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=d&&ee(3===d.rank||1===d.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${d.rank}.`)),js(o,i,u,d,l,s)}}),qs=Dr({batchNorm4d_:function(e,t,n,r,a,s){const o=_r(e,"x","batchNorm"),i=_r(t,"mean","batchNorm"),u=_r(n,"variance","batchNorm");let l,d;return null!=a&&(l=_r(a,"scale","batchNorm")),null!=r&&(d=_r(r,"offset","batchNorm")),ee(4===o.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`)),ee(4===i.rank||1===i.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${i.rank}.`)),ee(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=l&&ee(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=d&&ee(4===d.rank||1===d.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${d.rank}.`)),js(o,i,u,d,l,s)}}),$s=Dr({bincount_:function(e,t,n){const r=_r(e,"x","bincount"),a=_r(t,"weights","bincount");ee("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),ee(n>=0,(()=>`size must be non-negative, but got ${n}.`)),ee(a.size===r.size||0===a.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`));const s={x:r,weights:a},o={size:n};return Ar.runKernel("Bincount",s,o)}}),Ks=Dr({broadcastArgs_:function(e,t){const n=_r(e,"s0","broadcastArgs","int32"),r=_r(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const a={s0:n,s1:r};return Ar.runKernel("BroadcastArgs",a)}}),Gs=Dr({broadcastTo_:function(e,t){let n=_r(e,"broadcastTo","x");const r=n.shape;if(t.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=Ms(n,e)}const a=n.shape,s=Array.from(t);for(let e=t.length-1;e>=0;e--)if(a[e]===t[e])s[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===s.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return Fa(n);const o={x:n},i={reps:s};return Ar.runKernel(ln,o,i)}}),Qs=Dr({ceil_:function(e){const t={x:_r(e,"x","ceil","float32")};return Ar.runKernel(ze,t)}}),Ys=Dr({clipByValue_:function(e,t,n){const r=_r(e,"x","clipByValue");ee(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const a={x:r},s={clipValueMin:t,clipValueMax:n};return Ar.runKernel(Ue,a,s)}}),Js=Dr({concat1d_:function(e){return Os(e,0)}}),Zs=Dr({concat2d_:function(e,t){return Os(e,t)}}),Xs=Dr({concat3d_:function(e,t){return Os(e,t)}}),eo=Dr({concat4d_:function(e,t){return Os(e,t)}}),to=Dr({conv2d_:function(e,t,n,r,a="NHWC",s=[1,1],o){const i=_r(e,"x","conv2d","float32"),u=_r(t,"filter","conv2d","float32");let l=i,d=!1;3===i.rank&&(d=!0,l=Ms(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(4===l.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${l.rank}.`)),ee(4===u.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${u.rank}.`)),Cs("conv2d",r,o);const c="NHWC"===a?l.shape[3]:l.shape[1];ee(c===u.shape[2],(()=>`Error in conv2d: depth of input (${c}) must match input depth for filter ${u.shape[2]}.`)),ee(Ts(n,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`));const p={x:l,filter:u},h={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o},m=Ar.runKernel(je,p,h);return d?Ms(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),no=Dr({conv1d_:function(e,t,n,r,a="NWC",s=1,o){const i=_r(e,"x","conv1d"),u=_r(t,"filter","conv1d");let l=i,d=!1;2===i.rank&&(d=!0,l=Ms(i,[1,i.shape[0],i.shape[1]])),ee(3===l.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${l.rank}.`)),ee(3===u.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${u.rank}.`)),Cs("conv1d",r,o),ee(l.shape[2]===u.shape[1],(()=>`Error in conv1d: depth of input (${l.shape[2]}) must match input depth for filter ${u.shape[1]}.`)),ee(Ts(n,s),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${s}'`)),ee("NWC"===a,(()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`));const c=Ms(u,[1,u.shape[0],u.shape[1],u.shape[2]]),p=Ms(l,[l.shape[0],1,l.shape[1],l.shape[2]]),h=to(p,c,[1,n],r,"NHWC",[1,s],o);return Ms(h,d?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}}),ro=Dr({conv2DBackpropInput_:function(e,t,n,r,a,s="NHWC",o){ee(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let i=e,u=t,l=!1;3===t.rank&&(l=!0,u=Ms(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),ee(4===i.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`)),ee(4===u.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${u.rank}`)),ee(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const d="NHWC"===s?i[3]:i[1],c="NHWC"===s?u.shape[3]:u.shape[1];ee(d===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${d}) must match input depth for filter ${n.shape[2]}.`)),ee(c===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[3]}.`)),Cs("conv2dDerInput",a,o);const p={dy:u,filter:n},h={strides:r,pad:a,dataFormat:s,dimRoundingMode:o,inputShape:i},m=Ar.runKernel(He,p,h);return l?Ms(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),ao=Dr({conv2dTranspose_:function(e,t,n,r,a,s){const o=_r(e,"x","conv2dTranspose"),i=_r(t,"filter","conv2dTranspose");return ro(n,o,i,r,a,"NHWC",s)}}),so=Dr({conv3d_:function(e,t,n,r,a="NDHWC",s=[1,1,1]){const o=_r(e,"x","conv3d"),i=_r(t,"filter","conv3d");let u=o,l=!1;4===o.rank&&(l=!0,u=Ms(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(5===u.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${u.rank}.`)),ee(5===i.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`)),ee(u.shape[4]===i.shape[3],(()=>`Error in conv3d: depth of input (${u.shape[4]}) must match input depth for filter ${i.shape[3]}.`)),ee(Ts(n,s),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),ee("NDHWC"===a,(()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`));const d={x:u,filter:i},c={strides:n,pad:r,dataFormat:a,dilations:s},p=Ar.runKernel("Conv3D",d,c);return l?Ms(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),oo=Dr({conv3DBackpropInput_:function(e,t,n,r,a){ee(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let s=e,o=t,i=!1;4===t.rank&&(i=!0,o=Ms(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),s=[1,e[0],e[1],e[2],e[3]]);const u=s[4],l=o.shape[4];ee(5===s.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`)),ee(5===o.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`)),ee(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),ee(u===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[3]}.`)),ee(l===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${l}) must match output depth for filter ${n.shape[4]}.`));const d={dy:o,filter:n},c={pad:a,strides:r,inputShape:s},p=Ar.runKernel("Conv3DBackpropInputV2",d,c);return i?Ms(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),io=Dr({conv3dTranspose_:function(e,t,n,r,a){const s=_r(e,"x","conv3dTranspose"),o=_r(t,"filter","conv3dTranspose");return oo(n,s,o,r,a)}}),uo=Dr({cos_:function(e){const t={x:_r(e,"x","cos","float32")};return Ar.runKernel("Cos",t)}}),lo=Dr({cosh_:function(e){const t={x:_r(e,"x","cosh","float32")};return Ar.runKernel(We,t)}}),co=Dr({cumprod_:function(e,t=0,n=!1,r=!1){const a={x:_r(e,"x","cumprod")},s={axis:t,exclusive:n,reverse:r};return Ar.runKernel(qe,a,s)}}),po=Dr({cumsum_:function(e,t=0,n=!1,r=!1){const a={x:_r(e,"x","cumsum")},s={axis:t,exclusive:n,reverse:r};return Ar.runKernel($e,a,s)}}),ho=Dr({denseBincount_:function(e,t,n,r=!1){const a=_r(e,"x","denseBincount"),s=_r(t,"weights","denseBincount");ee("int32"===a.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`)),ee(a.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`)),ee(n>=0,(()=>`size must be non-negative, but got ${n}.`)),ee(s.size===a.size||0===s.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${s.shape}.`));const o={x:a,weights:s},i={size:n,binaryOutput:r};return Ar.runKernel("DenseBincount",o,i)}}),mo=Dr({depthToSpace_:function(e,t,n="NHWC"){const r=_r(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],s="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];ee(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),ee(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),ee(s*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${s} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),ee(o%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${o} for depthToSpace with input shape ${r.shape}`));const i={x:r},u={blockSize:t,dataFormat:n};return Ar.runKernel(Ge,i,u)}}),fo=Dr({depthwiseConv2d_:function(e,t,n,r,a="NHWC",s=[1,1],o){const i=_r(e,"x","depthwiseConv2d","float32"),u=_r(t,"filter","depthwiseConv2d","float32");let l=i,d=!1;3===i.rank&&(d=!0,l=Ms(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(4===l.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${l.rank}.`)),ee(4===u.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${u.rank}.`));const c="NHWC"===a?l.shape[3]:l.shape[1];ee(c===u.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${c}) must match the inChannels dimension in filter ${u.shape[2]}.`)),Cs("depthwiseConv2d",r,o);const p={x:l,filter:u},h={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o},m=Ar.runKernel(Qe,p,h);return d?Ms(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),go=Dr({diag_:function(e){const t={x:_r(e,"x","diag")};return Ar.runKernel("Diag",t)}}),yo=Dr({dilation2d_:function(e,t,n,r,a=[1,1],s="NHWC"){const o=_r(e,"x","dilation2d"),i=_r(t,"filter","dilation2d");ee(3===o.rank||4===o.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`)),ee(3===i.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`)),ee("NHWC"===s,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`));let u=o,l=!1;3===o.rank&&(u=Ms(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=!0);const d={x:u,filter:i},c={strides:n,pad:r,dilations:a},p=Ar.runKernel("Dilation2D",d,c);return l?Ms(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),bo=Dr({floorDiv_:function(e,t){let n=_r(e,"a","floorDiv"),r=_r(t,"b","floorDiv");[n,r]=gr(n,r);const a={a:n,b:r};return Ar.runKernel(nt,a)}}),wo=Dr({div_:function(e,t){let n=_r(e,"a","div"),r=_r(t,"b","div");if([n,r]=gr(n,r),"int32"===n.dtype&&"int32"===r.dtype)return bo(n,r);const a={a:n,b:r};return Ar.runKernel(Ye,a,{})}}),xo=Dr({equal_:function(e,t){let n=_r(e,"a","equal","string_or_numeric"),r=_r(t,"b","equal","string_or_numeric");[n,r]=gr(n,r),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(Je,a)}}),vo=Dr({where_:function(e,t,n){const r=_r(t,"a","where"),a=_r(n,"b","where"),s=_r(e,"condition","where","bool"),o=ts(ts(s.shape,r.shape),a.shape),i={condition:Gs(s,o),t:Gs(r,o),e:Gs(a,o)};return Ar.runKernel(Wt,i)}}),ko=Dr({zerosLike_:function(e){const t={x:_r(e,"x","zerosLike")};return Ar.runKernel(mn,t)}}),Ao=Dr({divNoNan_:function(e,t){let n=_r(e,"a","div"),r=_r(t,"b","div");[n,r]=gr(n,r);const a=wo(n,r),s=ko(a),o=xo(r,s);return vo(o,s,a)}}),Eo=Dr({dot_:function(e,t){const n=_r(e,"t1","dot"),r=_r(t,"t2","dot");ee(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const a=1===n.rank?n.size:n.shape[1],s=1===r.rank?r.size:r.shape[0];if(ee(a===s,(()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${s}.`)),1===n.rank&&1===r.rank){const e=Ms(n,[1,-1]),t=Ms(r,[-1,1]),a=Bs(e,t);return Ms(a,[])}if(1===n.rank&&2===r.rank){const e=Ms(n,[1,-1]),t=Ms(r,[r.shape[0],r.shape[1]]),a=Bs(e,t);return Ms(a,[a.size])}if(2===n.rank&&1===r.rank){const e=Ms(r,[-1,1]),t=Bs(n,e);return Ms(t,[t.size])}{const e=Ms(r,[r.shape[0],r.shape[1]]);return Bs(n,e)}}}),Io=Dr({einsum_:function(e,...t){const n=t.map(((e,t)=>_r(e,`tensors${t}`,"einsum"))),r={equation:e};return Ar.runKernel("Einsum",n,r)}}),No=Dr({elu_:function(e){const t={x:_r(e,"x","elu","float32")};return Ar.runKernel("Elu",t)}}),So=Dr({erf_:function(e){let t=_r(e,"x","erf");ee("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=Da(t,"float32"));const n={x:t};return Ar.runKernel("Erf",n)}});function To(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function _o(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((t=>e[t]))]}function Co(e,t){return function(e,t,n){const r=e.length+t.length,a=[];let s=0,o=0;for(let i=0;i<r;i++)-1===n.indexOf(i)?a.push(e[s++]):a.push(t[o++]);return a}(e,t.map((e=>1)),t)}function Mo(e,t,n){ee(To(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function Do(e,t){if(To(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function Fo(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function Oo(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const Bo=Dr({max_:function(e,t=null,n=!1){const r={x:_r(e,"x","max")},a={reductionIndices:t,keepDims:n};return Ar.runKernel(gt,r,a)}}),Ro=Dr({min_:function(e,t=null,n=!1){const r={x:_r(e,"x","min")},a={axis:t,keepDims:n};return Ar.runKernel(xt,r,a)}}),Lo=Dr({pow_:function(e,t){let n=_r(e,"base","pow"),r=_r(t,"exp","pow");[n,r]=gr(n,r);const a={a:n,b:r};return Ar.runKernel("Pow",a)}});function Po(e,t){if((de(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&de(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Or(e,[],[],t)}const zo=Dr({sqrt_:function(e){const t={x:_r(e,"x","sqrt","float32")};return Ar.runKernel(Kt,t)}}),Uo=Dr({square_:function(e){const t=_r(e,"x","square");return Ar.runKernel("Square",{x:t},{})}}),Vo=Dr({sum_:function(e,t=null,n=!1){let r=_r(e,"x","sum");"bool"===r.dtype&&(r=Da(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return Ar.runKernel(Gt,a,s)}});function jo(e,t,n=null){if(0===e.rank)return us(e);if(1!==e.rank&&null===n)return jo(Ms(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Vo(us(e),n);if(t===1/0)return Bo(us(e),n);if(t===-1/0)return Ro(us(e),n);if("euclidean"===t||2===t)return zo(Vo(Lo(us(e),Po(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return Bo(Vo(us(e),n[0]),n[1]-1);if(t===1/0)return Bo(Vo(us(e),n[1]),n[0]);if(t===-1/0)return Ro(Vo(us(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return zo(Vo(Uo(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Ho=Dr({norm_:function(e,t="euclidean",n=null,r=!1){const a=jo(e=_r(e,"x","norm"),t,n);let s=a.shape;if(r){const t=ue(n,e.shape);s=Co(a.shape,t)}return Ms(a,s)}}),Wo=Dr({euclideanNorm_:function(e,t=null,n=!1){return Ho(e,"euclidean",t,n)}}),qo=Dr({exp_:function(e){const t={x:_r(e,"x","exp")};return Ar.runKernel("Exp",t)}}),$o=Dr({expandDims_:function(e,t=0){const n=_r(e,"x","expandDims","string_or_numeric");ee(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},a={dim:t};return Ar.runKernel(Ze,r,a)}}),Ko=Dr({expm1_:function(e){const t={x:_r(e,"x","expm1")};return Ar.runKernel("Expm1",t)}}),Go=Dr({tile_:function(e,t){const n=_r(e,"x","tile","string_or_numeric");ee(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},a={reps:t};return Ar.runKernel(ln,r,a)}}),Qo=Dr({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const a=Ma([e,t],r),s=e<=t?e:t;for(let e=0;e<s;++e)a.set(1,e,e);const o=Ms(a.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return Go($o(o,0),[n[0],1,1]);if(2===n.length)return Go($o($o(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return Go($o($o($o(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});function Yo(e,t,n){const r={shape:e,value:t,dtype:n};return Ar.runKernel(Xe,{},r)}const Jo=Dr({floor_:function(e){const t={x:_r(e,"x","floor","float32")};return Ar.runKernel(tt,t)}}),Zo=Dr({gather_:function(e,t,n=0,r=0){const a={x:_r(e,"x","gather"),indices:_r(t,"indices","gather","int32")},s={axis:n,batchDims:r};return Ar.runKernel(at,a,s)}}),Xo=Dr({greater_:function(e,t){let n=_r(e,"a","greater","string_or_numeric"),r=_r(t,"b","greater","string_or_numeric");[n,r]=gr(n,r),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(ot,a)}}),ei=Dr({greaterEqual_:function(e,t){let n=_r(e,"a","greaterEqual","string_or_numeric"),r=_r(t,"b","greaterEqual","string_or_numeric");[n,r]=gr(n,r),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(it,a)}}),ti=Dr({imag_:function(e){const t={input:_r(e,"input","imag")};return Ar.runKernel("Imag",t)}}),ni=Dr({isFinite_:function(e){const t={x:_r(e,"x","isFinite")};return Ar.runKernel("IsFinite",t)}}),ri=Dr({isInf_:function(e){const t={x:_r(e,"x","isInf")};return Ar.runKernel("IsInf",t)}}),ai=Dr({isNaN_:function(e){const t={x:_r(e,"x","isNaN")};return Ar.runKernel("IsNan",t)}}),si=Dr({leakyRelu_:function(e,t=.2){const n={x:_r(e,"x","leakyRelu")},r={alpha:t};return Ar.runKernel(lt,n,r)}}),oi=Dr({less_:function(e,t){let n=_r(e,"a","less","string_or_numeric"),r=_r(t,"b","less","string_or_numeric");[n,r]=gr(n,r),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(dt,a)}}),ii=Dr({lessEqual_:function(e,t){let n=_r(e,"a","lessEqual","string_or_numeric"),r=_r(t,"b","lessEqual","string_or_numeric");[n,r]=gr(n,r),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(ct,a)}});function ui(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return Ar.runKernel(pt,{},r)}const li=Dr({localResponseNormalization_:function(e,t=5,n=1,r=1,a=.5){const s=_r(e,"x","localResponseNormalization");ee(4===s.rank||3===s.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${s.rank}.`)),ee(oe(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let o=s,i=!1;3===s.rank&&(i=!0,o=Ms(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const u={x:o},l={depthRadius:t,bias:n,alpha:r,beta:a},d=Ar.runKernel("LRN",u,l);return i?Ms(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),di=Dr({log_:function(e){const t={x:_r(e,"x","log","float32")};return Ar.runKernel("Log",t)}}),ci=Dr({log1p_:function(e){const t={x:_r(e,"x","log1p")};return Ar.runKernel("Log1p",t)}});function pi(e){return Ar.customGrad(e)}const hi=Dr({neg_:function(e){const t={x:_r(e,"x","neg")};return Ar.runKernel("Neg",t)}}),mi=Dr({softplus_:function(e){const t={x:_r(e,"x","softplus")};return Ar.runKernel("Softplus",t)}}),fi=Dr({logSigmoid_:function(e){const t=_r(e,"x","logSigmoid"),n=pi((e=>({value:hi(mi(hi(e))),gradFunc:t=>Rs(t,Ls(hi(e)))})));return n(t)}}),gi=Dr({sub_:function(e,t){let n=_r(e,"a","sub"),r=_r(t,"b","sub");[n,r]=gr(n,r);const a={a:n,b:r};return Ar.runKernel("Sub",a)}}),yi=Dr({logSoftmax_:function(e,t=-1){const n=_r(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=pi(((e,n)=>{const r=Bo(e,t,!0),a=gi(e,r),s=gi(Da(a,"float32"),di(Vo(qo(a),t,!0)));return n([s]),{value:s,gradFunc:(e,n)=>{const[r]=n,a=qo(r);return gi(e,Rs(Vo(e,t,!0),a))}}}));return r(n)}}),bi=Dr({logSumExp_:function(e,t=null,n=!1){const r=_r(e,"x","logSumExp"),a=ue(t,r.shape),s=Bo(r,a,!0),o=gi(r,s),i=qo(o),u=Vo(i,a),l=di(u),d=cs(Ms(s,l.shape),l);if(n){const e=Co(d.shape,a);return Ms(d,e)}return d}}),wi=Dr({logicalAnd_:function(e,t){const n=_r(e,"a","logicalAnd","bool"),r=_r(t,"b","logicalAnd","bool");ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(ht,a)}}),xi=Dr({logicalNot_:function(e){const t={x:_r(e,"x","logicalNot","bool")};return Ar.runKernel(mt,t)}}),vi=Dr({logicalOr_:function(e,t){const n=_r(e,"a","logicalOr","bool"),r=_r(t,"b","logicalOr","bool");ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(ft,a)}}),ki=Dr({logicalXor_:function(e,t){const n=_r(e,"a","logicalXor","bool"),r=_r(t,"b","logicalXor","bool");return ts(n.shape,r.shape),wi(vi(e,t),xi(wi(e,t)))}}),Ai=2147483648,Ei=Dr({searchSorted_:function(e,t,n="left"){const r=_r(e,"sortedSequence","searchSorted"),a=_r(t,"values","searchSorted"),s=r.shape[r.shape.length-1],o=a.shape[a.shape.length-1],i=Ms(r,[-1,s]),u=Ms(a,[-1,o]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==u.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ae(u.shape)>=Ai)throw new Error("values tensor size must less than 2147483648");if(i.shape[1]>=Ai)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${i.shape[1]}`);const l={sortedSequence:i,values:u},d={side:n};return Ar.runKernel("SearchSorted",l,d)}});function Ii(e,t){return Ei(e,t,"left")}const Ni=Dr({maxPool_:function(e,t,n,r,a){const s=_r(e,"x","maxPool");let o=s,i=!1;3===s.rank&&(i=!0,o=Ms(s,[1,s.shape[0],s.shape[1],s.shape[2]])),ee(4===o.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`)),ee(Ts(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),Cs("maxPool",r,a);const u={x:o},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a},d=Ar.runKernel(bt,u,l);return i?Ms(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),Si=Dr({maxPool3d_:function(e,t=[1,1,1],n,r,a,s="NDHWC"){const o=_r(e,"x","maxPool3d");let i=o,u=!1;4===o.rank&&(u=!0,i=Ms(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(5===i.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`)),ee("NDHWC"===s,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`)),Cs("maxPool3d",r,a);const l={x:i},d={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s},c=Ar.runKernel("MaxPool3D",l,d);return u?Ms(c,[c.shape[1],c.shape[2],c.shape[3],c.shape[4]]):c}}),Ti=Dr({maxPoolWithArgmax_:function(e,t,n,r,a=!1){const s={x:_r(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},i=Ar.runKernel("MaxPoolWithArgmax",s,o);return{result:i[0],indexes:i[1]}}}),_i=Dr({maximum_:function(e,t){let n=_r(e,"a","maximum"),r=_r(t,"b","maximum");[n,r]=gr(n,r),"bool"===n.dtype&&(n=Da(n,"int32"),r=Da(r,"int32")),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(yt,a)}}),Ci=Dr({mean_:function(e,t=null,n=!1){const r={x:_r(e,"x","mean")},a={axis:t,keepDims:n};return Ar.runKernel(wt,r,a)}});function Mi(e,t="float32"){if("complex64"===t){const t=Mi(e,"float32"),n=Mi(e,"float32");return Fr(t,n)}const n=we(ae(e),t);return Ar.makeTensor(n,e,t)}function Di(e,t="float32"){if("complex64"===t){const t=Di(e,"float32"),n=Mi(e,"float32");return Fr(t,n)}const n=be(ae(e),t);return Ar.makeTensor(n,e,t)}function Fi(e,t,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=_r(e,"x","meshgrid",e instanceof ur?e.dtype:"float32");if(void 0===t)return[r];let a=_r(t,"y","meshgrid",t instanceof ur?t.dtype:"float32");const s=ae(r.shape),o=ae(a.shape);return"xy"===n?(r=Ms(r,[1,-1]),a=Ms(a,[-1,1]),[Bs(Di([o,1],r.dtype),r),Bs(a,Di([1,s],a.dtype))]):(r=Ms(r,[-1,1]),a=Ms(a,[1,-1]),[Bs(r,Di([1,o],r.dtype)),Bs(Di([s,1],a.dtype),a)])}const Oi=Dr({minimum_:function(e,t){let n=_r(e,"a","minimum"),r=_r(t,"b","minimum");[n,r]=gr(n,r),"bool"===n.dtype&&(n=Da(n,"int32"),r=Da(r,"int32")),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(vt,a)}}),Bi=Dr({mirrorPad_:function(e,t,n){ee("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=_r(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");ee(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const a="reflect"===n?1:0;for(let e=0;e<r.rank;e++)ee(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),ee(t[e][0]>=0&&t[e][0]<=r.shape[e]-a&&t[e][1]>=0&&t[e][1]<=r.shape[e]-a,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${r.shape[e]-a} or less than 0 for input of shape ${r.shape}`));const s={paddings:t,mode:n},o={x:r};return Ar.runKernel(kt,o,s)}}),Ri=Dr({mod_:function(e,t){let n=_r(e,"a","mod"),r=_r(t,"b","mod");[n,r]=gr(n,r);const a={a:n,b:r};return Ar.runKernel("Mod",a)}}),Li=Dr({moments_:function(e,t=null,n=!1){const r=ue(t,(e=_r(e,"x","moments")).shape),a=Ci(e,r,n);let s=a.shape;n||(s=Co(a.shape,r));const o=Uo(gi(Da(e,"float32"),Ms(a,s)));return{mean:a,variance:Ci(o,r,n)}}}),Pi=Dr({multiRNNCell_:function(e,t,n,r){const a=_r(t,"data","multiRNNCell"),s=Cr(n,"c","multiRNNCell"),o=Cr(r,"h","multiRNNCell");let i=a;const u=[];for(let t=0;t<e.length;t++){const n=e[t](i,s[t],o[t]);u.push(n[0]),u.push(n[1]),i=n[1]}const l=[],d=[];for(let e=0;e<u.length;e+=2)l.push(u[e]),d.push(u[e+1]);return[l,d]}}),zi=Dr({multinomial_:function(e,t,n,r=!1){const a=_r(e,"logits","multinomial"),s=a.size,o=a.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const i={logits:1===o?Ms(a,[1,-1]):a},u={numSamples:t,seed:n,normalized:r},l=Ar.runKernel("Multinomial",i,u);return 1===o?Ms(l,[l.size]):l}}),Ui=Dr({notEqual_:function(e,t){let n=_r(e,"a","notEqual","string_or_numeric"),r=_r(t,"b","notEqual","string_or_numeric");[n,r]=gr(n,r),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(Et,a)}}),Vi=Dr({oneHot_:function(e,t,n=1,r=0,a="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const s={indices:_r(e,"indices","oneHot","int32")},o={dtype:a,depth:t,onValue:n,offValue:r};return Ar.runKernel(_t,s,o)}}),ji=Dr({onesLike_:function(e){const t={x:_r(e,"x","onesLike")};return Ar.runKernel(Tt,t)}}),Hi=Dr({outerProduct_:function(e,t){const n=_r(e,"v1","outerProduct"),r=_r(t,"v2","outerProduct");ee(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const a=Ms(n,[-1,1]),s=Ms(r,[1,-1]);return Bs(a,s)}}),Wi=Dr({pad_:function(e,t,n=0){const r=_r(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},s={x:r};return Ar.runKernel(Mt,s,a)}}),qi=Dr({pad1d_:function(e,t,n=0){return ee(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),Wi(e,[t],n)}}),$i=Dr({pad2d_:function(e,t,n=0){return ee(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Wi(e,t,n)}}),Ki=Dr({pad3d_:function(e,t,n=0){return ee(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Wi(e,t,n)}}),Gi=Dr({pad4d_:function(e,t,n=0){return ee(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Wi(e,t,n)}}),Qi=Dr({spaceToBatchND_:function(e,t,n){const r=_r(e,"x","spaceToBatchND");ee(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),ee(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),ee(r.shape.reduce(((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]==0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const a={x:r},s={blockShape:t,paddings:n};return Ar.runKernel(Qt,a,s)}}),Yi=Dr({pool_:function(e,t,n,r,a,s,o){null==a&&(a=[1,1]),null==s&&(s=1),0===r&&(r="valid");const i=_r(e,"x","maxPool");let u=i,l=!1;3===i.rank&&(l=!0,u=Ms(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(Ts(s,a),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${a}'`));const d=ks(u.shape,t,s,a,r),c=[d.dilationHeight,d.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))).map((e=>e-1)),r=n.map((e=>Math.floor(e/2))),a=n.map(((e,t)=>e-r[t]));return n.map(((e,t)=>[r[t],a[t]]))}([d.filterHeight,d.filterWidth],c):[[0,0],[0,0]];const h=1===c[0]&&1===c[1],[m,f]=function(e,t,n){const r=n.map((e=>e[0])),a=n.map((e=>e[1])),s=e.concat(r,a),o=t.map(((e,t)=>(e-s[t]%e)%e)),i=a.map(((e,t)=>e+o[t]));return[t.map(((e,t)=>[r[t],i[t]])),t.map(((e,t)=>[0,o[t]]))]}([d.inHeight,d.inWidth],c,p),g=h?r:"valid",y=h?u:Qi(u,c,m),b=("avg"===n?()=>Ds(y,t,s,g,o):()=>Ni(y,t,s,g,o))(),w=h?b:Vs(b,c,f);return l?Ms(w,[w.shape[1],w.shape[2],w.shape[3]]):w}}),Ji=Dr({prelu_:function(e,t){const n={x:_r(e,"x","prelu"),alpha:_r(t,"alpha","prelu")};return Ar.runKernel(Dt,n)}}),Zi=Dr({prod_:function(e,t=null,n=!1){let r=_r(e,"x","prod");"bool"===r.dtype&&(r=Da(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return Ar.runKernel(Ft,a,s)}}),Xi=Dr({raggedTensorToTensor_:function(e,t,n,r,a){const s=_r(e,"shape","raggedTensorToTensor","int32"),o=_r(t,"values","raggedTensorToTensor"),i={shape:s,values:o,defaultValue:_r(n,"defaultValue","raggedTensorToTensor",o.dtype),rowPartitionTensors:r.map(((e,t)=>_r(e,`tensors${t}`,"raggedTensorToTensor","int32")))},u={rowPartitionTypes:a};return Ar.runKernel("RaggedTensorToTensor",i,u)}}),eu=Dr({rand_:function(e,t,n){const r=ae(e);let a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);a=new Uint8Array(r)}for(let e=0;e<r;e++)a[e]=t();return Ar.makeTensor(a,e,n)}});var tu=n(391);class nu{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const s=a||Math.random();this.random=tu.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,s;do{r=2*this.random()-1,a=2*this.random()-1,s=r*r+a*a}while(s>=1||0===s);const o=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*r*o,t=this.mean+this.stdDev*a*o,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class ru{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const a=r||Math.random();this.randu=tu.alea(a.toString()),this.randn=new nu(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,a,s;for(;;){do{r=this.randn.nextValue(),s=1+this.c*r}while(s<=0);if(s*=s*s,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-s+Math.log(s)),a=this.randu(),a<t||Math.log(a)<n)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class au{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=tu.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const su=Dr({randomGamma_:function(e,t,n=1,r="float32",a){if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const s=new ru(t,n,r,a),o=Ma(e,r);for(let e=0;e<o.values.length;e++)o.values[e]=s.nextValue();return o.toTensor()}}),ou=Dr({randomNormal_:function(e,t=0,n=1,r,a){if(null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const s=new nu(t,n,r,!1,a),o=Ma(e,r);for(let e=0;e<o.values.length;e++)o.values[e]=s.nextValue();return o.toTensor()}}),iu=Dr({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return ou(e,0,1,t,n)}}),uu=Dr({randomUniform_:function(e,t=0,n=1,r="float32",a){const s=Ma(e,r),o=new au(t,n,null,a);for(let e=0;e<s.values.length;e++)s.values[e]=o.nextValue();return s.toTensor()}});function lu(e,t,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return Ar.runKernel(Ot,{},a)}const du=Dr({real_:function(e){const t={input:_r(e,"input","real")};return Ar.runKernel("Real",t)}}),cu=Dr({reciprocal_:function(e){const t={x:_r(e,"x","reciprocal")};return Ar.runKernel("Reciprocal",t)}}),pu=Dr({relu_:function(e){const t={x:_r(e,"x","relu")};return Ar.runKernel(Bt,t)}}),hu=Dr({relu6_:function(e){const t={x:_r(e,"x","relu6")};return Ar.runKernel(zt,t)}}),mu=Dr({reverse_:function(e,t){const n={x:_r(e,"x","reverse")},r={dims:t};return Ar.runKernel(Ut,n,r)}}),fu=Dr({reverse1d_:function(e){const t=_r(e,"x","reverse");return ee(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),mu(t,0)}}),gu=Dr({reverse2d_:function(e,t){const n=_r(e,"x","reverse");return ee(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),mu(n,t)}}),yu=Dr({reverse3d_:function(e,t){const n=_r(e,"x","reverse");return ee(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),mu(n,t)}}),bu=Dr({reverse4d_:function(e,t){const n=_r(e,"x","reverse");return ee(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),mu(n,t)}}),wu=Dr({round_:function(e){const t={x:_r(e,"x","round")};return Ar.runKernel(Vt,t)}}),xu=Dr({rsqrt_:function(e){const t={x:_r(e,"x","rsqrt","float32")};return Ar.runKernel(jt,t)}}),vu=Dr({selu_:function(e){const t={x:_r(e,"x","selu")};return Ar.runKernel("Selu",t)}}),ku=Dr({separableConv2d_:function(e,t,n,r,a,s=[1,1],o="NHWC"){const i=_r(e,"x","separableConv2d"),u=_r(t,"depthwiseFilter","separableConv2d"),l=_r(n,"pointwiseFilter","separableConv2d");let d=i,c=!1;if(3===i.rank&&(c=!0,d=Ms(i,[1,i.shape[0],i.shape[1],i.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ee(4===d.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${d.rank}.`)),ee(4===u.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${u.rank}.`)),ee(4===l.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${u.rank}.`)),ee(1===l.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${l.shape[0]}.`)),ee(1===l.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${l.shape[1]}.`));const p=u.shape[2],h=u.shape[3];ee(l.shape[2]===p*h,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*h}, but got ${l.shape[2]}.`));const m=fo(d,u,r,a,o,s),f=to(m,l,1,"valid",o);return c?Ms(f,[f.shape[1],f.shape[2],f.shape[3]]):f}}),Au=async function(e,t){const n=_r(e,"x","setdiff1d"),r=_r(t,"y","setdiff1d");ee(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),ee(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),ee(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const a=await n.data(),s=await r.data(),o=new Set(s);let i=0;for(let e=0;e<a.length;e++)o.has(a[e])||i++;const u=new ar([i],n.dtype),l=new ar([i],"int32");for(let e=0,t=0;e<a.length;e++)o.has(a[e])||(u.values[t]=a[e],l.values[t]=e,t++);return[u.toTensor(),l.toTensor()]},Eu=Dr({sign_:function(e){const t={x:_r(e,"x","sign")};return Ar.runKernel("Sign",t)}}),Iu=Dr({sin_:function(e){const t={x:_r(e,"x","sin","float32")};return Ar.runKernel("Sin",t)}}),Nu=Dr({sinh_:function(e){const t={x:_r(e,"x","sinh")};return Ar.runKernel("Sinh",t)}}),Su=Dr({slice1d_:function(e,t,n){const r=_r(e,"x","slice1d");return ee(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),Ps(r,[t],[n])}}),Tu=Dr({slice2d_:function(e,t,n){const r=_r(e,"x","slice2d");return ee(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),Ps(r,t,n)}}),_u=Dr({slice3d_:function(e,t,n){const r=_r(e,"x","slice3d");return ee(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),Ps(r,t,n)}}),Cu=Dr({slice4d_:function(e,t,n){const r=_r(e,"x","slice4d");return ee(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),Ps(r,t,n)}}),Mu=Dr({softmax_:function(e,t=-1){const n=_r(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return Ar.runKernel(Jt,r,a)}}),Du=Dr({fft_:function(e){ee("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return Ar.runKernel("FFT",t)}}),Fu=Dr({ifft_:function(e){ee("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return Ar.runKernel("IFFT",t)}}),Ou=Dr({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=Ms(e,[n,t]);r=Fu(a)}else{const a=[n,2*(t-1)],s=Ms(du(e),[n,t]),o=Ms(ti(e),[n,t]),i=mu(Ps(s,[0,1],[n,t-2]),1),u=Rs(mu(Ps(o,[0,1],[n,t-2]),1),Po(-1)),l=Os([s,i],1),d=Os([o,u],1),c=Ms(Fr(l,d),[a[0],a[1]]);r=Fu(c)}if(r=du(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=Ms(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}}),Bu=Dr({split_:function(e,t,n=0){const r={x:_r(e,"x","split")},a={numOrSizeSplits:t,axis:n};return Ar.runKernel(Yt,r,a)}}),Ru=Dr({rfft_:function(e,t){ee("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map((e=>0)),s=e.shape.map((e=>e));s[e.shape.length-1]=t,a=Ps(e,r,s),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,a=Os([e,Mi(r)],e.shape.length-1),n=t}else a=e;const s=ko(a),o=Ms(Fr(a,s),[r,n]),i=Du(o),u=Math.floor(n/2)+1,l=du(i),d=ti(i),c=Bu(l,[u,n-u],l.shape.length-1),p=Bu(d,[u,n-u],d.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=u,Ms(Fr(c[0],p[0]),h)}}),Lu=Dr({squaredDifference_:function(e,t){let n=_r(e,"a","squaredDifference"),r=_r(t,"b","squaredDifference");[n,r]=gr(n,r),ts(n.shape,r.shape);const a={a:n,b:r};return Ar.runKernel(nn,a,{})}}),Pu=Dr({squeeze_:function(e,t){const n=_r(e,"x","squeeze","string_or_numeric");return Ms(n,function(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,s=null==t||a?null:ue(t,e).sort();let o=0;for(let t=0;t<e.length;++t){if(null!=s){if(s[o]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==s[o]||s[o]>t)&&1===e[t]&&(n.push(e[t]),r.push(t)),s[o]<=t&&o++}1!==e[t]&&(n.push(e[t]),r.push(t))}return{newShape:n,keptDims:r}}(n.shape,t).newShape)}}),zu=Dr({stack_:function(e,t=0){const n=Cr(e,"tensors","stack","string_or_numeric");ee(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&ee(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,a={axis:t};return Ar.runKernel(Ct,r,a)}}),Uu=Dr({step_:function(e,t=0){const n={x:_r(e,"x","step")},r={alpha:t};return Ar.runKernel(fn,n,r)}}),Vu=Dr({stridedSlice_:function(e,t,n,r,a=0,s=0,o=0,i=0,u=0){const l={x:_r(e,"x","stridedSlice","string_or_numeric")},d={begin:t,end:n,strides:r,beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:u};return Ar.runKernel(rn,l,d)}}),ju=Dr({tan_:function(e){const t={x:_r(e,"x","tan","float32")};return Ar.runKernel("Tan",t)}});function Hu(e,t){ne(e);const n=Nr(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Or(e,null,n,t)}function Wu(e,t,n){if(ne(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=Nr(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Or(e,t,r,n)}function qu(e,t,n){if(ne(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=Nr(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Or(e,t,r,n)}function $u(e,t,n){if(ne(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=Nr(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Or(e,t,r,n)}function Ku(e,t,n){if(ne(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=Nr(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Or(e,t=t||r,r,n)}const Gu=Dr({topk_:function(e,t=1,n=!0){const r=_r(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const s={x:r},o={k:t,sorted:n},[i,u]=Ar.runKernel(dn,s,o);return{values:i,indices:u}}}),Qu=Dr({truncatedNormal_:function(e,t=0,n=1,r,a){if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const s=new nu(t,n,r,!0,a),o=Ma(e,r);for(let e=0;e<o.values.length;e++)o.values[e]=s.nextValue();return o.toTensor()}}),Yu=Dr({unique_:function(e,t=0){const n=_r(e,"x","unique","string_or_numeric");ee(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},a={axis:t},[s,o]=Ar.runKernel("Unique",r,a);return{values:s,indices:o}}}),Ju=Dr({unsortedSegmentSum_:function(e,t,n){const r=_r(e,"x","unsortedSegmentSum"),a=_r(t,"segmentIds","unsortedSegmentSum","int32");ee(oe(n),(()=>"numSegments must be of dtype int"));const s={x:r,segmentIds:a},o={numSegments:n};return Ar.runKernel("UnsortedSegmentSum",s,o)}}),Zu=Dr({unstack_:function(e,t=0){const n=_r(e,"x","unstack","string_or_numeric");ee(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},a={axis:t};return Ar.runKernel(hn,r,a)}});function Xu(e,t){return Ei(e,t,"right")}function el(e,t=!0,n,r){return Ar.makeVariable(e,t,n,r)}const tl=async function(e){const t=_r(e,"condition","whereAsync","bool"),n=await t.data(),r=function(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const r=Ma(e,"int32"),a=Ma([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const s=r.indexToLoc(n[t]),o=t*e.length;a.values.set(s,o)}return a.toTensor()}(t.shape,n);return e!==t&&t.dispose(),r},nl=async function(e,t,n){const r=_r(e,"tensor","boolMask"),a=_r(t,"mask","boolMask","bool"),s=null==n?0:n,o=a.rank,i=r.shape;ee(o>0,(()=>"mask cannot be scalar")),te(i.slice(s,s+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let u=1;for(let e=s;e<s+o;e++)u*=i[e];const l=i.slice(0,s).concat([u],i.slice(s+o)),d=Ms(r,l),c=Ms(a,[-1]),p=await tl(c),h=Pu(p,[1]),m=Zo(d,h,s);return e!==r&&r.dispose(),t!==a&&a.dispose(),h.dispose(),d.dispose(),c.dispose(),p.dispose(),m};function rl(e,t){return Ar.tidy(e,t)}function al(e){return Ar.keep(e)}ir=function(e){Ie().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const sl=Dr({transpose_:function(e,t,n){const r=_r(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),ee(r.rank===t.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`)),t.forEach((e=>{ee(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${t}`))})),r.rank<=1)return r.clone();const a={x:r},s={perm:t};return"complex64"===r.dtype?rl((()=>{let e=du(r),t=ti(r);return e=Ar.runKernel(pn,{x:e},s),t=Ar.runKernel(pn,{x:t},s),n&&(t=hi(t)),Fr(e,t)})):Ar.runKernel(pn,a,s)}}),ol=Dr({movingAverage_:function(e,t,n,r,a=!0){const s=_r(e,"v","movingAverage"),o=_r(t,"x","movingAverage"),i=_r(n,"decay","movingAverage");var u,l;l=o,ee((u=s).dtype===l.dtype,(()=>`The dtypes of the first(${u.dtype}) and second(${l.dtype}) input must match`)),ee(se(s.shape,o.shape),(()=>"Shape mismatch in v and x"));const d=Po(1),c=gi(d,i);let p=Rs(gi(o,s),c);if(a){ee(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=_r(r,"step","movingAverage");p=wo(p,gi(d,Lo(i,e)))}return cs(s,p)}}),il=Dr({scatterND_:function(e,t,n){const r=_r(e,"indices","scatterND","int32"),a=_r(t,"updates","scatterND");!function(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}!function(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(s+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(s+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(s+" update.rank != "+(a+e.length-r));for(let e=0;e<a;++e)if(n.shape[e]!==t.shape[e])throw new Error(s+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-a;++t)if(n.shape[t+a]!==e[t+r])throw new Error(s+` updates.shape[${t+a}] (${n.shape[t+a]}) != shape[${t+a}] (${e[t+a]})`)}(n,t,e)}(a,r,n);const s={indices:r,updates:a},o={shape:n};return Ar.runKernel(Ht,s,o)}}),ul=Dr({sparseToDense_:function(e,t,n,r=0){const a=_r(e,"sparseIndices","sparseToDense","int32"),s=_r(t,"sparseValues","sparseToDense","string_or_numeric"),o=_r(r,"defaultValue","sparseToDense",s.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const a=e.rank>0?e.shape[0]:1,s=e.rank>1?e.shape[1]:1;if(n.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${s}.`);const o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${a}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,s,n,o);const i={sparseIndices:a,sparseValues:s,defaultValue:o},u={outputShape:n};return Ar.runKernel("SparseToDense",i,u)}}),ll=Dr({gatherND_:function(e,t){const n=_r(t,"indices","gatherND","int32"),r={params:_r(e,"x","gatherND","string_or_numeric"),indices:n};return Ar.runKernel(st,r)}}),dl=Dr({dropout_:function(e,t,n,r){const a=_r(e,"x","dropout");if(ee("float32"===a.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`)),ee(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof ur?a.clone():a;const s=function(e,t){if(null==t)return e.shape.slice();if(se(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,i=wo(Jo(cs(uu(s,0,1,"float32",r),o)),o);return Rs(a,i)}});function cl(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function pl(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let s=0;s<e;++s){const o=2*Math.PI*s/(e+r-1);a[s]=t-n*Math.cos(o)}return Hu(a,"float32")}const hl=async function(e,t,n=1){const r=_r(e,"predictions","inTopK"),a=_r(t,"targets","inTopK");ee(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),ee(r.rank-1===a.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`)),te(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const s=r.shape[r.shape.length-1];ee(n>0&&n<=s,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${s}), but got ${n}`));const o=await r.data(),i=await a.data(),[u,l]=[o.length/s,s],d=function(e,t){let n=null;return n=new Uint8Array(t),n}(0,u);for(let e=0;e<u;e++){const t=e*l,r=o.subarray(t,t+l),a=[];for(let e=0;e<r.length;e++)a.push({value:r[e],index:e});a.sort(((e,t)=>t.value-e.value)),d[e]=0;for(let t=0;t<n;t++)if(a[t].index===i[e]){d[e]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),Br(d,a.shape,"bool")},ml=Dr({conv2DBackpropFilter_:function(e,t,n,r,a,s="NHWC",o){let i=e;3===e.rank&&(i=Ms(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let u=t;3===u.rank&&(u=Ms(t,[1,t.shape[0],t.shape[1],t.shape[2]])),ee(4===i.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`)),ee(4===u.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${u.shape}.`)),ee(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const l="NHWC"===s?i.shape[3]:i.shape[1],d="NHWC"===s?u.shape[3]:u.shape[1];ee(l===n[2],(()=>`Error in conv2dDerFilter: depth of input ${l}) must match input depth in filter (${n[2]}.`)),ee(d===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${d}) must match output depth for filter (${n[3]}).`)),Cs("conv2dDerFilter",a,o);const c={x:i,dy:u},p={strides:r,pad:a,dataFormat:s,dimRoundingMode:o,filterShape:n};return Ar.runKernel("Conv2DBackpropFilter",c,p)}});function fl(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Rs(e,Uu(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function gl(e,t){let n=t;const r=function(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],s=t.length-r-1,o=t[s];(null==a||1===a&&o>1)&&n.unshift(s)}return n}(e.shape,t.shape);return r.length>0&&(n=Vo(n,r)),Ms(n,e.shape)}function yl(e,t,n,r){if("linear"===t)return e;if("relu"===t)return pu(e);if("elu"===t)return No(e);if("relu6"===t)return hu(e);if("prelu"===t)return Ji(e,n);if("leakyrelu"===t)return si(e,r);if("sigmoid"===t)return Ls(e);throw new Error(`Unknown fused activation ${t}.`)}const bl=(e,t)=>!(e>0)||"linear"===t,wl=Dr({fusedConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:i,activation:u="linear",preluActivationWeights:l,leakyreluAlpha:d}){if(u=u||"linear",!1===bl(Ar.state.gradientDepth,u)){ee("NHWC"===a,(()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let c=to(e,t,n,r,a,s,o);return null!=i&&(c=cs(c,i)),yl(c,u,l,d)}const c=_r(e,"x","conv2d","float32"),p=_r(t,"filter","conv2d","float32");let h=c,m=!1;3===c.rank&&(m=!0,h=Ms(c,[1,c.shape[0],c.shape[1],c.shape[2]])),ee(4===h.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`)),ee(4===p.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${p.rank}.`)),Cs("fused conv2d",r,o);const f="NHWC"===a?h.shape[3]:h.shape[1];ee(p.shape[2]===f,(()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${p.shape[2]}.`)),ee(Ts(n,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`));const g=As(h.shape,p.shape,n,s,r,o);let y,b;if(null!=i&&(y=_r(i,"bias","fused conv2d"),[y]=gr(y,c),"NHWC"===a?ts(g.outShape,y.shape):(ee(y.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`)),ee(0===y.shape.length||y.shape[0]===g.outChannels||1===y.shape[0],(()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${g.outChannels})`)))),null!=l){const e=l.shape;if(ee(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)ee(1===e[0]||e[0]===g.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${g.outChannels}).`));else if(3===e.length)try{ts(e,g.outShape)}catch(t){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(n)}b=_r(l,"prelu weights","fused conv2d")}const w=(e,t)=>{ee("NHWC"===a,(()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`));const[o,i,l,d]=t,c=fl(e,l,u);ee(Ss(s),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`));const p=[ro(i.shape,c,o,n,r),ml(i,c,o.shape,n,r)];if(null!=d){const e=gl(d,c);p.push(e)}return p},x={x:h,filter:p,bias:y,preluActivationWeights:b},v={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o,activation:u,leakyreluAlpha:d};if(null==i){const e=pi(((e,t,n)=>{let r=Ar.runKernel(wn,x,v);return n([t,e,r]),m&&(r=Ms(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}}));return e(h,p)}{const e=pi(((e,t,n,r)=>{let a=Ar.runKernel(wn,x,v);return r([t,e,a,n]),m&&(a=Ms(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:w}}));return e(h,p,y)}}}),xl=Dr({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a,s=[1,1],o){let i=e;3===e.rank&&(i=Ms(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let u=t;3===u.rank&&(u=Ms(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const l={x:i,dy:u},d={strides:r,pad:a,dimRoundingMode:o,dilations:s,filterShape:n};return Ar.runKernel("DepthwiseConv2dNativeBackpropFilter",l,d)}}),vl=Dr({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a,s=[1,1],o){let i=t,u=!1;3===t.rank&&(u=!0,i=Ms(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const l={dy:i,filter:n},d={strides:r,pad:a,dimRoundingMode:o,dilations:s,inputShape:e},c=Ar.runKernel("DepthwiseConv2dNativeBackpropInput",l,d);return u?Ms(c,[c.shape[1],c.shape[2],c.shape[3]]):c}}),kl=Dr({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:i,activation:u="linear",preluActivationWeights:l,leakyreluAlpha:d}){if(!1===bl(Ar.state.gradientDepth,u)){let c=fo(e,t,n,r,a,s,o);return null!=i&&(c=cs(c,i)),yl(c,u,l,d)}const c=_r(e,"x","depthwiseConv2d","float32"),p=_r(t,"filter","depthwiseConv2d","float32");let h=c,m=!1;3===c.rank&&(m=!0,h=Ms(c,[1,c.shape[0],c.shape[1],c.shape[2]])),ee(4===h.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`)),ee(4===p.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${p.rank}.`)),ee(h.shape[3]===p.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`)),null==s&&(s=[1,1]),ee(Ts(n,s),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),Cs("fused depthwiseConv2d",r,o);const f=As(h.shape,p.shape,n,s,r,o,!0);let g,y;null!=i&&(g=_r(i,"bias","fused conv2d"),[g]=gr(g,c),ts(f.outShape,g.shape)),null!=l&&(y=_r(l,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{ee(Ss(s),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`));const[a,i,l,d]=t,c=fl(e,l,u),p=vl(i.shape,c,a,n,r,s,o),h=xl(i,c,a.shape,n,r,s,o);return null!=d?[p,h,gl(g,c)]:[p,h]},w={x:h,filter:p,bias:g,preluActivationWeights:y},x={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o,activation:u,leakyreluAlpha:d};if(null==i){const e=pi(((e,t,n)=>{let r=Ar.runKernel(xn,w,x);return n([t,e,r]),m&&(r=Ms(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(h,p)}{const e=pi(((e,t,n,r)=>{let a=Ar.runKernel(xn,w,x);return r([t,e,a,n]),m&&(a=Ms(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(h,p,g)}}}),Al=Dr({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:a,activation:s="linear",preluActivationWeights:o,leakyreluAlpha:i=.2}){if(!1===bl(Ar.state.gradientDepth,s)){let u=Bs(e,t,n,r);return null!=a&&(u=cs(u,a)),yl(u,s,o,i)}let u=_r(e,"a","fused matMul"),l=_r(t,"b","fused matMul");[u,l]=gr(u,l);const d=n?u.shape[u.rank-2]:u.shape[u.rank-1],c=r?l.shape[l.rank-1]:l.shape[l.rank-2],p=n?u.shape[u.rank-1]:u.shape[u.rank-2],h=r?l.shape[l.rank-2]:l.shape[l.rank-1],m=u.shape.slice(0,-2),f=l.shape.slice(0,-2),g=ae(m),y=ae(f);ee(d===c,(()=>`Error in fused matMul: inner shapes (${d}) and (${c}) of Tensors with shapes ${u.shape} and ${l.shape} and transposeA=${n} and transposeB=${r} must match.`));const b=ts(u.shape.slice(0,-2),l.shape.slice(0,-2)).concat([p,h]),w=Ms(u,n?[g,d,p]:[g,p,d]),x=Ms(l,r?[y,h,c]:[y,c,h]);let v,k;null!=a&&(v=_r(a,"bias","fused matMul"),[v]=gr(v,u),ts(b,v.shape)),null!=o&&(k=_r(o,"prelu weights","fused matMul"));const A=(e,t)=>{const[o,i,u,l]=t,d=fl(Ms(e,u.shape),u,s);let c,p;return n||r?!n&&r?(c=Bs(d,i,!1,!1),p=Bs(d,o,!0,!1)):n&&!r?(c=Bs(i,d,!1,!0),p=Bs(o,d,!1,!1)):(c=Bs(i,d,!0,!0),p=Bs(d,o,!0,!0)):(c=Bs(d,i,!1,!0),p=Bs(o,d,!0,!1)),null!=a?[c,p,gl(l,d)]:[c,p]},E={a:w,b:x,bias:v,preluActivationWeights:k},I={transposeA:n,transposeB:r,activation:s,leakyreluAlpha:i};if(null==a){const e=pi(((e,t,n)=>{const r=Ar.runKernel(bn,E,I);return n([e,t,r]),{value:Ms(r,b),gradFunc:A}}));return e(w,x)}{const e=pi(((e,t,n,r)=>{const a=Ar.runKernel(bn,E,I);return r([e,t,a,n]),{value:Ms(a,b),gradFunc:A}}));return e(w,x,v)}}}),El=Dr({hammingWindow_:function(e){return pl(e,.54,.46)}}),Il=Dr({hannWindow_:function(e){return pl(e,.5,.5)}}),Nl=Dr({frame_:function(e,t,n,r=!1,a=0){let s=0;const o=[];for(;s+t<=e.size;)o.push(Ps(e,s,t)),s+=n;if(r)for(;s<e.size;){const r=s+t-e.size,i=Os([Ps(e,s,t-r),Yo([r],a)]);o.push(i),s+=n}return 0===o.length?Wu([],[0,t]):Ms(Os(o),[o.length,t])}}),Sl=Dr({stft_:function(e,t,n,r,a=Il){null==r&&(r=cl(t));const s=Nl(e,t,n),o=Rs(s,a(t));return Ru(o,r)}}),Tl=Dr({cropAndResize_:function(e,t,n,r,a="bilinear",s=0){const o=_r(e,"image","cropAndResize"),i=_r(t,"boxes","cropAndResize","float32"),u=_r(n,"boxInd","cropAndResize","int32"),l=i.shape[0];ee(4===o.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`)),ee(2===i.rank&&4===i.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${l},4] but had shape ${i.shape}.`)),ee(1===u.rank&&u.shape[0]===l,(()=>`Error in cropAndResize: boxInd must be have size [${l}] but had shape ${i.shape}.`)),ee(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),ee(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),ee("bilinear"===a||"nearest"===a,(()=>`method must be bilinear or nearest, but was ${a}`));const d={image:o,boxes:i,boxInd:u},c={method:a,extrapolationValue:s,cropSize:r};return Ar.runKernel(Ke,d,c)}}),_l=Dr({flipLeftRight_:function(e){const t=_r(e,"image","flipLeftRight","float32");ee(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return Ar.runKernel(et,n,{})}}),Cl=Dr({grayscaleToRGB_:function(e){const t=_r(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];ee(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),ee(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Go(t,a)}}),Ml=Dr({rotateWithOffset_:function(e,t,n=0,r=.5){const a=_r(e,"image","rotateWithOffset","float32");ee(4===a.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`));const s={image:a},o={radians:t,fillValue:n,center:r};return Ar.runKernel(yn,s,o)}});function Dl(e,t,n,r,a,s){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==s&&(s=0);const o=e.shape[0];return n=Math.min(n,o),ee(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),ee(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),ee(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),ee(1===t.rank,(()=>"scores must be a 1D tensor")),ee(t.shape[0]===o,(()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${t.shape[0]}`)),ee(0<=s&&s<=1,(()=>`softNmsSigma must be in [0, 1], but was '${s}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:s}}const Fl=Dr({nonMaxSuppression_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=_r(e,"boxes","nonMaxSuppression","float32"),o=_r(t,"scores","nonMaxSuppression","float32"),i=Dl(s,o,n,r,a),u={maxOutputSize:n=i.maxOutputSize,iouThreshold:r=i.iouThreshold,scoreThreshold:a=i.scoreThreshold};return Ar.runKernel(It,{boxes:s,scores:o},u)}});function Ol(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,s=0,o=!1;for(;r<a;){s=r+(a-r>>>1);const i=n(t,e[s]);i>0?r=s+1:(a=s,o=!i)}return o?r:-r-1}(e,t,n||Bl)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function Bl(e,t){return e>t?1:e<t?-1:0}function Rl(e,t,n,r,a,s,o=!1,i=!1,u=!1){const l=[];for(let e=0;e<t.length;e++)t[e]>a&&l.push({score:t[e],boxIndex:e,suppressBeginIndex:0});l.sort(zl);const d=s>0?-.5/s:0,c=[],p=[];for(;c.length<n&&l.length>0;){const t=l.pop(),{score:n,boxIndex:s,suppressBeginIndex:o}=t;if(n<a)break;let i=!1;for(let n=c.length-1;n>=o;--n){const o=Ll(e,s,c[n]);if(o>=r){i=!0;break}if(t.score=t.score*Pl(r,d,o),t.score<=a)break}t.suppressBeginIndex=c.length,i||(t.score===n?(c.push(s),p.push(t.score)):t.score>a&&Ol(l,t,zl))}const h=c.length,m=n-h;i&&m>0&&(c.push(...new Array(m).fill(0)),p.push(...new Array(m).fill(0)));const f={selectedIndices:c};return o&&(f.selectedScores=p),u&&(f.validOutputs=h),f}function Ll(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),s=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),d=Math.min(a[1],a[3]),c=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),h=(i-s)*(u-o),m=(c-l)*(p-d);if(h<=0||m<=0)return 0;const f=Math.max(s,l),g=Math.max(o,d),y=Math.min(i,c),b=Math.min(u,p),w=Math.max(y-f,0)*Math.max(b-g,0);return w/(h+m-w)}function Pl(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function zl(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const Ul=Dr({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const o=_r(e,"boxes","nonMaxSuppression"),i=_r(t,"scores","nonMaxSuppression"),u=Dl(o,i,n,r,a,s),l={boxes:o,scores:i},d={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:s=u.softNmsSigma},c=Ar.runKernel(St,l,d);return{selectedIndices:c[0],selectedScores:c[1]}}}),Vl=Dr({nonMaxSuppressionPadded_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const o=_r(e,"boxes","nonMaxSuppression"),i=_r(t,"scores","nonMaxSuppression"),u=Dl(o,i,n,r,a,null),l={boxes:o,scores:i},d={maxOutputSize:u.maxOutputSize,iouThreshold:u.iouThreshold,scoreThreshold:u.scoreThreshold,padToMaxOutputSize:s},c=Ar.runKernel(Nt,l,d);return{selectedIndices:c[0],validOutputs:c[1]}}}),jl=Dr({resizeBilinear_:function(e,t,n=!1,r=!1){const a=_r(e,"images","resizeBilinear");ee(3===a.rank||4===a.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`)),ee(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),ee(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let s=a,o=!1;3===a.rank&&(o=!0,s=Ms(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:s},u={alignCorners:n,halfPixelCenters:r,size:t},l=Ar.runKernel(Pt,i,u);return o?Ms(l,[l.shape[1],l.shape[2],l.shape[3]]):l}}),Hl=Dr({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const a=_r(e,"images","resizeNearestNeighbor");ee(3===a.rank||4===a.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`)),ee(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),ee("float32"===a.dtype||"int32"===a.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),ee(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let s=a,o=!1;3===a.rank&&(o=!0,s=Ms(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:s},u={alignCorners:n,halfPixelCenters:r,size:t},l=Ar.runKernel(Lt,i,u);return o?Ms(l,[l.shape[1],l.shape[2],l.shape[3]]):l}}),Wl=Dr({threshold_:function(e,t="binary",n=!1,r=.5){const a=_r(e,"image","threshold"),s=a.shape[0]*a.shape[1];let o,i,u,l,d=Rs(Hu([r]),255);if(ee(3===a.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`)),ee(3===a.shape[2]||1===a.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`)),ee("int32"===a.dtype||"float32"===a.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`)),ee("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===a.shape[2]){[o,i,u]=Bu(a,[1,1,1],-1);const e=Rs(o,.2989),t=Rs(i,.587),n=Rs(u,.114);l=cs(cs(e,t),n)}else l=e;"otsu"===t&&(d=function(e,t){let n,r,a,s,o,i,u=Hu([-1]),l=Hu([0]),d=Hu([0]);for(let c=0;c<e.size-1;c++){n=Ps(e,0,c+1),r=Ps(e,c+1),o=wo(Vo(n),t),i=wo(Vo(r),t);const p=Vo(Rs(n,lu(0,n.size)));a=wo(p,Vo(n));const h=Yo(r.shape,n.size),m=cs(lu(0,r.size),h),f=Rs(r,m);s=wo(Vo(f),Vo(r));const g=gi(a,s),y=gi(a,s),b=Rs(o,i);d=Rs(Rs(b,g),y);const w=Xo(d,l);l=vo(w,d,l),u=vo(w,Hu([c]),u)}return u}($s(Da(wu(l),"int32"),Br([]),256),s));const c=n?ii(l,d):Xo(l,d);return Da(Rs(c,255),"int32")}}),ql=Dr({transform_:function(e,t,n="nearest",r="constant",a=0,s){const o=_r(e,"image","transform","float32"),i=_r(t,"transforms","transform","float32");ee(4===o.rank,(()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`)),ee(2===i.rank&&(i.shape[0]===o.shape[0]||1===i.shape[0])&&8===i.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),ee(null==s||2===s.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`));const u={image:o,transforms:i},l={interpolation:n,fillMode:r,fillValue:a,outputShape:s};return Ar.runKernel(cn,u,l)}}),$l=Dr({bandPart_:function(e,t,n){ee(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),ee(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const r=_r(e,"a","bandPart");ee(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const a=r.shape,[s,o]=r.shape.slice(-2);if(!(t<=s))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${s}).`);if(!(n<=o))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`);t<0&&(t=s),n<0&&(n=o);const i=Ms(lu(0,s,1,"int32"),[-1,1]),u=lu(0,o,1,"int32"),l=gi(i,u),d=wi(ii(l,Po(+t,"int32")),ei(l,Po(-n,"int32"))),c=Mi([s,o],r.dtype);return Ms(zu(Zu(Ms(r,[-1,s,o])).map((e=>vo(d,e,c)))),a)}}),Kl=Dr({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,ee(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)ee(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=Bu(e,e.shape[0],0).map((e=>Pu(e,[0])));ee(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let t=0;t<e.length;++t)n.push(Ar.tidy((()=>{let e=r[t];if(t>0)for(let r=0;r<t;++r){const t=Rs(Vo(Rs(n[r],e)),n[r]);e=gi(e,t)}return wo(e,Ho(e,"euclidean"))})));return t?zu(n,0):n}});function Gl(e,t=!1){return Ar.tidy((()=>{ee(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let a=Qo(n),s=Fa(e);const o=Wu([[1]],[1,1]);let i=Fa(o);const u=n>=r?r:n;for(let e=0;e<u;++e){const t=s,u=i,l=a;[i,s,a]=Ar.tidy((()=>{const t=Ps(s,[e,e],[n-e,1]),u=Ho(t),l=Ps(s,[e,e],[1,1]),d=vo(Xo(l,0),Wu([[-1]]),Wu([[1]])),c=gi(l,Rs(d,u)),p=wo(t,c);i=1===p.shape[0]?Fa(o):Os([o,Ps(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=hi(wo(Bs(d,c),u)),m=Ps(s,[e,0],[n-e,r]),f=Rs(h,i),g=sl(i);if(0===e)s=gi(m,Bs(f,Bs(g,m)));else{const t=gi(m,Bs(f,Bs(g,m)));s=Os([Ps(s,[0,0],[e,r]),t],0)}const y=sl(f),b=Ps(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=gi(b,Bs(Bs(b,i),y));else{const t=gi(b,Bs(Bs(b,i),y));a=Os([Ps(a,[0,0],[n,e]),t],1)}return[i,s,a]})),yr([t,u,l]).forEach((e=>e.dispose()))}return!t&&n>r&&(a=Ps(a,[0,0],[n,r]),s=Ps(s,[0,0],[r,r])),[a,s]}))}const Ql=Dr({qr_:function(e,t=!1){if(ee(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return Gl(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=Zu(Ms(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],s=[];return r.forEach((e=>{const[n,r]=Gl(e,t);a.push(n),s.push(r)})),[Ms(zu(a,0),e.shape),Ms(zu(s,0),e.shape)]}}});var Yl;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Yl||(Yl={}));const Jl=Dr({computeWeightedLoss_:function(e,t,n=Yl.SUM_BY_NONZERO_WEIGHTS){const r=_r(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=_r(t,"weights","computeWeightedLoss"));const s=null==a?r:Rs(r,a);if(n===Yl.NONE)return s;if(n===Yl.SUM)return Vo(s);if(n===Yl.MEAN){if(null==a)return Ci(s);{const e=r.size/a.size,t=wo(Vo(s),Vo(a));return e>1?wo(t,Po(e)):t}}if(n===Yl.SUM_BY_NONZERO_WEIGHTS){if(null==a)return wo(Vo(s),Po(r.size));{const e=Rs(a,Di(r.shape)),t=Da(Vo(Ui(e,Po(0))),"float32");return wo(Vo(s),t)}}throw Error(`Unknown reduction: ${n}`)}}),Zl=Dr({absoluteDifference_:function(e,t,n,r=Yl.SUM_BY_NONZERO_WEIGHTS){const a=_r(e,"labels","absoluteDifference"),s=_r(t,"predictions","absoluteDifference");let o=null;null!=n&&(o=_r(n,"weights","absoluteDifference")),te(a.shape,s.shape,"Error in absoluteDifference: ");const i=us(gi(a,s));return Jl(i,o,r)}}),Xl=Dr({cosineDistance_:function(e,t,n,r,a=Yl.SUM_BY_NONZERO_WEIGHTS){const s=_r(e,"labels","cosineDistance"),o=_r(t,"predictions","cosineDistance");let i=null;null!=r&&(i=_r(r,"weights","cosineDistance")),te(s.shape,o.shape,"Error in cosineDistance: ");const u=Po(1),l=gi(u,Vo(Rs(s,o),n,!0));return Jl(l,i,a)}}),ed=Dr({hingeLoss_:function(e,t,n,r=Yl.SUM_BY_NONZERO_WEIGHTS){let a=_r(e,"labels","hingeLoss");const s=_r(t,"predictions","hingeLoss");let o=null;null!=n&&(o=_r(n,"weights","hingeLoss")),te(a.shape,s.shape,"Error in hingeLoss: ");const i=Po(1);a=gi(Rs(Po(2),a),i);const u=pu(gi(i,Rs(a,s)));return Jl(u,o,r)}}),td=Dr({huberLoss_:function(e,t,n,r=1,a=Yl.SUM_BY_NONZERO_WEIGHTS){const s=_r(e,"labels","huberLoss"),o=_r(t,"predictions","huberLoss");let i=null;null!=n&&(i=_r(n,"weights","huberLoss")),te(s.shape,o.shape,"Error in huberLoss: ");const u=Po(r),l=us(gi(o,s)),d=Oi(l,u),c=gi(l,d),p=cs(Rs(Po(.5),Uo(d)),Rs(u,c));return Jl(p,i,a)}}),nd=Dr({logLoss_:function(e,t,n,r=1e-7,a=Yl.SUM_BY_NONZERO_WEIGHTS){const s=_r(e,"labels","logLoss"),o=_r(t,"predictions","logLoss");let i=null;null!=n&&(i=_r(n,"weights","logLoss")),te(s.shape,o.shape,"Error in logLoss: ");const u=Po(1),l=Po(r),d=hi(Rs(s,di(cs(o,l)))),c=Rs(gi(u,s),di(cs(gi(u,o),l))),p=gi(d,c);return Jl(p,i,a)}}),rd=Dr({meanSquaredError_:function(e,t,n,r=Yl.SUM_BY_NONZERO_WEIGHTS){const a=_r(e,"labels","meanSquaredError"),s=_r(t,"predictions","meanSquaredError");let o=null;null!=n&&(o=_r(n,"weights","meanSquaredError")),te(a.shape,s.shape,"Error in meanSquaredError: ");const i=Lu(a,s);return Jl(i,o,r)}}),ad=Dr({sigmoidCrossEntropy_:function(e,t,n,r=0,a=Yl.SUM_BY_NONZERO_WEIGHTS){let s=_r(e,"multiClassLabels","sigmoidCrossEntropy");const o=_r(t,"logits","sigmoidCrossEntropy");let i=null;if(null!=n&&(i=_r(n,"weights","sigmoidCrossEntropy")),te(s.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=Po(r),t=Po(1),n=Po(.5);s=cs(Rs(s,gi(t,e)),Rs(n,e))}const u=function(e,t){const n=_r(e,"labels","sigmoidCrossEntropyWithLogits"),r=_r(t,"logits","sigmoidCrossEntropyWithLogits");te(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=pu(r),s=Rs(r,n),o=ci(qo(hi(us(r))));return cs(gi(a,s),o)}(s,o);return Jl(u,i,a)}}),sd=Dr({softmaxCrossEntropy_:function(e,t,n,r=0,a=Yl.SUM_BY_NONZERO_WEIGHTS){let s=_r(e,"onehotLabels","softmaxCrossEntropy");const o=_r(t,"logits","softmaxCrossEntropy");let i=null;if(null!=n&&(i=_r(n,"weights","softmaxCrossEntropy")),te(s.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const e=Po(r),t=Po(1),n=Po(s.shape[1]);s=cs(Rs(s,gi(t,e)),wo(e,n))}const u=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=pi(((e,t,r)=>{const a=bi(t,[n],!0),s=gi(Da(t,"float32"),a);r([e,s]);const o=hi(Rs(s,e));return{value:Vo(o,[n]),gradFunc:(e,t)=>{const[r,a]=t,s=Co(e.shape,[n]);return[Rs(Ms(e,s),gi(Da(r,"float32"),qo(a))),Rs(Ms(e,s),gi(qo(a),Da(r,"float32")))]}}}));return r(e,t)}(s,o);return Jl(u,i,a)}}),od=Dr({sparseFillEmptyRows_:function(e,t,n,r){const a=_r(e,"indices","sparseFillEmptyRows","int32"),s=_r(t,"values","sparseFillEmptyRows"),o=_r(n,"denseShape","sparseFillEmptyRows","int32"),i=_r(r,"defaultValue","sparseFillEmptyRows",s.dtype);if(2!==a.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${a.shape}`);if(1!==s.rank)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(1!==o.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(0!==i.rank)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const u={indices:a,values:s,denseShape:o,defaultValue:i},l=Ar.runKernel(Zt,u);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}}),id=Dr({sparseReshape_:function(e,t,n){const r=_r(e,"inputIndices","sparseReshape","int32"),a=_r(t,"inputShape","sparseReshape","int32"),s=_r(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(1!==s.rank)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);const o={inputIndices:r,inputShape:a,newShape:s},i=Ar.runKernel(Xt,o);return{outputIndices:i[0],outputShape:i[1]}}}),ud=Dr({sparseSegmentMean_:function(e,t,n){const r=_r(e,"data","sparseSegmentMean"),a=_r(t,"indices","sparseSegmentMean","int32"),s=_r(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${a.shape}`);if(1!==s.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${s.shape}`);const o={data:r,indices:a,segmentIds:s};return Ar.runKernel(en,o)}}),ld=Dr({sparseSegmentSum_:function(e,t,n){const r=_r(e,"data","sparseSegmentSum"),a=_r(t,"indices","sparseSegmentSum","int32"),s=_r(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${a.shape}`);if(1!==s.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${s.shape}`);const o={data:r,indices:a,segmentIds:s};return Ar.runKernel(tn,o)}}),dd=Dr({stringNGrams_:function(e,t,n,r,a,s,o,i){const u=_r(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error(`Data must be a vector, saw: ${u.shape}`);const l=_r(t,"dataSplits","stringNGrams");if("int32"!==l.dtype)throw new Error("Data splits must be of datatype int32");const d={separator:n,nGramWidths:r,leftPad:a,rightPad:s,padWidth:o,preserveShortSequences:i},c={data:u,dataSplits:l},p=Ar.runKernel(an,c,d);return{nGrams:p[0],nGramsSplits:p[1]}}}),cd=Dr({stringSplit_:function(e,t,n=!0){const r=_r(e,"input","stringSplit","string"),a=_r(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==a.rank)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const s={skipEmpty:n},o={input:r,delimiter:a},i=Ar.runKernel(sn,o,s);return{indices:i[0],values:i[1],shape:i[2]}}}),pd=Dr({stringToHashBucketFast_:function(e,t){const n=_r(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return Ar.runKernel(on,a,r)}}),hd={fft:Du,ifft:Fu,rfft:Ru,irfft:Ou},md={hammingWindow:El,hannWindow:Il,frame:Nl,stft:Sl},fd={flipLeftRight:_l,grayscaleToRGB:Cl,resizeNearestNeighbor:Hl,resizeBilinear:jl,rotateWithOffset:Ml,cropAndResize:Tl,nonMaxSuppression:Fl,nonMaxSuppressionAsync:async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=_r(e,"boxes","nonMaxSuppressionAsync"),o=_r(t,"scores","nonMaxSuppressionAsync"),i=Dl(s,o,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const u=await Promise.all([s.data(),o.data()]),l=u[0],d=u[1],{selectedIndices:c}=function(e,t,n,r,a){return Rl(e,t,n,r,a,0)}(l,d,n,r,a);return s!==e&&s.dispose(),o!==t&&o.dispose(),Hu(c,"int32")},nonMaxSuppressionWithScore:Ul,nonMaxSuppressionWithScoreAsync:async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const o=_r(e,"boxes","nonMaxSuppressionAsync"),i=_r(t,"scores","nonMaxSuppressionAsync"),u=Dl(o,i,n,r,a,s);n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold,s=u.softNmsSigma;const l=await Promise.all([o.data(),i.data()]),d=l[0],c=l[1],{selectedIndices:p,selectedScores:h}=function(e,t,n,r,a,s){return Rl(e,t,n,r,a,s,!0)}(d,c,n,r,a,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),{selectedIndices:Hu(p,"int32"),selectedScores:Hu(h)}},nonMaxSuppressionPadded:Vl,nonMaxSuppressionPaddedAsync:async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const o=_r(e,"boxes","nonMaxSuppressionAsync"),i=_r(t,"scores","nonMaxSuppressionAsync"),u=Dl(o,i,n,r,a,null),l=u.maxOutputSize,d=u.iouThreshold,c=u.scoreThreshold,[p,h]=await Promise.all([o.data(),i.data()]),{selectedIndices:m,validOutputs:f}=function(e,t,n,r,a,s){return Rl(e,t,n,r,a,0,!1,s,!0)}(p,h,l,d,c,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),{selectedIndices:Hu(m,"int32"),validOutputs:Po(f,"int32")}},threshold:Wl,transform:ql},gd={bandPart:$l,gramSchmidt:Kl,qr:Ql},yd={absoluteDifference:Zl,computeWeightedLoss:Jl,cosineDistance:Xl,hingeLoss:ed,huberLoss:td,logLoss:nd,meanSquaredError:rd,sigmoidCrossEntropy:ad,softmaxCrossEntropy:sd},bd={sparseFillEmptyRows:od,sparseReshape:id,sparseSegmentMean:ud,sparseSegmentSum:ld},wd={stringNGrams:dd,stringSplit:cd,stringToHashBucketFast:pd};function xd(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var vd,kd,Ad;function Ed(e,t,n,r=!0){let a=[];if(r)a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)a=a.concat([e[r+1]/t[r],t[r]]);a=a.concat(e.slice(n+1))}return a}function Id(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],a=[];for(let r=1;r<e;++r)r>=2*t+1||r%2==1?a.push(r):n.push(r);r.push(...n),r.push(0),r.push(...a)}return r}function Nd(e,t,n,r=!0){const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?r?a.push(t[n-1]*e[n]):a.push(e[n]/t[n-1]):a.push(e[n]);return a}function Sd(e){try{return e.map((e=>$n(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function Td(e){return e.map((e=>qn(e)))}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(vd||(vd={})),Ie().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(kd||(kd={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Ad||(Ad={}));const _d={};function Cd(e){return _d[e]}function Md(e,t,n,r,a){const s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){const e=s.inputIndexStart,o=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?e+1:s.inputIndexEnd;if("tensor"===s.type)return Dd(t.inputNames[s.inputIndexStart],n,r,a);if("tensors"===s.type)return t.inputNames.slice(e,o).map((e=>Dd(e,n,r,a)));const i=Dd(t.inputNames.slice(e)[0],n,r,a),u=i.dataSync();return"number"===s.type?u[0]:ye(i.shape,u)}const o=t.attrParams[e];return o&&o.value}function Dd(e,t,n,r){const[a,s]=Bd(e);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const o=n.currentContextIds.find((e=>!!t[Od(a,e)]));return void 0!==o?t[Od(a,o)][s]:void 0}function Fd(e,t){const[n,r,a]=Bd(e);return[Od(n,t&&t.currentContextId),r,a]}function Od(e,t){return t?`${e}-${t}`:e}function Bd(e){const t=e.split(":");if(1===t.length)return[e,0,void 0];const n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function Rd(e,t,n){let r=Md("pad",e,t,n);if("explicit"===r){r=Md("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function Ld(e){return e.kept?e:Fa(e)}const Pd=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],zd=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Ud=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Vd=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],jd=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Hd=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Wd=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],qd=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],$d=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],Kd=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Gd=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Qd=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],Yd=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],Jd=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Zd=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],Xd=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],ec=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],tc=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],nc=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class rc{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[a,s,o,i,u,l,d,c,p,h,m,f,g,y,b,w,x,v,k].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,r=[],a=[],s=[],o=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||s.push(e[t.name]),e)),{});let i=[];const u=[];let l={},d={};null!=t&&(l=this.mapSignatureEntries(t.inputs),d=this.mapSignatureEntries(t.outputs));const c=Object.keys(o);c.forEach((e=>{const t=o[e];t.inputNames.forEach(((e,n)=>{const[r,,a]=Fd(e),s=o[r];if(null!=s.outputs){const e=s.outputs.indexOf(a);if(-1!==e){const a=`${r}:${e}`;t.inputNames[n]=a}}t.inputs.push(s),s.children.push(t)}))})),0===Object.keys(d).length?c.forEach((e=>{const t=o[e];0===t.children.length&&u.push(t)})):Object.keys(d).forEach((e=>{const[t]=Fd(e),n=o[t];null!=n&&(n.signatureKey=d[e],u.push(n))})),Object.keys(l).length>0?Object.keys(l).forEach((e=>{const[t]=Fd(e),n=o[t];n&&(n.signatureKey=l[e],i.push(n))})):i=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:o,inputs:i,outputs:u,weights:a,placeholders:r,signature:t,functions:p};return s.length>0&&(h.initNodes=s),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=Cd(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=sc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=sc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=fc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=fc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=ic(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=ic(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=mc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=mc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=oc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=oc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=yc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=yc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=hc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=hc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=gc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=gc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=dc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=dc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=cc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=cc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=lc(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=lc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:a,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const a=[],s=[];e.signature.inputArg.forEach((e=>{const[t]=Fd(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:uc(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n})),Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[a,,s]=Fd(e),o=r[a];if(null!=o.outputs){const e=o.outputs.indexOf(s);if(-1!==e){const r=`${a}:${e}`;t.inputNames[n]=r}}t.inputs.push(o),o.children.push(t)}))}));const o=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=Fd(o[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,s.push(a))}));const i=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:s,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function ac(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=Ie().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function sc(e,t,n,r=!1){const a=e[t];return null!=a?ac(a.s,r):n}function oc(e,t,n){const r=e[t];return r?r.b:n}function ic(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof a?a:parseInt(a,10)}function uc(e){switch("string"==typeof e&&(e=kd[e]),e){case kd.DT_FLOAT:case kd.DT_HALF:return"float32";case kd.DT_INT32:case kd.DT_INT64:case kd.DT_INT8:case kd.DT_UINT8:return"int32";case kd.DT_BOOL:return"bool";case kd.DT_DOUBLE:return"float32";case kd.DT_STRING:return"string";default:return null}}function lc(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function dc(e,t,n){const r=e[t];return r&&r.type?uc(r.type):n}function cc(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>uc(e))):n}function pc(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function hc(e,t,n){const r=e[t];return r&&r.shape?pc(r.shape):n}function mc(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function fc(e,t,n,r=!1){const a=e[t];return a&&a.list&&a.list.s?a.list.s.map((e=>ac(e,r))):n}function gc(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>pc(e))):n}function yc(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class bc{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return Dd(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Dd(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return ic(this.node.rawAttrs,e,t);if(null!=n.s)return sc(this.node.rawAttrs,e,t);if(null!=n.b)return oc(this.node.rawAttrs,e,t);if(null!=n.shape)return hc(this.node.rawAttrs,e,t);if(null!=n.type)return dc(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return mc(this.node.rawAttrs,e,t);if(null!=n.list.s)return fc(this.node.rawAttrs,e,t);if(null!=n.list.shape)return gc(this.node.rawAttrs,e,t);if(null!=n.list.b)return yc(this.node.rawAttrs,e,t);if(null!=n.list.type)return cc(this.node.rawAttrs,e,t)}return t}}function wc(e,t,n=""){if("number"!=typeof e&&"number"!=typeof t){ee(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const a=e[r],s=t[r];ee(a<0||s<0||a===s,(()=>n+` Shapes ${e} and ${t} must match`))}}}function xc(e){return"number"!=typeof e&&!e.some((e=>e<0))}function vc(e,t,n){let r=kc(e,n);const a=!xc(r);if(a&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&t.forEach((e=>{r=kc(e.shape,r)})),!xc(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function kc(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const a=e[r],s=t[r];if(a>=0&&s>=0&&a!==s)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=a>=0?a:s}return n}class Ac{constructor(e,t,n,r,a,s,o){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=s,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=Po(0),al(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),wc(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,al(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return Br([],[0].concat(this.elementShape));const n=this.readMany(e);return wc(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),zu(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return Br([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return wc(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),Os(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Zu(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const a=0===n?0:t.size/n,s=[];rl((()=>{t=Ms(t,[1,n,a]);for(let n=0;n<e.length;++n){const o=[0,0===n?0:r[n-1],0],i=[1,e[n],a];s[n]=Ms(Ps(t,o,i),this.elementShape)}return s}));const o=[];for(let t=0;t<e.length;t++)o[t]=t;this.writeMany(o,s)}}class Ec{constructor(e,t,n,r=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);wc(t,e.shape,"TensorList shape mismatch: "),al(e)})),this.idTensor=Po(0),this.maxNumElements=r,al(this.idTensor)}get id(){return this.idTensor.id}copy(){return new Ec([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);wc(e,this.elementShape,"TensorList shape mismatch: ");const r=vc(this.elementShape,this.tensors,e);return rl((()=>{const e=this.tensors.map((e=>Ms(e,r)));return zu(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=vc(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,wc(r.shape,e,"TensorList shape mismatch: "),Ms(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(wc(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");al(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new Ec([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);wc(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=vc(this.elementShape,this.tensors,t);return Ms(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);wc(this.elementShape,t.shape,"TensorList shape mismatch: "),al(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);wc(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=vc(this.elementShape,this.tensors,n);return 0===e.length?Br([],[0].concat(r)):rl((()=>{const t=e.map((e=>Ms(this.tensors[e],r)));return zu(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);wc(this.elementShape,t,"TensorList shape mismatch: ");const n=vc(this.elementShape,this.tensors,t);return 0===this.size()?Br([],[0].concat(n)):rl((()=>{const e=this.tensors.map((e=>Ms(e,n)));return Os(e,0)}))}}function Ic(e,t,n){const[r,a]=Md("fusedOps",e,t,n),s="biasadd"===r,o=!s,i="prelu"===a,u="fusedbatchnorm"===r,l=Md("numArgs",e,t,n);if(s){if(i&&2!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&s&&1!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(u)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const d=Md("strides",e,t,n),c=Rd(e,t,n),p=Md("dataFormat",e,t,n).toUpperCase(),h=Md("dilations",e,t,n);let[m,f]=Md("args",e,t,n);return o&&(f=m,m=void 0),{stride:d,pad:c,dataFormat:p,dilations:h,biasArg:m,preluArg:f,activationFunc:a,leakyreluAlpha:Md("leakyreluAlpha",e,t,n)}}function Nc(e,t,n){return{boxes:Md("boxes",e,t,n),scores:Md("scores",e,t,n),maxOutputSize:Md("maxOutputSize",e,t,n),iouThreshold:Md("iouThreshold",e,t,n),scoreThreshold:Md("scoreThreshold",e,t,n),softNmsSigma:Md("softNmsSigma",e,t,n)}}class Sc{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Po(0),this.tensorMap=new Map,al(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Po(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),rl((()=>{const e=Zu(t),r=n.length,a=e.length;ee(r===a,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${a} elements.`));for(let t=0;t<r;t++){const r=n[t],a=e[t];al(a),this.tensorMap.set(r,a)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return rl((()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],s=this.findWithDefault(a,t);e.push(s)}return zu(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function Tc(e,t,n,r,a=rl){const s=((e,t,n)=>{switch(e.category){case"arithmetic":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Md("a",e,t,n),Md("b",e,t,n))];case"AddN":return[r.addN(Md("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(Md("a",e,t,n),Md("b",e,t,n))];case"Mul":return[r.mul(Md("a",e,t,n),Md("b",e,t,n))];case"RealDiv":case"Div":return[r.div(Md("a",e,t,n),Md("b",e,t,n))];case"DivNoNan":return[r.divNoNan(Md("a",e,t,n),Md("b",e,t,n))];case"FloorDiv":return[r.floorDiv(Md("a",e,t,n),Md("b",e,t,n))];case"Sub":return[r.sub(Md("a",e,t,n),Md("b",e,t,n))];case"Minimum":return[r.minimum(Md("a",e,t,n),Md("b",e,t,n))];case"Maximum":return[r.maximum(Md("a",e,t,n),Md("b",e,t,n))];case"Pow":return[r.pow(Md("a",e,t,n),Md("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(Md("a",e,t,n),Md("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(Md("x",e,t,n))];case"Acos":return[r.acos(Md("x",e,t,n))];case"Acosh":return[r.acosh(Md("x",e,t,n))];case"Asin":return[r.asin(Md("x",e,t,n))];case"Asinh":return[r.asinh(Md("x",e,t,n))];case"Atan":return[r.atan(Md("x",e,t,n))];case"Atan2":return[r.atan2(Md("x",e,t,n),Md("y",e,t,n))];case"Atanh":return[r.atanh(Md("x",e,t,n))];case"Ceil":return[r.ceil(Md("x",e,t,n))];case"Complex":return[r.complex(Md("real",e,t,n),Md("imag",e,t,n))];case"Cos":return[r.cos(Md("x",e,t,n))];case"Cosh":return[r.cosh(Md("x",e,t,n))];case"Elu":return[r.elu(Md("x",e,t,n))];case"Erf":return[r.erf(Md("x",e,t,n))];case"Exp":return[r.exp(Md("x",e,t,n))];case"Expm1":return[r.expm1(Md("x",e,t,n))];case"Floor":return[r.floor(Md("x",e,t,n))];case"Log":return[r.log(Md("x",e,t,n))];case"Log1p":return[r.log1p(Md("x",e,t,n))];case"Imag":return[r.imag(Md("x",e,t,n))];case"Neg":return[r.neg(Md("x",e,t,n))];case"Reciprocal":return[r.reciprocal(Md("x",e,t,n))];case"Real":return[r.real(Md("x",e,t,n))];case"Relu":return[r.relu(Md("x",e,t,n))];case"Round":return[r.round(Md("x",e,t,n))];case"Selu":return[r.selu(Md("x",e,t,n))];case"Sigmoid":return[r.sigmoid(Md("x",e,t,n))];case"Sin":return[r.sin(Md("x",e,t,n))];case"Sign":return[r.sign(Md("x",e,t,n))];case"Sinh":return[r.sinh(Md("x",e,t,n))];case"Softplus":return[r.softplus(Md("x",e,t,n))];case"Sqrt":return[r.sqrt(Md("x",e,t,n))];case"Square":return[r.square(Md("x",e,t,n))];case"Tanh":return[r.tanh(Md("x",e,t,n))];case"Tan":return[r.tan(Md("x",e,t,n))];case"ClipByValue":return[r.clipByValue(Md("x",e,t,n),Md("clipValueMin",e,t,n),Md("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(Md("x",e,t,n))];case"Rsqrt":return[r.rsqrt(Dd(e.inputNames[0],t,n))];case"Prod":return[r.prod(Md("x",e,t,n),Md("axes",e,t,n))];case"LeakyRelu":return[r.leakyRelu(Md("x",e,t,n),Md("alpha",e,t,n))];case"Prelu":return[r.prelu(Md("x",e,t,n),Md("alpha",e,t,n))];case"IsNan":return[r.isNaN(Dd(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return(async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=Md("thenBranch",e,t,n),a=Md("elseBranch",e,t,n),s=Md("cond",e,t,n),o=Md("args",e,t,n);return(await s.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Md("body",e,t,n),a=Md("cond",e,t,n),s=Md("args",e,t,n),o=await n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),i=s.map((e=>e.id));let u=await o[0].data();o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let l=s;for(;u[0];){const e=l;l=await n.functionMap[r].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);const t=l.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const s=await n.functionMap[a].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);u=await s[0].data(),s.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return l}case"LoopCond":return[Ld(Md("pred",e,t,n))];case"Switch":{const r=Md("pred",e,t,n);let a=Md("data",e,t,n);return a.kept||(a=Ld(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==Dd(e,t,n)));return r?[Ld(Dd(r,t,n))]:void 0}case"Enter":{const r=Md("frameName",e,t,n),a=Md("tensor",e,t,n);return n.enterFrame(r),[Ld(a)]}case"Exit":{const r=Md("tensor",e,t,n);return n.exitFrame(),[Ld(r)]}case"NextIteration":{const r=Md("tensor",e,t,n);return n.nextIteration(),[Ld(r)]}case"TensorArrayV3":{const r=Md("size",e,t,n),a=Md("dtype",e,t,n),s=Md("elementShape",e,t,n),o=Md("dynamicSize",e,t,n),i=Md("clearAfterRead",e,t,n),u=Md("identicalElementShapes",e,t,n),l=Md("name",e,t,n),d=new Ac(l,a,r,s,u,o,i);return n.addTensorArray(d),[d.idTensor,Po(1)]}case"TensorArrayWriteV3":{const r=Md("tensorArrayId",e,t,n),a=Md("index",e,t,n),s=Md("tensor",e,t,n),o=n.getTensorArray(r.id);return o.write(a,s),[o.idTensor]}case"TensorArrayReadV3":{const r=Md("tensorArrayId",e,t,n),a=Md("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=Md("tensorArrayId",e,t,n),a=Md("indices",e,t,n),s=Md("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,s)]}case"TensorArrayScatterV3":{const r=Md("tensorArrayId",e,t,n),a=Md("indices",e,t,n),s=Md("tensor",e,t,n),o=n.getTensorArray(r.id);return o.scatter(a,s),[o.idTensor]}case"TensorArrayConcatV3":{const r=Md("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),s=Md("dtype",e,t,n);return[a.concat(s)]}case"TensorArraySplitV3":{const r=Md("tensorArrayId",e,t,n),a=Md("tensor",e,t,n),s=Md("lengths",e,t,n),o=n.getTensorArray(r.id);return o.split(s,a),[o.idTensor]}case"TensorArraySizeV3":{const r=Md("tensorArrayId",e,t,n);return[Po(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=Md("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=Md("tensorListId",e,t,n),a=Md("index",e,t,n),s=Md("tensor",e,t,n),o=n.getTensorList(r.id);return o.setItem(a,s),[o.idTensor]}case"TensorListGetItem":{const r=Md("tensorListId",e,t,n),a=Md("index",e,t,n),s=Md("elementShape",e,t,n),o=Md("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,s,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Md("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const s=new Ec([],n,e.dtype,r),o=Zu(e,0);return t.forEach(((e,t)=>{s.setItem(e,o[t])})),s}(Md("tensor",e,t,n),r,Md("elementShape",e,t,n),Md("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Md("elementShape",e,t,n),a=Md("elementDType",e,t,n);let s;s="TensorListReserve"===e.op?"numElements":"maxNumElements";const o=Md(s,e,t,n),i=function(e,t,n,r){return new Ec([],e,t,r)}(r,a,0,"TensorListReserve"===e.op?-1:o);return n.addTensorList(i),[i.idTensor]}case"TensorListGather":{const r=Md("tensorListId",e,t,n),a=Md("indices",e,t,n),s=Md("elementShape",e,t,n),o=Md("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,o,s)]}case"TensorListStack":{const r=Md("tensorListId",e,t,n),a=Md("elementShape",e,t,n),s=Md("elementDType",e,t,n),o=Md("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,s,o)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);wc(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=Zu(e);return new Ec(a,t,r)}(Md("tensor",e,t,n),Md("elementShape",e,t,n),Md("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=Md("tensorListId",e,t,n),a=n.getTensorList(r.id),s=Md("dtype",e,t,n),o=Md("elementShape",e,t,n);return[a.concat(s,o)]}case"TensorListPushBack":{const r=Md("tensorListId",e,t,n),a=Md("tensor",e,t,n),s=n.getTensorList(r.id);return s.pushBack(a),[s.idTensor]}case"TensorListPopBack":{const r=Md("tensorListId",e,t,n),a=Md("elementShape",e,t,n),s=Md("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,s)]}case"TensorListSplit":{const r=Md("tensor",e,t,n),a=Md("elementShape",e,t,n),s=function(e,t,n){let r=0;const a=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const s=kc(e.shape.slice(1),n),o=0===r?0:e.size/r,i=rl((()=>{const n=[];e=Ms(e,[1,r,o]);for(let r=0;r<t.length;++r){const i=[0,0===r?0:a[r-1],0],u=[1,t[r],o];n[r]=Ms(Ps(e,i,u),s)}return e.dispose(),n})),u=new Ec([],n,e.dtype,t.length);for(let e=0;e<i.length;e++)u.setItem(e,i[e]);return u}(r,Md("lengths",e,t,n),a);return n.addTensorList(s),[s.idTensor]}case"TensorListLength":{const r=Md("tensorListId",e,t,n);return[Po(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=Md("tensorListId",e,t,n),a=Md("size",e,t,n),s=n.getTensorList(r.id).resize(a);return n.addTensorList(s),[s.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"convolution":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"Conv1D":{const a=Md("stride",e,t,n),s=Md("pad",e,t,n),o=Md("dataFormat",e,t,n).toUpperCase(),i=Md("dilation",e,t,n);return[r.conv1d(Md("x",e,t,n),Md("filter",e,t,n),a,s,o,i)]}case"Conv2D":{const a=Md("strides",e,t,n),s=Rd(e,t,n),o=Md("dataFormat",e,t,n).toUpperCase(),i=Md("dilations",e,t,n);return[r.conv2d(Md("x",e,t,n),Md("filter",e,t,n),[a[1],a[2]],s,o,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:a,pad:s,dataFormat:o,dilations:i,biasArg:u,preluArg:l,activationFunc:d,leakyreluAlpha:c}=Ic(e,t,n);return[r.fused.conv2d({x:Md("x",e,t,n),filter:Md("filter",e,t,n),strides:[a[1],a[2]],pad:s,dataFormat:o,dilations:[i[1],i[2]],bias:u,activation:d,preluActivationWeights:l,leakyreluAlpha:c})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:s,dataFormat:o,dilations:i,biasArg:u,preluArg:l,activationFunc:d,leakyreluAlpha:c}=Ic(e,t,n);return[r.fused.depthwiseConv2d({x:Md("x",e,t,n),filter:Md("filter",e,t,n),strides:[a[1],a[2]],pad:s,dataFormat:o,dilations:[i[1],i[2]],bias:u,activation:d,preluActivationWeights:l,leakyreluAlpha:c})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=Md("outputShape",e,t,n),s=Md("strides",e,t,n),o=Rd(e,t,n);return[r.conv2dTranspose(Md("x",e,t,n),Md("filter",e,t,n),a,[s[1],s[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=Md("strides",e,t,n),s=Rd(e,t,n),o=Md("dilations",e,t,n),i=Md("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(Md("input",e,t,n),Md("filter",e,t,n),[a[1],a[2]],s,i,[o[1],o[2]])]}case"Conv3D":{const a=Md("strides",e,t,n),s=Md("pad",e,t,n),o=Md("dataFormat",e,t,n).toUpperCase(),i=Md("dilations",e,t,n);return[r.conv3d(Md("x",e,t,n),Md("filter",e,t,n),[a[1],a[2],a[3]],s,o,[i[1],i[2],i[3]])]}case"AvgPool":{const a=Md("strides",e,t,n),s=Md("pad",e,t,n),o=Md("kernelSize",e,t,n);return[r.avgPool(Md("x",e,t,n),[o[1],o[2]],[a[1],a[2]],s)]}case"MaxPool":{const a=Md("strides",e,t,n),s=Md("pad",e,t,n),o=Md("kernelSize",e,t,n);return[r.maxPool(Md("x",e,t,n),[o[1],o[2]],[a[1],a[2]],s)]}case"MaxPoolWithArgmax":{const a=Md("strides",e,t,n),s=Md("pad",e,t,n),o=Md("kernelSize",e,t,n),i=Md("includeBatchInIndex",e,t,n),{result:u,indexes:l}=r.maxPoolWithArgmax(Md("x",e,t,n),[o[1],o[2]],[a[1],a[2]],s,i);return[u,l]}case"AvgPool3D":{const a=Md("strides",e,t,n),s=Md("pad",e,t,n),o=Md("kernelSize",e,t,n);return[r.avgPool3d(Md("x",e,t,n),[o[1],o[2],o[3]],[a[1],a[2],a[3]],s)]}case"MaxPool3D":{const a=Md("strides",e,t,n),s=Md("pad",e,t,n),o=Md("kernelSize",e,t,n);return[r.maxPool3d(Md("x",e,t,n),[o[1],o[2],o[3]],[a[1],a[2],a[3]],s)]}case"Dilation2D":{const a=Md("strides",e,t,n),s=Md("pad",e,t,n),o=Md("dilations",e,t,n),i=a[1],u=a[2],l=o[1],d=o[2];return[r.dilation2d(Md("x",e,t,n),Md("filter",e,t,n),[i,u],s,[l,d],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"Fill":{const a=Md("shape",e,t,n),s=Md("dtype",e,t,n),o=Md("value",e,t,n);return[r.fill(a,o,s)]}case"LinSpace":{const a=Md("start",e,t,n),s=Md("stop",e,t,n),o=Md("num",e,t,n);return[r.linspace(a,s,o)]}case"Multinomial":{const a=Md("logits",e,t,n),s=Md("numSamples",e,t,n),o=Md("seed",e,t,n);return[r.multinomial(a,s,o)]}case"OneHot":{const a=Md("indices",e,t,n),s=Md("depth",e,t,n),o=Md("onValue",e,t,n),i=Md("offValue",e,t,n),u=Md("dtype",e,t,n);return[r.oneHot(a,s,o,i,u)]}case"Ones":return[r.ones(Md("shape",e,t,n),Md("dtype",e,t,n))];case"OnesLike":return[r.onesLike(Md("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Md("shape",e,t,n),Md("dtype",e,t,n),Md("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(Md("shape",e,t,n),Md("minval",e,t,n),Md("maxval",e,t,n),Md("dtype",e,t,n))];case"Range":{const a=Md("start",e,t,n),s=Md("stop",e,t,n),o=Md("step",e,t,n);return[r.range(a,s,o,Md("dtype",e,t,n))]}case"TruncatedNormal":{const a=Md("shape",e,t,n),s=Md("mean",e,t,n),o=Md("stdDev",e,t,n),i=Md("seed",e,t,n);return[r.truncatedNormal(a,s,o,Md("dtype",e,t,n),i)]}case"Zeros":return[r.zeros(Md("shape",e,t,n),Md("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(Md("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n,r,a=A)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:s,maxOutputSize:o,iouThreshold:i,scoreThreshold:u,softNmsSigma:l}=Nc(e,t,n),d=await a.image.nonMaxSuppressionWithScoreAsync(r,s,o,i,u,l);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:s,maxOutputSize:o,iouThreshold:i,scoreThreshold:u}=Nc(e,t,n),l=Md("padToMaxOutputSize",e,t,n),d=await a.image.nonMaxSuppressionPaddedAsync(r,s,o,i,u,l);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:s,maxOutputSize:o,iouThreshold:i,scoreThreshold:u}=Nc(e,t,n);return[await a.image.nonMaxSuppressionAsync(r,s,o,i,u)]}case"Where":{const r=a.cast(Md("condition",e,t,n),"bool"),s=[await a.whereAsync(r)];return r.dispose(),s}case"ListDiff":return a.setdiff1dAsync(Md("x",e,t,n),Md("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"LowerBound":{const a=Md("sortedSequence",e,t,n),s=Md("values",e,t,n);return[r.lowerBound(a,s)]}case"TopKV2":{const a=Md("x",e,t,n),s=Md("k",e,t,n),o=Md("sorted",e,t,n),i=r.topk(a,s,o);return[i.values,i.indices]}case"UpperBound":{const a=Md("sortedSequence",e,t,n),s=Md("values",e,t,n);return[r.upperBound(a,s)]}case"Unique":{const a=Md("x",e,t,n),s=r.unique(a);return[s.values,s.indices]}case"UniqueV2":{const a=Md("x",e,t,n),s=Md("axis",e,t,n),o=r.unique(a,s);return[o.values,o.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"ResizeBilinear":{const a=Md("images",e,t,n),s=Md("size",e,t,n),o=Md("alignCorners",e,t,n),i=Md("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[s[0],s[1]],o,i)]}case"ResizeNearestNeighbor":{const a=Md("images",e,t,n),s=Md("size",e,t,n),o=Md("alignCorners",e,t,n),i=Md("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(a,[s[0],s[1]],o,i)]}case"CropAndResize":{const a=Md("image",e,t,n),s=Md("boxes",e,t,n),o=Md("boxInd",e,t,n),i=Md("cropSize",e,t,n),u=Md("method",e,t,n),l=Md("extrapolationValue",e,t,n);return[r.image.cropAndResize(a,s,o,i,u,l)]}case"ImageProjectiveTransformV3":{const a=Md("images",e,t,n),s=Md("transforms",e,t,n),o=Md("outputShape",e,t,n),i=Md("fillValue",e,t,n),u=Md("interpolation",e,t,n),l=Md("fillMode",e,t,n);return[r.image.transform(a,s,u.toLowerCase(),l.toLowerCase(),i,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=Md("default",e,t,n);return[Dd(e.name,t,n)||a];case"Placeholder":return[Dd(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Ld(Md("x",e,t,n))];case"IdentityN":return Md("x",e,t,n).map((e=>Ld(e)));case"Shape":return[r.tensor1d(Md("x",e,t,n).shape,"int32")];case"ShapeN":return Md("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(Md("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(Md("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const s=Md("x",e,t,n),o=Md("data",e,t,n),i=Md("message",e,t,n),u=Md("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(let e=0;e<o.length;e++)console.log(Array.prototype.slice.call(o[e].dataSync()).slice(0,u));return[s];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"Equal":return[r.equal(Md("a",e,t,n),Md("b",e,t,n))];case"NotEqual":return[r.notEqual(Md("a",e,t,n),Md("b",e,t,n))];case"Greater":return[r.greater(Md("a",e,t,n),Md("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(Md("a",e,t,n),Md("b",e,t,n))];case"Less":return[r.less(Md("a",e,t,n),Md("b",e,t,n))];case"LessEqual":return[r.lessEqual(Md("a",e,t,n),Md("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(Md("a",e,t,n),Md("b",e,t,n))];case"LogicalNot":return[r.logicalNot(Md("a",e,t,n))];case"LogicalOr":return[r.logicalOr(Md("a",e,t,n),Md("b",e,t,n))];case"Select":case"SelectV2":return[r.where(Md("condition",e,t,n),Md("a",e,t,n),Md("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Md("a",e,t,n),Md("b",e,t,n),Md("transposeA",e,t,n),Md("transposeB",e,t,n))];case"Einsum":return[r.einsum(Md("equation",e,t,n),...Md("tensors",e,t,n))];case"Transpose":return[r.transpose(Md("x",e,t,n),Md("perm",e,t,n))];case"_FusedMatMul":const[a,s]=Md("fusedOps",e,t,n),o="biasadd"===a,i="prelu"===s,u=Md("numArgs",e,t,n),l=Md("leakyreluAlpha",e,t,n);if(o){if(i&&2!==u)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==u)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[d,c]=Md("args",e,t,n);return[r.fused.matMul({a:Md("a",e,t,n),b:Md("b",e,t,n),transposeA:Md("transposeA",e,t,n),transposeB:Md("transposeB",e,t,n),bias:d,activation:s,preluActivationWeights:c,leakyreluAlpha:l})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(Md("x",e,t,n),Md("axis",e,t,n),Md("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(Md("x",e,t,n),Md("mean",e,t,n),Md("variance",e,t,n),Md("offset",e,t,n),Md("scale",e,t,n),Md("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(Md("x",e,t,n),Md("radius",e,t,n),Md("bias",e,t,n),Md("alpha",e,t,n),Md("beta",e,t,n))];case"Softmax":return[r.softmax(Md("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(Md("x",e,t,n))];case"SparseToDense":return[r.sparseToDense(Md("sparseIndices",e,t,n),Md("outputShape",e,t,n),Md("sparseValues",e,t,n),Md("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"Max":{const a=Md("axis",e,t,n),s=Md("keepDims",e,t,n);return[r.max(Md("x",e,t,n),a,s)]}case"Mean":{const a=Md("axis",e,t,n),s=Md("keepDims",e,t,n);return[r.mean(Md("x",e,t,n),a,s)]}case"Min":{const a=Md("axis",e,t,n),s=Md("keepDims",e,t,n);return[r.min(Md("x",e,t,n),a,s)]}case"Sum":{const a=Md("axis",e,t,n),s=Md("keepDims",e,t,n);return[r.sum(Md("x",e,t,n),a,s)]}case"All":{const a=Md("axis",e,t,n),s=Md("keepDims",e,t,n);return[r.all(Md("x",e,t,n),a,s)]}case"Any":{const a=Md("axis",e,t,n),s=Md("keepDims",e,t,n);return[r.any(Md("x",e,t,n),a,s)]}case"ArgMax":{const a=Md("axis",e,t,n);return[r.argMax(Md("x",e,t,n),a)]}case"ArgMin":{const a=Md("axis",e,t,n);return[r.argMin(Md("x",e,t,n),a)]}case"Prod":{const a=Md("axis",e,t,n),s=Md("keepDims",e,t,n);return[r.prod(Md("x",e,t,n),a,s)]}case"Cumprod":{const a=Md("axis",e,t,n),s=Md("exclusive",e,t,n),o=Md("reverse",e,t,n);return[r.cumprod(Md("x",e,t,n),a,s,o)]}case"Cumsum":{const a=Md("axis",e,t,n),s=Md("exclusive",e,t,n),o=Md("reverse",e,t,n);return[r.cumsum(Md("x",e,t,n),a,s,o)]}case"Bincount":const a=Md("x",e,t,n),s=Md("weights",e,t,n),o=Md("size",e,t,n);return[r.bincount(a,s,o)];case"DenseBincount":{const a=Md("x",e,t,n),s=Md("weights",e,t,n),o=Md("size",e,t,n),i=Md("binaryOutput",e,t,n);return[r.denseBincount(a,s,o,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"ConcatV2":case"Concat":{const a=Md("n",e,t,n),s=Md("axis",e,t,n);let o=Md("tensors",e,t,n);return o=o.slice(0,a),[r.concat(o,s)]}case"Gather":{const a=Md("x",e,t,n),s=Md("indices",e,t,n);return[r.gather(a,r.cast(s,"int32"),0)]}case"GatherV2":{const a=Md("axis",e,t,n),s=Md("batchDims",e,t,n),o=Md("x",e,t,n),i=Md("indices",e,t,n);return[r.gather(o,r.cast(i,"int32"),a,s)]}case"Reverse":{const a=Md("dims",e,t,n),s=[];for(let e=0;e<a.length;e++)a[e]&&s.push(e);const o=Md("x",e,t,n);return[r.reverse(o,s)]}case"ReverseV2":{const a=Md("axis",e,t,n),s=Md("x",e,t,n);return[r.reverse(s,a)]}case"Slice":{const a=Md("begin",e,t,n),s=Md("size",e,t,n);return[r.slice(Md("x",e,t,n),a,s)]}case"StridedSlice":{const a=Md("begin",e,t,n),s=Md("end",e,t,n),o=Md("strides",e,t,n),i=Md("beginMask",e,t,n),u=Md("endMask",e,t,n),l=Md("ellipsisMask",e,t,n),d=Md("newAxisMask",e,t,n),c=Md("shrinkAxisMask",e,t,n),p=Md("x",e,t,n);return[r.stridedSlice(p,a,s,o,i,u,l,d,c)]}case"Pack":return rl((()=>{const a=Md("axis",e,t,n),s=Md("tensors",e,t,n),o=s[0].shape,i=r.squeeze(s[0]).shape,u=s.map((e=>{const t=se(e.shape,o);if(!t&&!se(r.squeeze(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,o)}));return[r.stack(u,a)]}));case"Unpack":{const a=Md("axis",e,t,n),s=Md("tensor",e,t,n);return r.unstack(s,a)}case"Tile":{const a=Md("reps",e,t,n);return[r.tile(Md("x",e,t,n),a)]}case"Split":case"SplitV":{const a=Md("axis",e,t,n),s=Md("numOrSizeSplits",e,t,n),o=Md("x",e,t,n);return r.split(o,s,a)}case"ScatterNd":{const a=Md("indices",e,t,n),s=Md("values",e,t,n),o=Md("shape",e,t,n);return[r.scatterND(a,s,o)]}case"GatherNd":{const a=Md("x",e,t,n),s=Md("indices",e,t,n);return[r.gatherND(a,s)]}case"SparseToDense":{const a=Md("sparseIndices",e,t,n),s=Md("outputShape",e,t,n),o=Md("sparseValues",e,t,n),i=Md("defaultValue",e,t,n);return[r.sparseToDense(a,o,s,o.dtype===i.dtype?i:r.cast(i,o.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:s,emptyRowIndicator:o,reverseIndexMap:i}=r.sparse.sparseFillEmptyRows(Md("indices",e,t,n),Md("values",e,t,n),Md("denseShape",e,t,n),Md("defaultValue",e,t,n));return[a,s,o,i]}case"SparseReshape":{const{outputIndices:a,outputShape:s}=r.sparse.sparseReshape(Md("inputIndices",e,t,n),Md("inputShape",e,t,n),Md("newShape",e,t,n));return[a,s]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Md("data",e,t,n),Md("indices",e,t,n),Md("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Md("data",e,t,n),Md("indices",e,t,n),Md("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"FFT":return[r.fft(Md("x",e,t,n))];case"IFFT":return[r.ifft(Md("x",e,t,n))];case"RFFT":return[r.rfft(Md("x",e,t,n))];case"IRFFT":return[r.irfft(Md("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"StringNGrams":{const{nGrams:a,nGramsSplits:s}=r.string.stringNGrams(Md("data",e,t,n),Md("dataSplits",e,t,n),Md("separator",e,t,n),Md("nGramWidths",e,t,n),Md("leftPad",e,t,n),Md("rightPad",e,t,n),Md("padWidth",e,t,n),Md("preserveShortSequences",e,t,n));return[a,s]}case"StringSplit":{const{indices:a,values:s,shape:o}=r.string.stringSplit(Md("input",e,t,n),Md("delimiter",e,t,n),Md("skipEmpty",e,t,n));return[a,s,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Md("input",e,t,n),Md("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return a((()=>((e,t,n,r=A)=>{switch(e.op){case"Cast":return[r.cast(Md("x",e,t,n),Md("dtype",e,t,n))];case"ExpandDims":{const a=Md("axis",e,t,n);return[r.expandDims(Md("x",e,t,n),a)]}case"Squeeze":{const a=Md("axis",e,t,n);return[r.squeeze(Md("x",e,t,n),a)]}case"Reshape":return[r.reshape(Md("x",e,t,n),Md("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(Md("x",e,t,n),Md("padding",e,t,n),Md("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(Md("x",e,t,n),Md("padding",e,t,n),Md("constantValue",e,t,n))];case"SpaceToBatchND":{const a=Md("blockShape",e,t,n),s=Md("paddings",e,t,n);return[r.spaceToBatchND(Md("x",e,t,n),a,s)]}case"BatchToSpaceND":{const a=Md("blockShape",e,t,n),s=Md("crops",e,t,n);return[r.batchToSpaceND(Md("x",e,t,n),a,s)]}case"DepthToSpace":{const a=Md("blockSize",e,t,n),s=Md("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(Md("x",e,t,n),a,s)]}case"BroadcastTo":return[r.broadcastTo(Md("x",e,t,n),Md("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(Md("s0",e,t,n),Md("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=Md("keyDType",e,t,n),s=Md("valueDType",e,t,n),o=new Sc(a,s);return r.addHashTable(e.name,o),[o.handle]}case"LookupTableImport":case"LookupTableImportV2":{const a=Md("tableHandle",e,t,n,r),s=Md("keys",e,t,n),o=Md("values",e,t,n),i=r.getHashTableById(a.id);return[await i.import(s,o)]}case"LookupTableFind":case"LookupTableFindV2":{const a=Md("tableHandle",e,t,n,r),s=Md("keys",e,t,n),o=Md("defaultValue",e,t,n),i=r.getHashTableById(a.id);return[await i.find(s,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=Md("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const s=Cd(e.op);if(s&&s.customExecutor)return s.customExecutor(new bc(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return ve(s)?s.then((e=>[].concat(e))):[].concat(s)}class _c{constructor(e={},t={},n={},r={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function Cc(e,t,n,r){const a=new Set,s=[];let o=null,i=null;const u=new Set,l=Object.keys(e).map((e=>Bd(e)[0]));let d=[];null!=r&&(d=r.map((e=>Bd(e.name)[0])));const c=[...t];for(;c.length>0;){const e=c.pop();(Oc(e)||Bc(e)||Rc(e))&&null==o&&(o=e,i=o.children.map((e=>e.name)).filter((e=>a.has(e)))),a.add(e.name),null==n[e.name]&&-1===l.indexOf(e.name)&&-1===d.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{u.has(e.name)||(u.add(e.name),c.push(e))})):s.push(e.name))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:s,dynamicNode:o,syncInputs:i}}const Mc=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Dc=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],Fc=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function Oc(e){return Mc.indexOf(e.op)>=0}function Bc(e){return Dc.indexOf(e.op)>=0}function Rc(e){return Fc.indexOf(e.op)>=0}class Lc{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new Lc(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,t){const n=Cc(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:s}=n;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${s}]`);if(r.length>0){const n=t.map((e=>e.name)),a=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${a}]. Missing the following inputs: [${r}]`)}return function(e,t,n){const{usedNodes:r,inputs:a}=n,s=[],o=Object.keys(a).map((e=>Bd(e)[0])).map((t=>e.nodes[t])),i=e.initNodes;o.forEach((e=>{r.has(e.name)&&s.push(e)})),e.weights.forEach((e=>{r.has(e.name)&&s.push(e)})),null!=i&&i.forEach((e=>{r.has(e.name)&&s.push(e)}));const u=new Set,l=[];for(;s.length>0;){const e=s.pop();u.add(e.name),t[e.name]||l.push(e),e.children.forEach((e=>{!u.has(e.name)&&r.has(e.name)&&e.inputs.every((e=>u.has(e.name)))&&s.push(e)}))}return l}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[Bd(e)[0]])),a=t.map((e=>Bd(e)[0]));let s=a.map((e=>this.graph.nodes[e]));this.resetIntermediateTensors(),0===s.length&&(s=this._outputs);const o=this.getCompilationKey(r,s);let i=this.compiledMap.get(o);null==i&&(i=this.compile(e,s),this.compiledMap.set(o,i));const u={},l={};return rl((()=>{const n=new _c(this.weightMap,u,l,this.functionExecutorMap),r=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,a]=Bd(t),s=[];s[a]=e[t],r[n]=s}));const s=this.getFrozenTensorIds(r),o={};for(let e=0;e<i.length;e++){const t=i[e];if(!r[t.name]){const e=Tc(t,r,n,this._resourceManager);if(ve(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);r[t.name]=e,this.checkTensorForDisposal(t.name,t,r,n,s,a,o)}}return null==this.parent&&n.dispose(s),t.map((e=>Dd(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,s,o){"control"!==t.category&&-1===s.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const s=function(e,t,n){return t[Od(e,n.currentContextId)]}(e.name,n,r);null!=s&&s.forEach((e=>{if(e&&!e.kept&&!a.has(e.id)){const n=o[e.id];if(1===n){if(this.keepTensorForDebug){const[n,a]=Fd(t.name,r);this.intermediateTensors[n]||(this.intermediateTensors[n]=[]),this.intermediateTensors[n][a]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((e=>this.intermediateTensors[e].forEach((e=>e.dispose())))),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach((e=>{this.tensorsMap[e].forEach((e=>{!e||e.kept||e.isDisposed||this.keepIds.has(e.id)||e.dispose()}))}))}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach((e=>e.dispose())),delete this.intermediateTensors[e]}async _executeAsync(e,t,n=!1,r={},a={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=Ie().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){console.warn(e.message)}this.resetIntermediateTensors();const s=new _c(this.weightMap,r,a,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,s,t,n);const o=t.map((e=>Dd(e,this.tensorsMap,s))),i=o.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id));return this.keepIds=new Set([...i,...u,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&s.dispose(this.keepIds),o}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),s=a.map((e=>this.graph.nodes[Bd(e)[0]])),o=n.map((e=>Bd(e)[0]));let i=o.map((e=>this.graph.nodes[e]));0===i.length&&(i=this._outputs);const{usedNodes:u,missingInputs:l,dynamicNode:d,syncInputs:c}=Cc(e,i,this.weightMap,this._initNodes),p=[...s,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),h=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=Bd(t),a=[];a[r]=e[t],h[n]=a}));const m={},f=this.getFrozenTensorIds(h),g={};for(;p.length>0;){const e=this.processStack(s,p,t,h,g,f,o,m,u);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const y=i.filter((e=>!Oc(e)&&!Dd(e.name,h,t))).map((e=>e.name));if(y.length>0){let e="";throw null!=d&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${c}]`),new Error(`Cannot compute the outputs [${y}] from the provided inputs [${a}]. Consider providing the following inputs: [${l}]. ${e}`)}return h}processStack(e,t,n,r,a,s,o,i,u){const l=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let d="";if("Enter"===e.node.op&&Md("isConstant",e.node,r,n)&&([d]=Fd(e.node.name,n)),null==r[e.node.name]){const c=Tc(e.node,r,n,this._resourceManager);d||([d]=Fd(e.node.name,n));const p=n.currentContext;ve(c)?l.push(c.then((l=>(r[d]=l,n.currentContext=p,this.checkTensorForDisposal(d,e.node,r,n,s,o,i),this.processChildNodes(e.node,t,n,r,a,u),l)))):(r[d]=c,this.checkTensorForDisposal(d,e.node,r,n,s,o,i),this.processChildNodes(e.node,t,n,r,a,u))}else this.processChildNodes(e.node,t,n,r,a,u)}return l}processChildNodes(e,t,n,r,a,s){e.children.forEach((e=>{const[o]=Fd(e.name,n);!a[o]&&s.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!Dd(e,r,n)))&&(a[o]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!Dd(e,r,n)))&&(a[o]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=Bd(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value;ee(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}a.attrParams.dtype&&a.attrParams.dtype.value&&ee(n.dtype===a.attrParams.dtype.value,(()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]?t[this._signature.inputs[n].name]=e[n]:t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=Bd(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]?this._signature.outputs[e].name:e),{})}checkOutputs(e){e.forEach((e=>{const[t]=Bd(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class Pc{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const zc="?tfjs-format=file",Uc="model.json";class Vc{constructor(t,n={},r=e){this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new Pc}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return ve(e)?e.then((e=>this.loadSync(e))):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(n=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const r=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Lc(rc.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=rc.Instance.transformGraph(e.modelInitializer);this.initializer=new Lc(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"==typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){const n=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const e={};return(n instanceof ur?[n]:n).forEach(((t,n)=>e[this.structuredOutputKeys[n]]=t)),e}return n}normalizeInputs(e){if(!(e instanceof ur||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,r)=>(t[n]=e[r],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function jc(t,n={},r=e){if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"==typeof t&&(t=function(e){return e.endsWith("/")||(e+="/"),`${e}${Uc}${zc}`}(t));const a=new Vc(t,n,r);return await a.load(),a}var Hc=function(){return(Hc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Wc(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))}function qc(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}function $c(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))}function Kc(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}var Gc=function(e){return{startEndTensor:e,startPoint:Ps(e,[0,0],[-1,2]),endPoint:Ps(e,[0,2],[-1,2])}},Qc={strides:[8,16],anchors:[2,6]};function Yc(e,t){var n,r,a;if(e.topLeft instanceof ur&&e.bottomRight instanceof ur){var s=rl((function(){return[Os([Ps(gi(t-1,e.topLeft),0,1),Ps(e.topLeft,1,1)]),Os([gi(t-1,Ps(e.bottomRight,0,1)),Ps(e.bottomRight,1,1)])]}));n=s[0],r=s[1],null!=e.landmarks&&(a=rl((function(){var n=gi(Hu([t-1,0]),e.landmarks),r=Hu([1,-1]);return Rs(n,r)})))}else{var o=e.topLeft,i=o[0],u=o[1],l=e.bottomRight,d=l[0],c=l[1];n=[t-1-i,u],r=[t-1-d,c],null!=e.landmarks&&(a=e.landmarks.map((function(e){return[t-1-e[0],e[1]]})))}var p={topLeft:n,bottomRight:r};return null!=a&&(p.landmarks=a),null!=e.probability&&(p.probability=e.probability instanceof ur?e.probability.clone():e.probability),p}function Jc(e,t){return rl((function(){var n;return n=e.hasOwnProperty("box")?e.box:e,Pu(function(e,t){var n=Rs(e.startPoint,t),r=Rs(e.endPoint,t),a=Zs([n,r],1);return Gc(a)}(n,t).startEndTensor)}))}var Zc=function(){function e(e,t,n,r,a,s){this.blazeFaceModel=e,this.width=t,this.height=n,this.maxFaces=r,this.anchorsData=function(e,t,n){for(var r=[],a=0;a<n.strides.length;a++)for(var s=n.strides[a],o=Math.floor((t+s-1)/s),i=Math.floor((e+s-1)/s),u=n.anchors[a],l=0;l<o;l++)for(var d=s*(l+.5),c=0;c<i;c++)for(var p=s*(c+.5),h=0;h<u;h++)r.push([p,d]);return r}(t,n,Qc),this.anchors=Wu(this.anchorsData),this.inputSizeData=[t,n],this.inputSize=Hu([t,n]),this.iouThreshold=a,this.scoreThreshold=s}return e.prototype.getBoundingBoxes=function(e,t,n){return void 0===n&&(n=!0),$c(this,void 0,void 0,(function(){var r,a,s,o,i,u,l,d,c,p,h,m,f,g,y=this;return Kc(this,(function(b){switch(b.label){case 0:return r=rl((function(){var t=fd.resizeBilinear(e,[y.width,y.height]),n=Rs(gi(wo(t,255),.5),2),r=y.blazeFaceModel.predict(n),a=Pu(r),s=function(e,t,n){var r=Ps(e,[0,1],[-1,2]),a=cs(r,t),s=Ps(e,[0,3],[-1,2]),o=wo(s,n),i=wo(a,n),u=wo(o,2),l=gi(i,u),d=cs(i,u),c=Rs(l,n),p=Rs(d,n);return Zs([c,p],1)}(a,y.anchors,y.inputSize),o=Ps(a,[0,0],[-1,1]);return[a,s,Pu(Ls(o))]})),a=r[0],s=r[1],o=r[2],i=console.warn,console.warn=function(){},u=fd.nonMaxSuppression(s,o,this.maxFaces,this.iouThreshold,this.scoreThreshold),console.warn=i,[4,u.array()];case 1:return l=b.sent(),u.dispose(),d=l.map((function(e){return Ps(s,[e,0],[1,-1])})),t?[3,3]:[4,Promise.all(d.map((function(e){return $c(y,void 0,void 0,(function(){var t;return Kc(this,(function(n){switch(n.label){case 0:return[4,e.array()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 2:d=b.sent(),b.label=3;case 3:for(c=e.shape[1],p=e.shape[2],h=t?wo([p,c],this.inputSize):[p/this.inputSizeData[0],c/this.inputSizeData[1]],m=[],f=function(e){var r=d[e],s=rl((function(){var s=Gc(r instanceof ur?r:Wu(r));if(!n)return s;var i,u=l[e];return i=t?Ps(y.anchors,[u,0],[1,2]):y.anchorsData[u],{box:s,landmarks:Ms(Pu(Ps(a,[u,5],[1,-1])),[6,-1]),probability:Ps(o,[u],[1]),anchor:i}}));m.push(s)},g=0;g<d.length;g++)f(g);return s.dispose(),o.dispose(),a.dispose(),[2,{boxes:m,scaleFactor:h}]}}))}))},e.prototype.estimateFaces=function(e,t,n,r){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!0),$c(this,void 0,void 0,(function(){var a,s,o,i,u,l,d=this;return Kc(this,(function(c){switch(c.label){case 0:return a=function(e){return e instanceof ur?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),s=a[1],o=rl((function(){return e instanceof ur||(e=as(e)),$o(Da(e,"float32"),0)})),[4,this.getBoundingBoxes(o,t,r)];case 1:return i=c.sent(),u=i.boxes,l=i.scaleFactor,o.dispose(),t?[2,u.map((function(e){var t=Jc(e,l),a={topLeft:Ps(t,[0],[2]),bottomRight:Ps(t,[2],[2])};if(r){var o=e,i=o.landmarks,u=o.probability,d=o.anchor,c=Rs(cs(i,d),l);a.landmarks=c,a.probability=u}return n&&(a=Yc(a,s)),a}))]:[2,Promise.all(u.map((function(e){return $c(d,void 0,void 0,(function(){var t,a,o,i,u,d,c,p,h,m,f,g=this;return Kc(this,(function(y){switch(y.label){case 0:return t=Jc(e,l),r?[3,2]:[4,t.array()];case 1:return u=y.sent(),a={topLeft:u.slice(0,2),bottomRight:u.slice(2)},[3,4];case 2:return[4,Promise.all([e.landmarks,t,e.probability].map((function(e){return $c(g,void 0,void 0,(function(){return Kc(this,(function(t){return[2,e.array()]}))}))})))];case 3:o=y.sent(),i=o[0],u=o[1],d=o[2],c=e.anchor,h=(p=l)[0],m=p[1],f=i.map((function(e){return[(e[0]+c[0])*h,(e[1]+c[1])*m]})),a={topLeft:u.slice(0,2),bottomRight:u.slice(2),landmarks:f,probability:d},function(e){e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose()}(e.box),e.landmarks.dispose(),e.probability.dispose(),y.label=4;case 4:return t.dispose(),n&&(a=Yc(a,s)),[2,a]}}))}))})))]}}))}))},e}();function Xc(e){var t=void 0===e?{}:e,n=t.maxFaces,r=void 0===n?10:n,a=t.inputWidth,s=void 0===a?128:a,o=t.inputHeight,i=void 0===o?128:o,u=t.iouThreshold,l=void 0===u?.3:u,d=t.scoreThreshold,c=void 0===d?.75:d,p=t.modelUrl;return $c(this,void 0,void 0,(function(){var e;return Kc(this,(function(t){switch(t.label){case 0:return null==p?[3,2]:[4,jc(p)];case 1:return e=t.sent(),[3,4];case 2:return[4,jc("https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1",{fromTFHub:!0})];case 3:e=t.sent(),t.label=4;case 4:return[2,new Zc(e,s,i,r,l,c)]}}))}))}var ep={silhouette:[10,338,297,332,284,251,389,356,454,323,361,288,397,365,379,378,400,377,152,148,176,149,150,136,172,58,132,93,234,127,162,21,54,103,67,109],lipsUpperOuter:[61,185,40,39,37,0,267,269,270,409,291],lipsLowerOuter:[146,91,181,84,17,314,405,321,375,291],lipsUpperInner:[78,191,80,81,82,13,312,311,310,415,308],lipsLowerInner:[78,95,88,178,87,14,317,402,318,324,308],rightEyeUpper0:[246,161,160,159,158,157,173],rightEyeLower0:[33,7,163,144,145,153,154,155,133],rightEyeUpper1:[247,30,29,27,28,56,190],rightEyeLower1:[130,25,110,24,23,22,26,112,243],rightEyeUpper2:[113,225,224,223,222,221,189],rightEyeLower2:[226,31,228,229,230,231,232,233,244],rightEyeLower3:[143,111,117,118,119,120,121,128,245],rightEyebrowUpper:[156,70,63,105,66,107,55,193],rightEyebrowLower:[35,124,46,53,52,65],rightEyeIris:[473,474,475,476,477],leftEyeUpper0:[466,388,387,386,385,384,398],leftEyeLower0:[263,249,390,373,374,380,381,382,362],leftEyeUpper1:[467,260,259,257,258,286,414],leftEyeLower1:[359,255,339,254,253,252,256,341,463],leftEyeUpper2:[342,445,444,443,442,441,413],leftEyeLower2:[446,261,448,449,450,451,452,453,464],leftEyeLower3:[372,340,346,347,348,349,350,357,465],leftEyebrowUpper:[383,300,293,334,296,336,285,417],leftEyebrowLower:[265,353,276,283,282,295],leftEyeIris:[468,469,470,471,472],midwayBetweenEyes:[168],noseTip:[1],noseBottom:[2],noseRightCorner:[98],noseLeftCorner:[327],rightCheek:[205],leftCheek:[425]};function tp(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]}function np(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2]}function rp(e,t){void 0===t&&(t=1.5);var n=np(e),r=tp(e),a=[t*r[0]/2,t*r[1]/2];return{startPoint:[n[0]-a[0],n[1]-a[1]],endPoint:[n[0]+a[0],n[1]+a[1]],landmarks:e.landmarks}}function ap(e){var t=np(e),n=tp(e),r=Math.max.apply(Math,n)/2;return{startPoint:[t[0]-r,t[1]-r],endPoint:[t[0]+r,t[1]+r],landmarks:e.landmarks}}var sp=[[1,0,0],[0,1,0],[0,0,1]];function op(e,t){return[[1,0,e],[0,1,t],[0,0,1]]}function ip(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function up(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n}function lp(e,t){for(var n=[],r=e.length,a=0;a<r;a++){n.push([]);for(var s=0;s<r;s++)n[a].push(ip(e[a],up(t,s)))}return n}function dp(e,t){var n=Math.cos(e),r=Math.sin(e),a=[[n,-r,0],[r,n,0],[0,0,1]],s=lp(op(t[0],t[1]),a);return lp(s,op(-t[0],-t[1]))}var cp=[13,ep.midwayBetweenEyes[0]],pp=[3,2],hp=ep.leftEyeLower0,mp=[hp[0],hp[hp.length-1]],fp=ep.rightEyeLower0,gp=[fp[0],fp[fp.length-1]],yp=[{key:"EyeUpper0",indices:[9,10,11,12,13,14,15]},{key:"EyeUpper1",indices:[25,26,27,28,29,30,31]},{key:"EyeUpper2",indices:[41,42,43,44,45,46,47]},{key:"EyeLower0",indices:[0,1,2,3,4,5,6,7,8]},{key:"EyeLower1",indices:[16,17,18,19,20,21,22,23,24]},{key:"EyeLower2",indices:[32,33,34,35,36,37,38,39,40]},{key:"EyeLower3",indices:[54,55,56,57,58,59,60,61,62]},{key:"EyebrowUpper",indices:[63,64,65,66,67,68,69,70]},{key:"EyebrowLower",indices:[48,49,50,51,52,53]}];function bp(e,t,n,r){for(var a=0;a<yp.length;a++){var s=yp[a],o=s.key,i=s.indices,u=ep[""+n+o];if(null==r||r.includes(o))for(var l=0;l<i.length;l++){var d=i[l];e[u[l]]=[t[d][0],t[d][1],(t[d][2]+e[u[l]][2])/2]}}}var wp=function(){function e(e,t,n,r,a,s,o){this.regionsOfInterest=[],this.runsWithoutFaceDetector=0,this.boundingBoxDetector=e,this.meshDetector=t,this.irisModel=o,this.meshWidth=n,this.meshHeight=r,this.maxContinuousChecks=a,this.maxFaces=s}return e.prototype.transformRawCoords=function(e,t,n,r){var a,s,o,i,u=this,l=tp({startPoint:t.startPoint,endPoint:t.endPoint}),d=[l[0]/this.meshWidth,l[1]/this.meshHeight],c=e.map((function(e){return[d[0]*(e[0]-u.meshWidth/2),d[1]*(e[1]-u.meshHeight/2),e[2]]})),p=dp(n,[0,0]),h=c.map((function(e){return function(e,t){return[ip(e,t[0]),ip(e,t[1])]}(e,p).concat([e[2]])})),m=(s=[[(a=r)[0][0],a[1][0]],[a[0][1],a[1][1]]],o=[a[0][2],a[1][2]],i=[-ip(s[0],o),-ip(s[1],o)],[s[0].concat(i[0]),s[1].concat(i[1]),[0,0,1]]),f=np({startPoint:t.startPoint,endPoint:t.endPoint}).concat([1]),g=[ip(f,m[0]),ip(f,m[1])];return h.map((function(e){return[e[0]+g[0],e[1]+g[1],e[2]]}))},e.prototype.getLeftToRightEyeDepthDifference=function(e){return e[mp[0]][2]-e[gp[0]][2]},e.prototype.getEyeBox=function(e,t,n,r,a){void 0===a&&(a=!1);var s=ap(rp(this.calculateLandmarksBoundingBox([e[n],e[r]]),2.3)),o=tp(s),i=fd.cropAndResize(t,[[s.startPoint[1]/this.meshHeight,s.startPoint[0]/this.meshWidth,s.endPoint[1]/this.meshHeight,s.endPoint[0]/this.meshWidth]],[0],[64,64]);return a&&(i=fd.flipLeftRight(i)),{box:s,boxSize:o,crop:i}},e.prototype.getEyeCoords=function(e,t,n,r){void 0===r&&(r=!1);for(var a=[],s=0;s<76;s++){var o=e[3*s],i=e[3*s+1],u=e[3*s+2];a.push([(r?1-o/64:o/64)*n[0]+t.startPoint[0],i/64*n[1]+t.startPoint[1],u])}return{rawCoords:a,iris:a.slice(71)}},e.prototype.getAdjustedIrisCoords=function(e,t,n){var r=e[ep[n+"EyeUpper0"][3]][2],a=e[ep[n+"EyeLower0"][4]][2],s=(r+a)/2;return t.map((function(e,t){var n=s;return 2===t?n=r:4===t&&(n=a),[e[0],e[1],n]}))},e.prototype.predict=function(e,t){return Wc(this,void 0,void 0,(function(){var n,r,a,s,o=this;return qc(this,(function(i){switch(i.label){case 0:return this.shouldUpdateRegionsOfInterest()?[4,this.boundingBoxDetector.getBoundingBoxes(e,!1,!0)]:[3,2];case 1:return n=i.sent(),r=n.boxes,a=n.scaleFactor,0===r.length?(this.regionsOfInterest=[],[2,null]):(s=r.map((function(e){var t,n,r={startPoint:Pu(e.box.startPoint).arraySync(),endPoint:Pu(e.box.endPoint).arraySync()},s=ap(rp((n=a,{startPoint:[(t=r).startPoint[0]*n[0],t.startPoint[1]*n[1]],endPoint:[t.endPoint[0]*n[0],t.endPoint[1]*n[1]]})));return Hc({},s,{landmarks:e.landmarks.arraySync()})})),r.forEach((function(e){null!=e&&null!=e.startPoint&&(e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose())})),this.updateRegionsOfInterest(s),this.runsWithoutFaceDetector=0,[3,3]);case 2:this.runsWithoutFaceDetector++,i.label=3;case 3:return[2,rl((function(){return o.regionsOfInterest.map((function(n,r){var a,s=n.landmarks.length>=468,i=cp[0],u=cp[1];!1===s&&(i=pp[0],u=pp[1]),a=function(e,t){var n;return(n=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]))-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}(n.landmarks[i],n.landmarks[u]);var l=np({startPoint:n.startPoint,endPoint:n.endPoint}),d=[l[0]/e.shape[2],l[1]/e.shape[1]],c=e,p=sp;0!==a&&(c=fd.rotateWithOffset(e,a,0,d),p=dp(-a,l));var h={startPoint:n.startPoint,endPoint:n.endPoint},m=wo(function(e,t,n){var r=t.shape[1],a=t.shape[2],s=[[e.startPoint[1]/r,e.startPoint[0]/a,e.endPoint[1]/r,e.endPoint[0]/a]];return fd.cropAndResize(t,s,[0],n,"bilinear",0)}(h,c,[o.meshHeight,o.meshWidth]),255),f=o.meshDetector.predict(m),g=f[1],y=f[2],b=Ms(y,[-1,3]).arraySync();if(t){var w=o.getEyeBox(b,m,mp[0],mp[1],!0),x=w.box,v=w.boxSize,k=w.crop,A=o.getEyeBox(b,m,gp[0],gp[1]),E=A.box,I=A.boxSize,N=A.crop,S=o.irisModel.predict(Os([k,N])).dataSync(),T=S.slice(0,228),_=o.getEyeCoords(T,x,v,!0),C=_.rawCoords,M=_.iris,D=S.slice(228),F=o.getEyeCoords(D,E,I),O=F.rawCoords,B=F.iris,R=o.getLeftToRightEyeDepthDifference(b);Math.abs(R)<30?(bp(b,C,"left"),bp(b,O,"right")):R<1?bp(b,C,"left",["EyeUpper0","EyeLower0"]):bp(b,O,"right",["EyeUpper0","EyeLower0"]);var L=o.getAdjustedIrisCoords(b,M,"left"),P=o.getAdjustedIrisCoords(b,B,"right");b=b.concat(L).concat(P)}var z=o.transformRawCoords(b,n,a,p),U=Wu(z),V=rp(o.calculateLandmarksBoundingBox(z)),j=ap(V);return o.regionsOfInterest[r]=Hc({},j,{landmarks:U.arraySync()}),{coords:Wu(b,[b.length,3]),scaledCoords:U,box:V,flag:Pu(g)}}))}))]}}))}))},e.prototype.updateRegionsOfInterest=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.regionsOfInterest[t],a=0;if(r&&r.startPoint){var s=n.startPoint,o=s[0],i=s[1],u=n.endPoint,l=u[0],d=u[1],c=r.startPoint,p=c[0],h=c[1],m=r.endPoint,f=m[0],g=m[1],y=Math.max(o,p),b=Math.max(i,h),w=(Math.min(l,f)-y)*(Math.min(d,g)-b);a=w/((l-o)*(d-i)+(f-p)*(g-i)-w)}a<.25&&(this.regionsOfInterest[t]=n)}this.regionsOfInterest=this.regionsOfInterest.slice(0,e.length)},e.prototype.clearRegionOfInterest=function(e){null!=this.regionsOfInterest[e]&&(this.regionsOfInterest=this.regionsOfInterest.slice(0,e).concat(this.regionsOfInterest.slice(e+1)))},e.prototype.shouldUpdateRegionsOfInterest=function(){var e=this.regionsOfInterest.length,t=0===e;return 1===this.maxFaces||t?t:e!==this.maxFaces&&this.runsWithoutFaceDetector>=this.maxContinuousChecks},e.prototype.calculateLandmarksBoundingBox=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{startPoint:[Math.min.apply(Math,t),Math.min.apply(Math,n)],endPoint:[Math.max.apply(Math,t),Math.max.apply(Math,n)]}},e}(),xp=[[.499976992607117,.652534008026123],[.500025987625122,.547487020492554],[.499974012374878,.602371990680695],[.482113003730774,.471979022026062],[.500150978565216,.527155995368958],[.499909996986389,.498252987861633],[.499523013830185,.40106201171875],[.289712011814117,.380764007568359],[.499954998493195,.312398016452789],[.499987006187439,.269918978214264],[.500023007392883,.107050001621246],[.500023007392883,.666234016418457],[.5000159740448,.679224014282227],[.500023007392883,.692348003387451],[.499976992607117,.695277988910675],[.499976992607117,.70593398809433],[.499976992607117,.719385027885437],[.499976992607117,.737019002437592],[.499967992305756,.781370997428894],[.499816000461578,.562981009483337],[.473773002624512,.573909997940063],[.104906998574734,.254140973091125],[.365929991006851,.409575998783112],[.338757991790771,.41302502155304],[.311120003461838,.409460008144379],[.274657994508743,.389131009578705],[.393361985683441,.403706014156342],[.345234006643295,.344011008739471],[.370094001293182,.346076011657715],[.319321990013123,.347265005111694],[.297903001308441,.353591024875641],[.24779200553894,.410809993743896],[.396889001131058,.842755019664764],[.280097991228104,.375599980354309],[.106310002505779,.399955987930298],[.2099249958992,.391353011131287],[.355807989835739,.534406006336212],[.471751004457474,.65040397644043],[.474155008792877,.680191993713379],[.439785003662109,.657229006290436],[.414617002010345,.66654098033905],[.450374007225037,.680860996246338],[.428770989179611,.682690978050232],[.374971002340317,.727805018424988],[.486716985702515,.547628998756409],[.485300987958908,.527395009994507],[.257764995098114,.314490020275116],[.401223003864288,.455172002315521],[.429818987846375,.548614978790283],[.421351999044418,.533740997314453],[.276895999908447,.532056987285614],[.483370006084442,.499586999416351],[.33721199631691,.282882988452911],[.296391993761063,.293242990970612],[.169294998049736,.193813979625702],[.447580009698868,.302609980106354],[.392390012741089,.353887975215912],[.354490011930466,.696784019470215],[.067304998636246,.730105042457581],[.442739009857178,.572826027870178],[.457098007202148,.584792017936707],[.381974011659622,.694710969924927],[.392388999462128,.694203019142151],[.277076005935669,.271932005882263],[.422551989555359,.563233017921448],[.385919004678726,.281364023685455],[.383103013038635,.255840003490448],[.331431001424789,.119714021682739],[.229923993349075,.232002973556519],[.364500999450684,.189113974571228],[.229622006416321,.299540996551514],[.173287004232407,.278747975826263],[.472878992557526,.666198015213013],[.446828007698059,.668527007102966],[.422762006521225,.673889994621277],[.445307999849319,.580065965652466],[.388103008270264,.693961024284363],[.403039008378983,.706539988517761],[.403629004955292,.693953037261963],[.460041999816895,.557139039039612],[.431158006191254,.692366003990173],[.452181994915009,.692366003990173],[.475387006998062,.692366003990173],[.465828001499176,.779190003871918],[.472328990697861,.736225962638855],[.473087012767792,.717857003211975],[.473122000694275,.704625964164734],[.473033010959625,.695277988910675],[.427942007780075,.695277988910675],[.426479011774063,.703539967536926],[.423162013292313,.711845993995667],[.4183090031147,.720062971115112],[.390094995498657,.639572978019714],[.013953999616206,.560034036636353],[.499913990497589,.58014702796936],[.413199990987778,.69539999961853],[.409626007080078,.701822996139526],[.468080013990402,.601534962654114],[.422728985548019,.585985004901886],[.463079988956451,.593783974647522],[.37211999297142,.47341400384903],[.334562003612518,.496073007583618],[.411671012639999,.546965003013611],[.242175996303558,.14767599105835],[.290776997804642,.201445996761322],[.327338010072708,.256527006626129],[.399509996175766,.748921036720276],[.441727995872498,.261676013469696],[.429764986038208,.187834024429321],[.412198007106781,.108901023864746],[.288955003023148,.398952007293701],[.218936994671822,.435410976409912],[.41278201341629,.398970007896423],[.257135003805161,.355440020561218],[.427684992551804,.437960982322693],[.448339998722076,.536936044692993],[.178560003638268,.45755398273468],[.247308000922203,.457193970680237],[.286267012357712,.467674970626831],[.332827985286713,.460712015628815],[.368755996227264,.447206974029541],[.398963987827301,.432654976844788],[.476410001516342,.405806005001068],[.189241006970406,.523923993110657],[.228962004184723,.348950982093811],[.490725994110107,.562400996685028],[.404670000076294,.485132992267609],[.019469000399113,.401564002037048],[.426243007183075,.420431017875671],[.396993011236191,.548797011375427],[.266469985246658,.376977026462555],[.439121007919312,.51895797252655],[.032313998788595,.644356966018677],[.419054001569748,.387154996395111],[.462783008813858,.505746960639954],[.238978996872902,.779744982719421],[.198220998048782,.831938028335571],[.107550002634525,.540755033493042],[.183610007166862,.740257024765015],[.134409993886948,.333683013916016],[.385764002799988,.883153975009918],[.490967005491257,.579378008842468],[.382384985685349,.508572995662689],[.174399003386497,.397670984268188],[.318785011768341,.39623498916626],[.343364000320435,.400596976280212],[.396100014448166,.710216999053955],[.187885001301765,.588537991046906],[.430987000465393,.944064974784851],[.318993002176285,.898285031318665],[.266247987747192,.869701027870178],[.500023007392883,.190576016902924],[.499976992607117,.954452991485596],[.366169989109039,.398822009563446],[.393207013607025,.39553701877594],[.410373002290726,.391080021858215],[.194993004202843,.342101991176605],[.388664990663528,.362284004688263],[.365961998701096,.355970978736877],[.343364000320435,.355356991291046],[.318785011768341,.35834002494812],[.301414996385574,.363156020641327],[.058132998645306,.319076001644135],[.301414996385574,.387449026107788],[.499987989664078,.618434011936188],[.415838003158569,.624195992946625],[.445681989192963,.566076993942261],[.465844005346298,.620640993118286],[.49992299079895,.351523995399475],[.288718998432159,.819945991039276],[.335278987884521,.852819979190826],[.440512001514435,.902418971061707],[.128294005990028,.791940987110138],[.408771991729736,.373893976211548],[.455606997013092,.451801002025604],[.499877005815506,.908990025520325],[.375436991453171,.924192011356354],[.11421000212431,.615022003650665],[.448662012815475,.695277988910675],[.4480200111866,.704632043838501],[.447111994028091,.715808033943176],[.444831997156143,.730794012546539],[.430011987686157,.766808986663818],[.406787008047104,.685672998428345],[.400738000869751,.681069016456604],[.392399996519089,.677703022956848],[.367855995893478,.663918972015381],[.247923001646996,.601333022117615],[.452769994735718,.420849978923798],[.43639200925827,.359887003898621],[.416164010763168,.368713974952698],[.413385987281799,.692366003990173],[.228018000721931,.683571994304657],[.468268007040024,.352671027183533],[.411361992359161,.804327011108398],[.499989002943039,.469825029373169],[.479153990745544,.442654013633728],[.499974012374878,.439637005329132],[.432112008333206,.493588984012604],[.499886006116867,.866917014122009],[.49991300702095,.821729004383087],[.456548988819122,.819200992584229],[.344549000263214,.745438992977142],[.37890899181366,.574010014533997],[.374292999505997,.780184984207153],[.319687992334366,.570737957954407],[.357154995203018,.604269981384277],[.295284003019333,.621580958366394],[.447750002145767,.862477004528046],[.410986006259918,.508723020553589],[.31395098567009,.775308012962341],[.354128003120422,.812552988529205],[.324548006057739,.703992962837219],[.189096003770828,.646299958229065],[.279776990413666,.71465802192688],[.1338230073452,.682700991630554],[.336768001317978,.644733011722565],[.429883986711502,.466521978378296],[.455527991056442,.548622965812683],[.437114000320435,.558896005153656],[.467287987470627,.529924988746643],[.414712011814117,.335219979286194],[.37704598903656,.322777986526489],[.344107985496521,.320150971412659],[.312875986099243,.32233202457428],[.283526003360748,.333190023899078],[.241245999932289,.382785975933075],[.102986000478268,.468762993812561],[.267612010240555,.424560010433197],[.297879010438919,.433175981044769],[.333433985710144,.433878004550934],[.366427004337311,.426115989685059],[.396012008190155,.416696012020111],[.420121014118195,.41022801399231],[.007561000064015,.480777025222778],[.432949006557465,.569517970085144],[.458638995885849,.479089021682739],[.473466008901596,.545744001865387],[.476087987422943,.563830018043518],[.468472003936768,.555056989192963],[.433990985155106,.582361996173859],[.483518004417419,.562983989715576],[.482482999563217,.57784903049469],[.42645001411438,.389798998832703],[.438998997211456,.39649498462677],[.450067013502121,.400434017181396],[.289712011814117,.368252992630005],[.276670008897781,.363372981548309],[.517862021923065,.471948027610779],[.710287988185883,.380764007568359],[.526226997375488,.573909997940063],[.895093023777008,.254140973091125],[.634069979190826,.409575998783112],[.661242008209229,.41302502155304],[.688880026340485,.409460008144379],[.725341975688934,.389131009578705],[.606630027294159,.40370500087738],[.654766023159027,.344011008739471],[.629905998706818,.346076011657715],[.680678009986877,.347265005111694],[.702096998691559,.353591024875641],[.75221198797226,.410804986953735],[.602918028831482,.842862963676453],[.719901978969574,.375599980354309],[.893692970275879,.399959981441498],[.790081977844238,.391354024410248],[.643998026847839,.534487962722778],[.528249025344849,.65040397644043],[.525849997997284,.680191040039062],[.560214996337891,.657229006290436],[.585384011268616,.66654098033905],[.549625992774963,.680860996246338],[.57122802734375,.682691991329193],[.624852001667023,.72809898853302],[.513050019741058,.547281980514526],[.51509702205658,.527251958847046],[.742246985435486,.314507007598877],[.598631024360657,.454979002475739],[.570338010787964,.548575043678284],[.578631997108459,.533622980117798],[.723087012767792,.532054007053375],[.516445994377136,.499638974666595],[.662801027297974,.282917976379395],[.70362401008606,.293271005153656],[.830704987049103,.193813979625702],[.552385985851288,.302568018436432],[.607609987258911,.353887975215912],[.645429015159607,.696707010269165],[.932694971561432,.730105042457581],[.557260990142822,.572826027870178],[.542901992797852,.584792017936707],[.6180260181427,.694710969924927],[.607590973377228,.694203019142151],[.722943007946014,.271963000297546],[.577413976192474,.563166975975037],[.614082992076874,.281386971473694],[.616907000541687,.255886018276215],[.668509006500244,.119913995265961],[.770092010498047,.232020974159241],[.635536015033722,.189248979091644],[.77039098739624,.299556016921997],[.826722025871277,.278755009174347],[.527121007442474,.666198015213013],[.553171992301941,.668527007102966],[.577238023281097,.673889994621277],[.554691970348358,.580065965652466],[.611896991729736,.693961024284363],[.59696102142334,.706539988517761],[.596370995044708,.693953037261963],[.539958000183105,.557139039039612],[.568841993808746,.692366003990173],[.547818005084991,.692366003990173],[.52461302280426,.692366003990173],[.534089982509613,.779141008853912],[.527670979499817,.736225962638855],[.526912987232208,.717857003211975],[.526877999305725,.704625964164734],[.526966989040375,.695277988910675],[.572058022022247,.695277988910675],[.573521018028259,.703539967536926],[.57683801651001,.711845993995667],[.581691026687622,.720062971115112],[.609944999217987,.639909982681274],[.986046016216278,.560034036636353],[.5867999792099,.69539999961853],[.590372025966644,.701822996139526],[.531915009021759,.601536989212036],[.577268004417419,.585934996604919],[.536915004253387,.593786001205444],[.627542972564697,.473352015018463],[.665585994720459,.495950996875763],[.588353991508484,.546862006187439],[.757824003696442,.14767599105835],[.709249973297119,.201507985591888],[.672684013843536,.256581008434296],[.600408971309662,.74900496006012],[.55826598405838,.261672019958496],[.570303976535797,.187870979309082],[.588165998458862,.109044015407562],[.711045026779175,.398952007293701],[.781069993972778,.435405015945435],[.587247014045715,.398931980133057],[.742869973182678,.355445981025696],[.572156012058258,.437651991844177],[.55186802148819,.536570012569427],[.821442008018494,.457556009292603],[.752701997756958,.457181990146637],[.71375697851181,.467626988887787],[.66711300611496,.460672974586487],[.631101012229919,.447153985500336],[.6008620262146,.432473003864288],[.523481011390686,.405627012252808],[.810747981071472,.523926019668579],[.771045982837677,.348959028720856],[.509127020835876,.562718033790588],[.595292985439301,.485023975372314],[.980530977249146,.401564002037048],[.573499977588654,.420000016689301],[.602994978427887,.548687994480133],[.733529984951019,.376977026462555],[.560611009597778,.519016981124878],[.967685997486115,.644356966018677],[.580985009670258,.387160003185272],[.537728011608124,.505385041236877],[.760966002941132,.779752969741821],[.801778972148895,.831938028335571],[.892440974712372,.54076099395752],[.816350996494293,.740260004997253],[.865594983100891,.333687007427216],[.614073991775513,.883246004581451],[.508952975273132,.579437971115112],[.617941975593567,.508316040039062],[.825608015060425,.397674977779388],[.681214988231659,.39623498916626],[.656635999679565,.400596976280212],[.603900015354156,.710216999053955],[.81208598613739,.588539004325867],[.56801301240921,.944564998149872],[.681007981300354,.898285031318665],[.733752012252808,.869701027870178],[.633830010890961,.398822009563446],[.606792986392975,.39553701877594],[.589659988880157,.391062021255493],[.805015981197357,.342108011245728],[.611334979534149,.362284004688263],[.634037971496582,.355970978736877],[.656635999679565,.355356991291046],[.681214988231659,.35834002494812],[.698584973812103,.363156020641327],[.941866993904114,.319076001644135],[.698584973812103,.387449026107788],[.584177017211914,.624107003211975],[.554318010807037,.566076993942261],[.534153997898102,.62064003944397],[.711217999458313,.819975018501282],[.664629995822906,.852871000766754],[.559099972248077,.902631998062134],[.871706008911133,.791940987110138],[.591234028339386,.373893976211548],[.544341027736664,.451583981513977],[.624562978744507,.924192011356354],[.88577002286911,.615028977394104],[.551338016986847,.695277988910675],[.551980018615723,.704632043838501],[.552887976169586,.715808033943176],[.555167973041534,.730794012546539],[.569944024085999,.767035007476807],[.593203008174896,.685675978660583],[.599261999130249,.681069016456604],[.607599973678589,.677703022956848],[.631937980651855,.663500010967255],[.752032995223999,.601315021514893],[.547226011753082,.420395016670227],[.563543975353241,.359827995300293],[.583841025829315,.368713974952698],[.586614012718201,.692366003990173],[.771915018558502,.683578014373779],[.531597018241882,.352482974529266],[.588370978832245,.804440975189209],[.52079701423645,.442565023899078],[.567984998226166,.493479013442993],[.543282985687256,.819254994392395],[.655317008495331,.745514988899231],[.621008992195129,.574018001556396],[.625559985637665,.78031200170517],[.680198013782501,.570719003677368],[.64276397228241,.604337990283966],[.704662978649139,.621529996395111],[.552012026309967,.862591981887817],[.589071989059448,.508637011051178],[.685944974422455,.775357007980347],[.645735025405884,.812640011310577],[.675342977046967,.703978002071381],[.810858011245728,.646304965019226],[.72012197971344,.714666962623596],[.866151988506317,.682704985141754],[.663187026977539,.644596993923187],[.570082008838654,.466325998306274],[.544561982154846,.548375964164734],[.562758982181549,.558784961700439],[.531987011432648,.530140042304993],[.585271000862122,.335177004337311],[.622952997684479,.32277899980545],[.655896008014679,.320163011550903],[.687132000923157,.322345972061157],[.716481983661652,.333200991153717],[.758756995201111,.382786989212036],[.897013008594513,.468769013881683],[.732392013072968,.424547016620636],[.70211398601532,.433162987232208],[.66652500629425,.433866024017334],[.633504986763,.426087975502014],[.603875994682312,.416586995124817],[.579657971858978,.409945011138916],[.992439985275269,.480777025222778],[.567192018032074,.569419980049133],[.54136598110199,.478899002075195],[.526564002037048,.546118021011353],[.523913025856018,.563830018043518],[.531529009342194,.555056989192963],[.566035985946655,.582329034805298],[.51631098985672,.563053965568542],[.5174720287323,.577877044677734],[.573594987392426,.389806985855103],[.560697972774506,.395331978797913],[.549755990505219,.399751007556915],[.710287988185883,.368252992630005],[.723330020904541,.363372981548309]];function vp(e){return Wc(this,void 0,void 0,(function(){var t,n,r,a,s,o,i,u,l,d,c,p,h,m,f,g;return qc(this,(function(y){switch(y.label){case 0:return t=e.maxContinuousChecks,n=void 0===t?5:t,r=e.detectionConfidence,a=void 0===r?.9:r,s=e.maxFaces,o=void 0===s?10:s,i=e.iouThreshold,u=void 0===i?.3:i,l=e.scoreThreshold,d=void 0===l?.75:l,c=e.shouldLoadIrisModel,p=void 0===c||c,h=e.modelUrl,m=e.detectorModelUrl,f=e.irisModelUrl,p?[4,Promise.all([kp(m,o,u,d),Ap(h),Ep(f)])]:[3,2];case 1:return g=y.sent(),[3,4];case 2:return[4,Promise.all([kp(m,o,u,d),Ap(h)])];case 3:g=y.sent(),y.label=4;case 4:return[2,new _p(g[0],g[1],n,a,o,p?g[2]:null)]}}))}))}function kp(e,t,n,r){return Wc(this,void 0,void 0,(function(){return qc(this,(function(a){return[2,Xc({modelUrl:e,maxFaces:t,iouThreshold:n,scoreThreshold:r})]}))}))}function Ap(e){return Wc(this,void 0,void 0,(function(){return qc(this,(function(t){return null!=e?[2,jc(e)]:[2,jc("https://tfhub.dev/mediapipe/tfjs-model/facemesh/1/default/1",{fromTFHub:!0})]}))}))}function Ep(e){return Wc(this,void 0,void 0,(function(){return qc(this,(function(t){return null!=e?[2,jc(e)]:[2,jc("https://tfhub.dev/mediapipe/tfjs-model/iris/1/default/2",{fromTFHub:!0})]}))}))}function Ip(e,t){if(e.mesh instanceof ur){var n=rl((function(){var n=Hu([t-1,0,0]),r=Hu([1,-1,1]);return rl((function(){return[Os([gi(t-1,Ps(e.boundingBox.topLeft,0,1)),Ps(e.boundingBox.topLeft,1,1)]),Os([gi(t-1,Ps(e.boundingBox.bottomRight,0,1)),Ps(e.boundingBox.bottomRight,1,1)]),Rs(gi(n,e.mesh),r),Rs(gi(n,e.scaledMesh),r)]}))})),r=n[0],a=n[1],s=n[2],o=n[3];return Object.assign({},e,{boundingBox:{topLeft:r,bottomRight:a},mesh:s,scaledMesh:o})}return Object.assign({},e,{boundingBox:{topLeft:[t-1-e.boundingBox.topLeft[0],e.boundingBox.topLeft[1]],bottomRight:[t-1-e.boundingBox.bottomRight[0],e.boundingBox.bottomRight[1]]},mesh:e.mesh.map((function(e){var n=e.slice(0);return n[0]=t-1-e[0],n})),scaledMesh:e.scaledMesh.map((function(e){var n=e.slice(0);return n[0]=t-1-e[0],n}))})}var Np,Sp,Tp,_p=function(){function e(e,t,n,r,a,s){this.kind="MediaPipeFaceMesh",this.pipeline=new wp(e,t,192,192,n,a,s),this.detectionConfidence=r}return e.getAnnotations=function(){return ep},e.getUVCoords=function(){return xp},e.prototype.estimateFaces=function(e){return Wc(this,void 0,void 0,(function(){var t,n,r,a,s,o,i,u,l,d,c,p,h=this;return qc(this,(function(m){switch(m.label){case 0:if(t=e.returnTensors,n=void 0!==t&&t,r=e.flipHorizontal,a=void 0!==r&&r,s=e.predictIrises,o=void 0===s||s,i=e.input,o&&null==this.pipeline.irisModel)throw new Error("The iris model was not loaded as part of facemesh. Please initialize the model with facemesh.load({shouldLoadIrisModel: true}).");return u=function(e){return e instanceof ur?[e.shape[0],e.shape[1]]:[e.height,e.width]}(i),l=u[1],d=rl((function(){return i instanceof ur||(i=as(i)),$o(Da(i,"float32"),0)})),"webgl"!==Ar.backendName?[3,2]:(p=Ie().get("WEBGL_PACK_DEPTHWISECONV"),Ie().set("WEBGL_PACK_DEPTHWISECONV",!0),[4,this.pipeline.predict(d,o)]);case 1:return c=m.sent(),Ie().set("WEBGL_PACK_DEPTHWISECONV",p),[3,4];case 2:return[4,this.pipeline.predict(d,o)];case 3:c=m.sent(),m.label=4;case 4:return d.dispose(),null!=c&&c.length>0?[2,Promise.all(c.map((function(e,t){return Wc(h,void 0,void 0,(function(){var r,s,i,u,d,c,p,h,m,f,g,y,b,w,x=this;return qc(this,(function(v){switch(v.label){case 0:return r=e.coords,s=e.scaledCoords,i=e.box,u=e.flag,d=[u],n||(d=d.concat([r,s])),[4,Promise.all(d.map((function(e){return Wc(x,void 0,void 0,(function(){return qc(this,(function(t){return[2,e.array()]}))}))})))];case 1:if(c=v.sent(),p=c[0],u.dispose(),p<this.detectionConfidence&&this.pipeline.clearRegionOfInterest(t),n)return h={kind:"MediaPipePredictionTensors",faceInViewConfidence:p,mesh:r,scaledMesh:s,boundingBox:{topLeft:Hu(i.startPoint),bottomRight:Hu(i.endPoint)}},a?[2,Ip(h,l)]:[2,h];for(w in m=c.slice(1),f=m[0],g=m[1],s.dispose(),r.dispose(),y={kind:"MediaPipePredictionValues",faceInViewConfidence:p,boundingBox:{topLeft:i.startPoint,bottomRight:i.endPoint},mesh:f,scaledMesh:g},a&&(y=Ip(y,l)),b={},ep)(o||!1===w.includes("Iris"))&&(b[w]=ep[w].map((function(e){return y.scaledMesh[e]})));return y.annotations=b,[2,y]}}))}))})))]:[2,[]]}}))}))},e}();let Cp;(Np||(Np={})).mediapipeFacemesh="mediapipe-facemesh",function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(Sp||(Sp={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(Tp||(Tp={}));const Mp={kernelName:bn,backendName:"wasm",setupFunc:function(e){Cp=e.wasm.cwrap(bn,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:s,bias:o,preluActivationWeights:i}=t;if("float32"!==a.dtype||"float32"!==s.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:u,transposeB:l,activation:d,leakyreluAlpha:c}=r,p=n.dataIdMap.get(a.dataId).id,h=n.dataIdMap.get(s.dataId).id;let m=0;if(null!=o){const e=n.dataIdMap.get(o.dataId);if(1!==e.shape.length)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${e.shape.length}.`);m=e.id}const f=null==i?0:n.dataIdMap.get(i.dataId).id,g=Tp[d];if(null==g)throw new Error(`${d} activation not yet supported for FusedConv2D in the wasm backend.`);const y=u?a.shape[2]:a.shape[1],b=l?s.shape[1]:s.shape[2],w=ts(a.shape.slice(0,-2),s.shape.slice(0,-2)),x=n.makeOutput([...w,y,b],a.dtype),v=n.dataIdMap.get(x.dataId).id,k=new Uint8Array(new Int32Array(a.shape).buffer),A=new Uint8Array(new Int32Array(s.shape).buffer);return Cp(p,k,a.shape.length,h,A,s.shape.length,u,l,g,m,f,c||0,v),x}};function Dp(e,t){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:r,inputs:{x:a}}=e,s=r.dataIdMap.get(a.dataId).id,o=r.makeOutput(a.shape,t||a.dtype),i=r.dataIdMap.get(o.dataId).id;return 0===ae(o.shape)||n(s,Sp[a.dtype],i),o}}}const Fp=Dp("Abs");function Op(e,t,n){let r;return{kernelName:e,backendName:"wasm",setupFunc:function(t){r=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:a}=e,{a:s,b:o}=a,i=t.dataIdMap.get(s.dataId).id,u=t.dataIdMap.get(o.dataId).id,l=null!=n?n:s.dtype,d=ts(s.shape,o.shape),c=t.makeOutput(d,l);if(0===ae(d))return c;const p=new Uint8Array(new Int32Array(s.shape).buffer),h=new Uint8Array(new Int32Array(o.shape).buffer),m=t.dataIdMap.get(c.dataId).id;return r(i,p,s.shape.length,u,h,o.shape.length,Sp[s.dtype],m),c}}}const Bp=Op(Ce);let Rp;const Lp={kernelName:Me,backendName:"wasm",setupFunc:function(e){Rp=e.wasm.cwrap(Me,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,r=n.makeOutput(t[0].shape,t[0].dtype);if(0===ae(r.shape))return r;const a=t.map((e=>n.dataIdMap.get(e.dataId).id)),s=new Uint8Array(new Int32Array(a).buffer),o=n.dataIdMap.get(r.dataId).id;return Rp(s,a.length,Sp[r.dtype],o),r}};function Pp(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype),a=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(a),r}const zp={kernelName:ut,backendName:"wasm",kernelFunc:Pp};let Up;function Vp(e){const{inputs:t,backend:n,attrs:r}=e,[a,s]=function(e,t){const n=[],r=[];for(let a=0;a<e.length;++a)1!==e[a]&&n.push(e[a]),1!==e[t[a]]&&r.push(t[a]);for(let e=0;e<r.length;++e){let t=-1;for(let n=0;n<r.length;++n)r[n]>=e&&(-1===t||r[t]>r[n])&&(t=n);r[t]=e}return[n,r]}(t.x.shape,r.perm);let o=!0;for(let e=0;e<s.length;e++)s[e]!==e&&(o=!1);const i=function(e,t){const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];return n}(t.x.shape,r.perm),u={dataId:t.x.dataId,shape:a,dtype:t.x.dtype};if(o){const e=Pp({inputs:t,backend:n});return e.shape=i,e}const l=n.makeOutput(i,u.dtype),d=n.dataIdMap.get(u.dataId).id,c=n.dataIdMap.get(l.dataId).id,p=new Uint8Array(new Int32Array(s).buffer),h=new Uint8Array(new Int32Array(u.shape).buffer);return Up(d,h,u.shape.length,Sp[u.dtype],c,p,s.length),l}const jp={kernelName:pn,backendName:"wasm",kernelFunc:Vp,setupFunc:function(e){Up=e.wasm.cwrap(pn,null,["number","array","number","number","number","array","number"])}};function Hp(e,t,n){const r=e.shape,a=e.shape.length,s=ue(t,r);let o=s;const i=Do(o,a);let u=null,l=!1;if(null!=i){const t=new Array(a);for(let e=0;e<t.length;e++)t[e]=r[i[e]];o=Oo(o.length,a),u=Vp({inputs:{x:e},attrs:{perm:i},backend:n});const s=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(u.dataId).id!==s&&(l=!0)}return{transposed:u,originalAxes:s,axes:o,inputWasTransposed:l}}let Wp;const qp={kernelName:De,backendName:"wasm",setupFunc:function(e){Wp=e.wasm.cwrap(De,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:s}=r,{x:o}=n;let i=t.dataIdMap.get(o.dataId).id,u=o;const{transposed:l,axes:d,originalAxes:c,inputWasTransposed:p}=Hp(o,a,t);p&&(u=l,i=t.dataIdMap.get(l.dataId).id),Mo("all",d,u.shape.length);const[h,m]=_o(u.shape,d),f=ae(m),g=t.makeOutput(h,o.dtype);if(0!==ae(u.shape)){const e=t.dataIdMap.get(g.dataId).id;Wp(i,f,e)}if(p&&t.disposeData(l.dataId),s){const e=Co(g.shape,c);g.shape=e}return g}};let $p;const Kp={kernelName:Fe,backendName:"wasm",setupFunc:function(e){$p=e.wasm.cwrap(Fe,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:s}=r,{x:o}=n;let i=t.dataIdMap.get(o.dataId).id,u=o;const{transposed:l,axes:d,originalAxes:c,inputWasTransposed:p}=Hp(o,a,t);p&&(u=l,i=t.dataIdMap.get(l.dataId).id),Mo("any",d,u.shape.length);const[h,m]=_o(u.shape,d),f=ae(m),g=t.makeOutput(h,o.dtype);if(0!==ae(u.shape)){const e=t.dataIdMap.get(g.dataId).id;$p(i,f,e)}if(p&&t.disposeData(l.dataId),s){const e=Co(g.shape,c);g.shape=e}return g}};let Gp;const Qp={kernelName:Oe,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id;let i=o,u=s;const{transposed:l,axes:d,inputWasTransposed:c}=Hp(s,a,t);if(c){const e=t.dataIdMap.get(l.dataId).id;e!==o&&(u=l,i=e)}const p=u.shape.slice(0,-1),h=t.makeOutput(p,"int32"),m=t.dataIdMap.get(h.dataId).id,f=ae(h.shape),g=u.shape[d[0]];return Gp(i,Sp[u.dtype],f,g,m),c&&t.disposeData(l.dataId),h},setupFunc:function(e){Gp=e.wasm.cwrap(Oe,null,["number","number","number","number","number"])}};let Yp;const Jp={kernelName:Be,backendName:"wasm",setupFunc:function(e){Yp=e.wasm.cwrap(Be,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,s=r.dataIdMap.get(a.dataId).id,{filterSize:o,strides:i,pad:u,dimRoundingMode:l}=n,d=ks(a.shape,o,i,1,u,l),c=d.filterHeight,p=d.filterWidth,h=d.padInfo.top,m=d.padInfo.right,f=d.padInfo.bottom,g=d.padInfo.left,y=d.strideHeight,b=d.strideWidth,w=d.inChannels;if("channelsLast"!==d.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${d.dataFormat}'. Please use 'channelsLast'.`);if(1!==d.dilationWidth||1!==d.dilationHeight)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${d.dilationHeight}, ${d.dilationWidth}].`);const x=r.makeOutput(d.outShape,"float32"),v=r.dataIdMap.get(x.dataId).id;return Yp(s,a.shape[0],a.shape[1],a.shape[2],c,p,h,m,f,g,y,b,w,v),x}};function Zp(e){const{inputs:t,attrs:n}=e,{x:r}=t,{shape:a}=n,s=ae(r.shape),o=function(e,t){let n=1,r=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${t}`);r=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const a=e.slice();return a[r]=t/n,a}(a,s);return ee(s===ae(o),(()=>`new shape: ${o}, old shape: ${r.shape}. New shape and old shape must have the same number of elements.`)),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:o,dtype:r.dtype}}const Xp={kernelName:Rt,backendName:"wasm",kernelFunc:Zp};let eh;const th={kernelName:Re,backendName:"wasm",setupFunc:function(e){eh=e.wasm.cwrap(Re,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:s}=t,{transposeA:o,transposeB:i}=r;if("float32"!==a.dtype||"float32"!==s.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const u=a.shape.length,l=s.shape.length,d=o?a.shape[u-2]:a.shape[u-1],c=i?s.shape[l-1]:s.shape[l-2],p=o?a.shape[u-1]:a.shape[u-2],h=i?s.shape[l-2]:s.shape[l-1],m=a.shape.slice(0,-2),f=s.shape.slice(0,-2),g=ae(m),y=ae(f),b=ts(a.shape.slice(0,-2),s.shape.slice(0,-2)).concat([p,h]);ee(d===c,(()=>`Error in matMul: inner shapes (${d}) and (${c}) of Tensors with shapes ${a.shape} and ${s.shape} and transposeA=${o} and transposeB=${i} must match.`));const w=i?[y,h,c]:[y,c,h],x=Zp({inputs:{x:a},backend:n,attrs:{shape:o?[g,d,p]:[g,p,d]}}),v=Zp({inputs:{x:s},backend:n,attrs:{shape:w}}),k=n.dataIdMap.get(x.dataId).id,A=n.dataIdMap.get(v.dataId).id,E=o?x.shape[2]:x.shape[1],I=i?v.shape[1]:v.shape[2],N=Math.max(g,y),S=n.makeOutput([N,E,I],x.dtype),T=n.dataIdMap.get(S.dataId).id,_=new Uint8Array(new Int32Array(x.shape).buffer),C=new Uint8Array(new Int32Array(v.shape).buffer);return eh(k,_,x.shape.length,A,C,v.shape.length,o,i,T),n.disposeData(x.dataId),n.disposeData(v.dataId),S.shape=b,S}};function nh(e,t,n,r,a){const s=ss(r,t,n),o=ae(n),i=fe(r);if(s){const n=os(t,i);return"string"===a?e.slice(n,n+o):e.subarray(n,n+o)}const u=Ma(r,a,"string"===a?Sd(e):e),l=Ma(n,a);for(let e=0;e<l.size;++e){const n=l.indexToLoc(e),r=n.map(((e,n)=>e+t[n]));l.set(u.get(...r),...n)}return"string"===a?Td(l.values):l.values}function rh(e){const{inputs:{x:t},attrs:{begin:n,size:r},backend:a}=e,[s,o]=function(e,t,n){let r;const a=e.shape.length;let s;return r="number"==typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach((e=>{ee(-1!==e,(()=>"slice() does not support negative begin indexing."))})),s=null==n?new Array(a).fill(-1):"number"==typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,s=s.map(((t,n)=>t>=0?t:(ee(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,s]}(t,n,r),i=ss(t.shape,s,o),u=a.readSync(t.dataId),l=a.makeOutput(o,t.dtype),d=fe(t.shape),c=a.dataIdMap.get(l.dataId);if(i){const e=os(s,d);return"string"===t.dtype?c.stringBytes=u.slice(e,e+ae(o)):a.typedArrayFromHeap(l).set(u.subarray(e,e+ae(o))),l}if("string"===t.dtype){const e=nh(u,s,o,t.shape,t.dtype);return c.stringBytes=e,l}const p=a.typedArrayFromHeap(l),h=t.shape.length;if(2===h)!function(e,t,n,r,a){let s=0;const o=r[0],i=r[1],u=o+a[0];for(let r=o;r<u;r++){const o=r*t+i;n.set(e.subarray(o,o+a[1]),s),s+=a[1]}}(u,d[0],p,s,o);else if(3===h)!function(e,t,n,r,a,s){let o=0;const i=a[0],u=a[1],l=a[2],d=i+s[0],c=u+s[1];for(let a=i;a<d;a++)for(let i=u;i<c;i++){const u=a*t+i*n+l;r.set(e.subarray(u,u+s[2]),o),o+=s[2]}}(u,d[0],d[1],p,s,o);else if(4===h)!function(e,t,n,r,a,s,o){let i=0;const u=s[0],l=s[1],d=s[2],c=u+o[0],p=l+o[1],h=d+o[2],m=s[3];for(let s=u;s<c;s++)for(let u=l;u<p;u++)for(let l=d;l<h;l++){const d=s*t+u*n+l*r+m;a.set(e.subarray(d,d+o[3]),i),i+=o[3]}}(u,d[0],d[1],d[2],p,s,o);else{const e=nh(u,s,o,t.shape,t.dtype);p.set(e)}return l}const ah={kernelName:qt,backendName:"wasm",kernelFunc:rh},sh={kernelName:Le,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,crops:o}=r,i=s.reduce(((e,t)=>e*t)),u=Ed(a.shape,s,i),l=Id(u.length,s.length),d=Nd(a.shape,s,i),c=function(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}(o,s.length),p=function(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}(d,o,s.length),h=Zp({inputs:{x:a},backend:n,attrs:{shape:u}}),m=Vp({inputs:{x:h},backend:n,attrs:{perm:l}}),f=rh({inputs:{x:Zp({inputs:{x:m},backend:n,attrs:{shape:d}})},backend:n,attrs:{begin:c,size:p}});return n.disposeData(h.dataId),n.disposeData(m.dataId),n.disposeData(h.dataId),f}};function oh(e){const{inputs:{x:t},attrs:{dtype:n},backend:r}=e,a=r.makeOutput(t.shape,n),s=r.typedArrayFromHeap(t);return r.typedArrayFromHeap(a).set(s),a}const ih={kernelName:Pe,backendName:"wasm",kernelFunc:oh},uh=Dp(ze);let lh;const dh={kernelName:Ue,backendName:"wasm",setupFunc:function(e){lh=e.wasm.cwrap(Ue,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:s,clipValueMax:o}=r,i=n.dataIdMap.get(a.dataId).id,u=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(u.dataId).id;return lh(i,s,o,l),u}};function ch(e){const{inputs:t,backend:n}=e,r=ue(e.attrs.axis,t[0].shape)[0];let a=xd(t.map((e=>e.shape)),r);const s=t.filter((e=>ae(e.shape)>0));if(1===s.length)return Pp({inputs:{x:s[0]},backend:n});const o=n.makeOutput(a,t[0].dtype);if(0===ae(a))return o;if(function(e,t){const n=e[0].length;e.forEach(((e,t)=>{ee(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),ee(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,a)=>{for(let s=0;s<n;s++)ee(s===t||e[s]===r[s],(()=>`Error in concat${n}D: Shape of tensors[${a}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${a}.`))}))}(s.map((e=>e.shape)),r),"string"===s[0].dtype){const e=s.map((e=>{const t=ae(e.shape.slice(r));return Zp({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),i=e.map((e=>({vals:n.readSync(e.dataId),shape:e.shape})));a=xd(e.map((e=>e.shape)),1);const u=1===e[0].shape[0],l=function(e,t,n,r){const a=le(n,ae(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=ae(e.shape);a.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const s="string"===n?Sd(e.vals):e.vals;let o=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[i+t]=s[o++]}r+=e.shape[1]}))}return a}(i,a,t[0].dtype,u),d=xd(s.map((e=>e.shape)),r);return o.shape=d,n.dataIdMap.get(o.dataId).stringBytes=Td(l),e.forEach((e=>n.disposeData(e.dataId))),o}const i=ae(s[0].shape.slice(0,r));let u=0;const l=s.map((e=>{const t=ae(e.shape.slice(r));return u+=t,t})),d=s.map((e=>n.typedArrayFromHeap(e))),c=n.typedArrayFromHeap(o);for(let e=0;e<i;e++){let t=e*u;for(let n=0;n<d.length;n++){const r=l[n],a=e*r,s=d[n].subarray(a,a+r);c.set(s,t),t+=r}}return o}const ph={kernelName:Ve,backendName:"wasm",kernelFunc:ch};let hh;const mh={kernelName:je,backendName:"wasm",setupFunc:function(e){hh=e.wasm.cwrap(je,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:s}=t,o=r.dataIdMap.get(a.dataId).id,i=r.dataIdMap.get(s.dataId).id,{strides:u,dilations:l,pad:d,dimRoundingMode:c,dataFormat:p}=n,h=_s(p),m=As(a.shape,s.shape,u,l,d,c,!1,h),f=m.filterHeight,g=m.filterWidth,y=m.padInfo.top,b=m.padInfo.right,w=m.padInfo.bottom,x=m.padInfo.left,v=m.dilationHeight,k=m.dilationWidth,A=m.strideHeight,E=m.strideWidth,I=m.inChannels,N=m.outChannels,S="SAME"===m.padInfo.type?1:0;if("channelsLast"!==m.dataFormat)throw new Error(`wasm backend Conv2D does not support dataFormat:'${m.dataFormat}'. Please use 'channelsLast'.`);const T=r.makeOutput(m.outShape,"float32"),_=r.dataIdMap.get(T.dataId).id;return hh(o,a.shape[0],a.shape[1],a.shape[2],i,f,g,y,b,w,x,S,v,k,A,E,I,N,_),T}};let fh;const gh={kernelName:He,backendName:"wasm",setupFunc:function(e){fh=e.wasm.cwrap(He,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{dy:a,filter:s}=n,{strides:o,pad:i,dataFormat:u,dimRoundingMode:l,inputShape:d}=r,c=_s(u),p=As(d,s.shape,o,1,i,l,!1,c),{batchSize:h,filterHeight:m,filterWidth:f,inChannels:g,inHeight:y,inWidth:b,outChannels:w,outHeight:x,outWidth:v,strideHeight:k,strideWidth:A}=p,E=m-1-p.padInfo.top,I=f-1-p.padInfo.left,N="channelsLast"===p.dataFormat,S=fe(p.inShape),T=fe(a.shape),[_,C,M]=fe(s.shape),D=S[0],F=N?S[1]:S[2],O=N?S[2]:1,B=N?1:S[1],R=T[0],L=N?T[1]:T[2],P=N?T[2]:1,z=N?1:T[1],U=t.makeOutput(p.inShape,"float32"),V=t.dataIdMap.get(U.dataId).id,j=t.dataIdMap.get(a.dataId).id,H=t.dataIdMap.get(s.dataId).id;return fh(j,H,h,m,f,y,b,g,x,v,w,k,A,E,I,_,C,M,D,F,O,B,R,L,P,z,V),U}},yh=Dp("Cos"),bh=Dp(We);var wh;let xh;!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(wh||(wh={}));const vh={kernelName:Ke,backendName:"wasm",setupFunc:function(e){xh=e.wasm.cwrap(Ke,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{method:a,extrapolationValue:s,cropSize:o}=r,{image:i,boxes:u,boxInd:l}=n,d=u.shape[0],[c,p]=o,h=[d,c,p,i.shape[3]];let m,f=t.dataIdMap.get(i.dataId);"float32"!==i.dtype&&(m=oh({backend:t,inputs:{x:i},attrs:{dtype:"float32"}}),f=t.dataIdMap.get(m.dataId));const g=f.id,y=t.dataIdMap.get(u.dataId).id,b=t.dataIdMap.get(l.dataId).id,w=t.makeOutput(h,"float32"),x=t.dataIdMap.get(w.dataId).id,v=new Uint8Array(new Int32Array(i.shape).buffer);return xh(g,y,b,d,v,c,p,wh[a],s,x),null!=m&&t.disposeData(m.dataId),w}};let kh;const Ah={kernelName:qe,backendName:"wasm",setupFunc:function(e){kh=e.wasm.cwrap(qe,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:o,reverse:i}=r,u=a.shape.length;ee("float32"===a.dtype||"int32"===a.dtype,(()=>`cumprod does not support ${a.dtype} tensors in the WASM backend`));const l=Do([s],u);let d=a;null!==l&&(d=Vp({inputs:{x:a},attrs:{perm:l},backend:n}));const c=Oo(1,u)[0];Mo("cumprod",[c],u);const p=n.makeOutput(d.shape,d.dtype),h=d.shape[c],m=n.dataIdMap.get(d.dataId).id,f=n.dataIdMap.get(p.dataId).id;kh(m,o?1:0,i?1:0,h,f,Sp[a.dtype]);let g=p;return null!==l&&(g=Vp({inputs:{x:p},attrs:{perm:Fo(l)},backend:n}),n.disposeData(d.dataId),n.disposeData(p.dataId)),g}};let Eh;const Ih={kernelName:$e,backendName:"wasm",setupFunc:function(e){Eh=e.wasm.cwrap($e,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:o,reverse:i}=r,u=a.shape.length;ee("float32"===a.dtype||"int32"===a.dtype,(()=>`cumsum does not support ${a.dtype} tensors in the WASM backend`));const l=Do([s],u);let d=a;null!==l&&(d=Vp({inputs:{x:a},attrs:{perm:l},backend:n}));const c=Oo(1,u)[0];Mo("cumsum",[c],u);const p=n.makeOutput(d.shape,d.dtype),h=d.shape[c],m=n.dataIdMap.get(d.dataId).id,f=n.dataIdMap.get(p.dataId).id;Eh(m,o?1:0,i?1:0,h,f,Sp[a.dtype]);let g=p;return null!==l&&(g=Vp({inputs:{x:p},attrs:{perm:Fo(l)},backend:n}),n.disposeData(d.dataId),n.disposeData(p.dataId)),g}};let Nh;const Sh={kernelName:Ge,backendName:"wasm",setupFunc:function(e){Nh=e.wasm.cwrap(Ge,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{blockSize:s,dataFormat:o}=r,i=a.shape[0],u=("NHWC"===o?a.shape[1]:a.shape[2])*s,l=("NHWC"===o?a.shape[2]:a.shape[3])*s,d=("NHWC"===o?a.shape[3]:a.shape[1])/(s*s),c="NHWC"===o?[i,u,l,d]:[i,d,u,l],p=t.makeOutput(c,"float32"),h=t.dataIdMap.get(a.dataId).id,m=new Uint8Array(new Int32Array(fe(a.shape)).buffer),f=new Uint8Array(new Int32Array(c).buffer),g=new Uint8Array(new Int32Array(fe(c)).buffer),y=t.dataIdMap.get(p.dataId).id;return Nh(h,s,"NHWC"===o?1:0,m,a.shape.length-1,f,g,c.length,y),p}};let Th;const _h={kernelName:Qe,backendName:"wasm",setupFunc:function(e){Th=e.wasm.cwrap(Qe,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:s}=t,o=r.dataIdMap.get(a.dataId).id,i=r.dataIdMap.get(s.dataId).id,{strides:u,dilations:l,pad:d,dimRoundingMode:c}=n,p=null==l?[1,1]:l,h=As(a.shape,s.shape,u,p,d,c,!0),m=h.filterHeight,f=h.filterWidth,g=h.padInfo.top,y=h.padInfo.right,b=h.padInfo.bottom,w=h.padInfo.left,x=h.dilationHeight,v=h.dilationWidth,k=h.strideHeight,A=h.strideWidth,E=h.inChannels,I=h.outChannels,N="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${h.dataFormat}'. Please use 'channelsLast'.`);const S=r.makeOutput(h.outShape,"float32"),T=r.dataIdMap.get(S.dataId).id;return Th(o,a.shape[0],a.shape[1],a.shape[2],i,m,f,g,y,b,w,N,x,v,k,A,E,I,T),S}},Ch=Dp("Elu"),Mh=Op(Je,0,"bool"),Dh=Dp("Exp","float32");function Fh(e){const{inputs:t,attrs:n,backend:r}=e,{input:a}=t,{dim:s}=n,o=a.shape.length,i=a.shape.slice();let u=s;return s<0&&(ee(-(o+1)<=s,(()=>`Axis must be in the interval [${-(o+1)}, ${o}]`)),u=o+s+1),i.splice(u,0,1),Zp({inputs:{x:a},backend:r,attrs:{shape:i}})}const Oh={kernelName:Ze,backendName:"wasm",kernelFunc:Fh};function Bh(e){const{attrs:{shape:t,value:n,dtype:r},backend:a}=e,s=a.makeOutput(t,r);return a.typedArrayFromHeap(s).fill(n),s}const Rh={kernelName:Xe,backendName:"wasm",kernelFunc:Bh};let Lh;const Ph={kernelName:et,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:r}=t,a=n.makeOutput(r.shape,r.dtype),s=n.dataIdMap.get(r.dataId).id,o=n.dataIdMap.get(a.dataId).id,[i,u,l,d]=r.shape;return Lh(s,i,u,l,d,o),a},setupFunc:function(e){Lh=e.wasm.cwrap(et,null,["number","number","number","number","number","number"])}},zh=Dp(tt),Uh=Op(nt);let Vh;const jh={kernelName:rt,backendName:"wasm",setupFunc:function(e){Vh=e.wasm.cwrap(rt,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{varianceEpsilon:a}=r,{x:s,mean:o,variance:i,offset:u,scale:l}=n,d=t.dataIdMap.get(s.dataId).id,c=t.dataIdMap.get(o.dataId).id,p=t.dataIdMap.get(i.dataId).id,h=null!=u?t.dataIdMap.get(u.dataId).id:0,m=null!=l?t.dataIdMap.get(l.dataId).id:0,f=t.makeOutput(s.shape,s.dtype);if(0===ae(s.shape))return f;const g=t.dataIdMap.get(f.dataId).id;return Vh(d,c,p,h,m,a,g),f}};let Hh;const Wh={kernelName:wn,backendName:"wasm",setupFunc:function(e){Hh=e.wasm.cwrap(wn,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:s,bias:o,preluActivationWeights:i}=t,{strides:u,pad:l,dilations:d,dataFormat:c,dimRoundingMode:p,activation:h,leakyreluAlpha:m}=n,f=As(a.shape,s.shape,u,d,l,p),g=Tp[h];if(null==g)throw new Error(`${h} activation not yet supported for FusedConv2D in the wasm backend.`);const y=r.dataIdMap.get(a.dataId).id,b=r.dataIdMap.get(s.dataId).id,w=f.outChannels;let x=0;if(null!=o){const e=r.dataIdMap.get(o.dataId);if(1!==e.shape.length)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==w)throw new Error(`FusedConv2D bias shape (${e.shape}) does not match the number of output channels (${w})`);x=e.id}const v=f.filterHeight,k=f.filterWidth,A=f.padInfo.top,E=f.padInfo.right,I=f.padInfo.bottom,N=f.padInfo.left,S=f.dilationHeight,T=f.dilationWidth,_=f.strideHeight,C=f.strideWidth,M=f.inChannels,D="SAME"===f.padInfo.type?1:0,F=f.batchSize,O=f.inHeight,B=f.inWidth;if("NHWC"!==c)throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${c}'. Please use 'NHWC'.`);const R=r.makeOutput(f.outShape,"float32"),L=r.dataIdMap.get(R.dataId).id,P=null==i?0:r.dataIdMap.get(i.dataId).id;return Hh(y,F,O,B,b,v,k,x,A,E,I,N,D,S,T,_,C,M,w,g,P,m||0,L),R}};let qh;const $h={kernelName:xn,backendName:"wasm",setupFunc:function(e){qh=e.wasm.cwrap(xn,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:s,bias:o,preluActivationWeights:i}=t,{strides:u,pad:l,dilations:d,dataFormat:c,dimRoundingMode:p,activation:h,leakyreluAlpha:m}=n,f=As(a.shape,s.shape,u,d,l,p,!0),g=Tp[h];if(null==g)throw new Error(`${h} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const y=r.dataIdMap.get(a.dataId).id,b=r.dataIdMap.get(s.dataId).id,w=f.outChannels;let x=0;if(null!=o){const e=r.dataIdMap.get(o.dataId);if(1!==e.shape.length)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==w)throw new Error(`FusedDepthwiseConv2D bias shape (${e.shape}) does not match the number of output channels (${w})`);x=e.id}const v=f.filterHeight,k=f.filterWidth,A=f.padInfo.top,E=f.padInfo.right,I=f.padInfo.bottom,N=f.padInfo.left,S=f.dilationHeight,T=f.dilationWidth,_=f.strideHeight,C=f.strideWidth,M=f.inChannels,D="SAME"===f.padInfo.type?1:0,F=f.batchSize,O=f.inHeight,B=f.inWidth;if("NHWC"!==c)throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${c}'. Please use 'NHWC'.`);const R=r.makeOutput(f.outShape,"float32"),L=r.dataIdMap.get(R.dataId).id,P=null==i?0:r.dataIdMap.get(i.dataId).id;return qh(y,F,O,B,b,v,k,x,A,E,I,N,D,S,T,_,C,M,w,g,P,m||0,L),R}};let Kh;const Gh={kernelName:st,backendName:"wasm",setupFunc:function(e){Kh=e.wasm.cwrap(st,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:r,indices:a}=n,[s,o,i,u]=function(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===ae(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const a=t.shape,s=a[a.length-1];let o=1;for(let e=0;e<a.length-1;++e)o*=a[e];const i=e.shape,u=a.slice();u.pop();let l=1;for(let e=s;e<n;++e)l*=i[e],u.push(i[e]);const d=[...fe(e.shape).map((e=>e/l)),1].slice(0,s);return[u,o,l,d]}(r,a),l=t.makeOutput(s,r.dtype);if(0===o)return l;const d=a.shape,c=d[d.length-1],p=t.dataIdMap.get(r.dataId).id,h=t.dataIdMap.get(a.dataId).id,m=new Uint8Array(new Int32Array(u).buffer),f=t.dataIdMap.get(l.dataId).id;return Kh(p,Sp[r.dtype],h,o,c,i,m,f),l}};let Qh;const Yh={kernelName:at,backendName:"wasm",setupFunc:function(e){Qh=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,indices:s}=n,{axis:o,batchDims:i}=r,u=ue(o,a.shape)[0],l=t.readSync(s.dataId),d=a.shape[u];for(let e=0;e<l.length;++e){const t=l[e];ee(t<=d-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${d-1}]`))}const c=function(e,t,n,r){const a=t.shape.length,s=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>s)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${s}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let n=0;n<r;++n)if(e.shape[n]!==t.shape[n])throw new Error(`x.shape[${n}]: ${e.shape[n]} should be equal to indices.shape[${n}]: ${t.shape[n]}.`);const o=e.shape[n],i=[];let u=1,l=1,d=1;for(let t=0;t<r;++t)i.push(e.shape[t]),u*=e.shape[t];for(let t=r;t<n;t++)i.push(e.shape[t]),l*=e.shape[t];for(let e=r;e<a;e++)i.push(t.shape[e]);for(let t=n+1;t<s;t++)i.push(e.shape[t]),d*=e.shape[t];return{batchSize:u,sliceSize:d,outerSize:l,dimSize:o,outputShape:i}}(a,s,u,i),p=Zp({inputs:{x:a},attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]},backend:t}),h=ae(s.shape),m=Zp({inputs:{x:s},attrs:{shape:[c.batchSize,h/c.batchSize]},backend:t}),f=[c.batchSize,c.outerSize,h/c.batchSize,c.sliceSize],g=t.makeOutput(f,a.dtype);if(0===ae(a.shape))return g;const y=p.shape.length-1,b=t.dataIdMap.get(p.dataId).id,w=t.dataIdMap.get(m.dataId).id,x=t.dataIdMap.get(g.dataId).id,v=new Uint8Array(new Int32Array(fe(p.shape)).buffer),k=new Uint8Array(new Int32Array(fe(f)).buffer);return Qh(b,Sp[a.dtype],v,y,w,c.batchSize,k,x),t.disposeData(p.dataId),t.disposeData(m.dataId),g.shape=c.outputShape,g}},Jh=Op(ot,0,"bool"),Zh=Op(it,0,"bool");let Xh;const em={kernelName:lt,backendName:"wasm",setupFunc:function(e){Xh=e.wasm.cwrap(lt,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:t},attrs:{alpha:n},backend:r}=e,a=r.dataIdMap.get(t.dataId).id,s=r.makeOutput(t.shape,"float32");if(0!==ae(t.shape)){const e=r.dataIdMap.get(s.dataId).id;Xh(a,Sp[t.dtype],n,e)}return s}},tm=Op(dt,0,"bool"),nm=Op(ct,0,"bool"),rm=Dp("Log"),am=Op(ht,0,"bool"),sm=Dp(mt),om=Op(ft,0,"bool"),im=Op("LogicalXor",0,"bool");let um;const lm={kernelName:gt,backendName:"wasm",setupFunc:function(e){um=e.wasm.cwrap(gt,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{reductionIndices:a,keepDims:s}=r,{x:o}=n;let i=t.dataIdMap.get(o.dataId).id,u=o;const{transposed:l,axes:d,originalAxes:c,inputWasTransposed:p}=Hp(o,a,t);p&&(u=l,i=t.dataIdMap.get(l.dataId).id),Mo("max",d,u.shape.length);const[h,m]=_o(u.shape,d),f=ae(m),g=t.makeOutput(h,o.dtype);if(0!==ae(u.shape)){const e=t.dataIdMap.get(g.dataId).id;um(i,Sp[o.dtype],f,e)}if(p&&t.disposeData(l.dataId),s){const e=Co(g.shape,c);g.shape=e}return g}},dm=Op(yt);let cm;const pm={kernelName:bt,backendName:"wasm",setupFunc:function(e){cm=e.wasm.cwrap(bt,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,s=r.dataIdMap.get(a.dataId).id;ee("float32"===a.dtype,(()=>`Error in MaxPool: only float32 input is supported. Got ${a.dtype}.`));const{filterSize:o,strides:i,pad:u,dimRoundingMode:l}=n,d=ks(a.shape,o,i,1,u,l),c=d.filterHeight,p=d.filterWidth,h=d.padInfo.top,m=d.padInfo.right,f=d.padInfo.bottom,g=d.padInfo.left,y=d.dilationHeight,b=d.dilationWidth,w=d.strideHeight,x=d.strideWidth,v=d.inChannels,k=d.outChannels;if("channelsLast"!==d.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${d.dataFormat}'. Please use 'channelsLast'.`);const A=r.makeOutput(d.outShape,"float32"),E=r.dataIdMap.get(A.dataId).id;return cm(s,a.shape[0],a.shape[1],a.shape[2],c,p,h,m,f,g,y,b,w,x,v,k,E),A}};let hm;const mm={kernelName:wt,backendName:"wasm",setupFunc:function(e){hm=e.wasm.cwrap(wt,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:s}=r,{x:o}=n,i=t.dataIdMap.get(o.dataId).id;let u=i,l=o;const{transposed:d,axes:c,originalAxes:p,inputWasTransposed:h}=Hp(o,a,t);let m=c;if(h){const e=t.dataIdMap.get(d.dataId).id;e!==i&&(l=d,u=e,m=Oo(m.length,l.shape.length))}Mo("mean",m,l.shape.length);const[f,g]=_o(l.shape,m),y=ae(g);let b=l;"float32"!==l.dtype&&(b=oh({backend:t,inputs:{x:l},attrs:{dtype:"float32"}}),u=t.dataIdMap.get(b.dataId).id);const w=t.makeOutput(f,"float32");if(0!==ae(l.shape)){const e=t.dataIdMap.get(w.dataId).id;hm(u,y,e)}if(h&&t.disposeData(d.dataId),s){const e=Co(w.shape,p);w.shape=e}return"float32"!==l.dtype&&t.disposeData(b.dataId),w}};let fm;const gm={kernelName:xt,backendName:"wasm",setupFunc:function(e){fm=e.wasm.cwrap(xt,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:s}=r,{x:o}=n,i=t.dataIdMap.get(o.dataId).id;let u=i,l=o;const{transposed:d,axes:c,originalAxes:p,inputWasTransposed:h}=Hp(o,a,t);if(h){const e=t.dataIdMap.get(d.dataId).id;e!==i&&(l=d,u=e)}Mo("min",c,l.shape.length);const[m,f]=_o(l.shape,c),g=ae(f),y=t.makeOutput(m,l.dtype);if(0!==ae(l.shape)){const e=t.dataIdMap.get(y.dataId).id;fm(u,Sp[o.dtype],g,e)}if(h&&t.disposeData(d.dataId),s){const e=Co(y.shape,p);y.shape=e}return y}},ym=Op(vt);var bm;let wm;!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(bm||(bm={}));const xm={kernelName:kt,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,mode:a}}=e,s=r.map(((e,n)=>e[0]+t.shape[n]+e[1])),o=n.dataIdMap.get(t.dataId).id,i=n.makeOutput(s,t.dtype),u=n.dataIdMap.get(i.dataId).id,l=new Uint8Array(new Int32Array(t.shape).buffer),d=r.map((e=>e[0])),c=r.map((e=>e[1])),p=new Uint8Array(new Int32Array(d).buffer),h=new Uint8Array(new Int32Array(c).buffer);return wm(o,l,t.shape.length,Sp[t.dtype],p,h,bm[a],u),i},setupFunc:function(e){wm=e.wasm.cwrap(kt,null,["number","array","number","number","array","array","number","number"])}},vm=Op(At),km=Dp("Neg");function Am(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),r=n[0],a=n[1],s=n[2],o=n[3];return e.wasm._free(t),{pSelectedIndices:r,selectedSize:a,pSelectedScores:s,pValidOutputs:o}}let Em;const Im={kernelName:It,backendName:"wasm",setupFunc:function(e){Em=e.wasm.cwrap(It,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o}=r,{boxes:i,scores:u}=n,l=t.dataIdMap.get(i.dataId).id,d=t.dataIdMap.get(u.dataId).id,c=Em(l,d,s,a,o),{pSelectedIndices:p,selectedSize:h,pSelectedScores:m,pValidOutputs:f}=Am(t,c);return t.wasm._free(m),t.wasm._free(f),t.makeOutput([h],"int32",p)}};let Nm;const Sm={kernelName:Nt,backendName:"wasm",setupFunc:function(e){Nm=e.wasm.cwrap(Nt,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o,padToMaxOutputSize:i}=r,{boxes:u,scores:l}=n,d=t.dataIdMap.get(u.dataId).id,c=t.dataIdMap.get(l.dataId).id,p=Nm(d,c,s,a,o,i),{pSelectedIndices:h,selectedSize:m,pSelectedScores:f,pValidOutputs:g}=Am(t,p);return t.wasm._free(f),[t.makeOutput([m],"int32",h),t.makeOutput([],"int32",g)]}};let Tm;const _m={kernelName:St,backendName:"wasm",setupFunc:function(e){Tm=e.wasm.cwrap(St,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o,softNmsSigma:i}=r,{boxes:u,scores:l}=n,d=t.dataIdMap.get(u.dataId).id,c=t.dataIdMap.get(l.dataId).id,p=Tm(d,c,s,a,o,i),{pSelectedIndices:h,selectedSize:m,pSelectedScores:f,pValidOutputs:g}=Am(t,p);return t.wasm._free(g),[t.makeOutput([m],"int32",h),t.makeOutput([m],"float32",f)]}},Cm=Op(Et,0,"bool");let Mm;const Dm={kernelName:_t,backendName:"wasm",setupFunc:function(e){Mm=e.wasm.cwrap(_t,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:s,depth:o,onValue:i,offValue:u}=r,l=n.makeOutput([...a.shape,o],s),d=n.dataIdMap.get(l.dataId).id,c=n.dataIdMap.get(a.dataId).id;return Mm(c,o,i,u,d),l}},Fm={kernelName:Tt,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(1),r}},Om={kernelName:Ct,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return Fh({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const s=t[0].shape,o=t[0].dtype;t.forEach((e=>{te(s,e.shape,"All tensors passed to stack must have matching shapes"),ee(o===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const i=[],u=ch({inputs:t.map((e=>{const t=Fh({inputs:{input:e},backend:n,attrs:{dim:a}});return i.push(t),t})),backend:n,attrs:{axis:a}});return i.forEach((e=>n.disposeData(e.dataId))),u}};let Bm;const Rm={kernelName:Mt,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,constantValue:a}}=e,s=r.map(((e,n)=>e[0]+t.shape[n]+e[1]));if(0===ae(t.shape))return Bh({backend:n,attrs:{shape:s,value:a,dtype:t.dtype}});const o=n.dataIdMap.get(t.dataId).id,i=n.makeOutput(s,t.dtype),u=n.dataIdMap.get(i.dataId).id,l=new Uint8Array(new Int32Array(t.shape).buffer),d=r.map((e=>e[0])),c=r.map((e=>e[1])),p=new Uint8Array(new Int32Array(d).buffer),h=new Uint8Array(new Int32Array(c).buffer);return Bm(o,l,t.shape.length,Sp[t.dtype],p,h,a,u),i},setupFunc:function(e){Bm=e.wasm.cwrap(Mt,null,["number","array","number","number","array","array","number","number"])}},Lm=Op("Pow");let Pm;const zm={kernelName:Dt,backendName:"wasm",setupFunc:function(e){Pm=e.wasm.cwrap(Dt,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,s=n.dataIdMap.get(r.dataId).id,o=n.dataIdMap.get(a.dataId).id;let i=s;const u=r;let l=u;"float32"!==u.dtype&&(l=oh({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),i=n.dataIdMap.get(l.dataId).id);const d=n.makeOutput(r.shape,"float32"),c=n.dataIdMap.get(d.dataId).id;return Pm(i,o,c),"float32"!==u.dtype&&n.disposeData(l.dataId),d}};let Um;const Vm={kernelName:Ft,backendName:"wasm",setupFunc:function(e){Um=e.wasm.cwrap(Ft,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:s}=r,{x:o}=n,i=t.dataIdMap.get(o.dataId).id;let u=i,l=o;const{transposed:d,axes:c,originalAxes:p,inputWasTransposed:h}=Hp(o,a,t);let m=c;if(h){const e=t.dataIdMap.get(d.dataId).id;e!==i&&(l=d,u=e,m=Oo(m.length,l.shape.length))}Mo("prod",m,l.shape.length);const[f,g]=_o(l.shape,m),y=ae(g),b=t.makeOutput(f,l.dtype);if(0!==ae(l.shape)){const e=t.dataIdMap.get(b.dataId).id;Um(u,y,Sp[b.dtype],e)}if(h&&t.disposeData(d.dataId),s){const e=Co(b.shape,p);b.shape=e}return b}},jm={kernelName:Ot,backendName:"wasm",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:s,dtype:o}=n,i=function(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return we(0,r);const a=we(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(let e=1;e<a.length;e++)a[e]=a[e-1]+n;return a}(r,a,s,o),u=t.makeOutput([i.length],o);return t.typedArrayFromHeap(u).set(i),u}},Hm=Op(Ye),Wm=Dp(Bt),qm=Dp(zt);let $m;const Km={kernelName:Pt,backendName:"wasm",setupFunc:function(e){$m=e.wasm.cwrap(Pt,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:s,halfPixelCenters:o,size:i}=r,[u,l]=i,[d,c,p,h]=a.shape,m=[d,u,l,h];let f,g=t.dataIdMap.get(a.dataId);"float32"!==g.dtype&&(f=oh({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),g=t.dataIdMap.get(f.dataId));const y=g.id,b=t.makeOutput(m,"float32");if(0===ae(a.shape))return b;const w=t.dataIdMap.get(b.dataId).id;return $m(y,d,c,p,h,u,l,s?1:0,o?1:0,w),null!=f&&t.disposeData(f.dataId),b}};let Gm;const Qm={kernelName:Lt,backendName:"wasm",setupFunc:function(e){Gm=e.wasm.cwrap(Lt,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:s,halfPixelCenters:o,size:i}=r,[u,l]=i,[d,c,p,h]=a.shape,m=[d,u,l,h],f=t.makeOutput(m,"float32");if(0===ae(a.shape))return f;let g,y=t.dataIdMap.get(a.dataId);"float32"!==y.dtype&&(g=oh({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),y=t.dataIdMap.get(g.dataId));const b=y.id,w=t.dataIdMap.get(f.dataId).id;return Gm(b,d,c,p,h,u,l,s?1:0,o?1:0,w),null!=g&&t.disposeData(g.dataId),f}};let Ym;const Jm={kernelName:Ut,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:s}=r,o=ue(s,a.shape);if(0===a.shape.length)return Pp({inputs:{x:a},backend:n});const i=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(a.dataId).id,l=n.dataIdMap.get(i.dataId).id,d=new Uint8Array(new Int32Array(o).buffer),c=new Uint8Array(new Int32Array(a.shape).buffer);Ym(u,d,o.length,c,a.shape.length,l);const p=Zp({inputs:{x:i},attrs:{shape:a.shape},backend:n});return n.disposeData(i.dataId),p},setupFunc:function(e){Ym=e.wasm.cwrap(Ut,null,["number","array","number","array","number","number"])}};let Zm;const Xm={kernelName:yn,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{radians:s,fillValue:o,center:i}=r,u=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(a.dataId).id,d=n.dataIdMap.get(u.dataId).id,[c,p,h,m]=a.shape,[f,g]=function(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}(i,p,h),y="number"==typeof o?[o,o,o,0===o?0:255]:[...o,255],b=new Uint8Array(new Int32Array(y).buffer);return Zm(l,c,p,h,m,s,f,g,b,y.length,d),u},setupFunc:function(e){Zm=e.wasm.cwrap(yn,null,["number","number","number","number","number","number","number","number","array","number","number"])}},ef=Dp(Vt),tf=Dp(jt);let nf;const rf={kernelName:Ht,backendName:"wasm",setupFunc:function(e){nf=e.wasm.cwrap(Ht,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{indices:a,updates:s}=n,{shape:o}=r,i=t.makeOutput(o,s.dtype);if(0===ae(o))return i;const{sliceRank:u,numUpdates:l,sliceSize:d,strides:c,outputSize:p}=function(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,s=n.length;let o=1;for(let e=a;e<s;++e)o*=n[e];const i=a<1?1:a;return{sliceRank:a,numUpdates:ae(t.shape)/i,sliceSize:o,strides:[...fe(n.slice(0,a)),1],outputSize:ae(n)}}(0,a,o),h=t.dataIdMap.get(a.dataId).id,m=t.dataIdMap.get(s.dataId).id,f=new Uint8Array(new Int32Array(c).buffer),g=t.dataIdMap.get(i.dataId).id;return nf(h,m,Sp[s.dtype],u,l,d,f,p,g),i}};let af;const sf={kernelName:Wt,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:s}=t,o=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(a.dataId).id,u=n.dataIdMap.get(s.dataId).id,l=n.makeOutput(a.shape,a.dtype),d=n.dataIdMap.get(l.dataId).id,c=r.shape.length,p=a.shape.length,h=0===c||c>1||1===p?1:ae(a.shape.slice(1));return af(o,i,u,h,d),l},setupFunc:function(e){af=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}};let of;const uf={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){of=e.wasm.cwrap($t,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,r=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),s=t.dataIdMap.get(a.dataId).id;return 0===ae(a.shape)||of(r,s),a}},lf=Dp("Sin");let df;const cf={kernelName:Jt,backendName:"wasm",setupFunc:function(e){df=e.wasm.cwrap(Jt,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:{logits:n},attrs:{dim:r}}=e,a=t.dataIdMap.get(n.dataId).id,s=t.makeOutput(n.shape,n.dtype),o=t.dataIdMap.get(s.dataId).id,i=n.shape[r],u=ae(n.shape)/i;return 0===ae(s.shape)||df(a,o,i,u),s}},pf={kernelName:Qt,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,paddings:o}=r,i=ae(s),u=[[0,0]];u.push(...o);for(let e=1+s.length;e<a.shape.length;++e)u.push([0,0]);const l=Rm.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:u,constantValue:0}}),d=Ed(l.shape,s,i,!1),c=Id(d.length,s.length,!1),p=Nd(l.shape,s,i,!1),h=Zp({inputs:{x:l},backend:n,attrs:{shape:d}}),m=Vp({inputs:{x:h},backend:n,attrs:{perm:c}}),f=Zp({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeData(l.dataId),n.disposeData(h.dataId),n.disposeData(m.dataId),f}};let hf;const mf={kernelName:Zt,backendName:"wasm",setupFunc:function(e){hf=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{indices:r,values:a,denseShape:s,defaultValue:o}=n,i=r.shape[0],u=r.shape[1],l=t.readSync(s.dataId)[0],d=[i+l,u],c=t.dataIdMap.get(r.dataId).id,p=t.dataIdMap.get(a.dataId).id,h=t.dataIdMap.get(o.dataId).id,m=t.makeOutput(d,r.dtype),f=t.dataIdMap.get(m.dataId).id,g=t.makeOutput(d.slice(0,1),a.dtype),y=t.dataIdMap.get(g.dataId).id,b=t.makeOutput([l],"bool"),w=t.dataIdMap.get(b.dataId).id,x=t.makeOutput([i],r.dtype),v=t.dataIdMap.get(x.dataId).id,k=t.makeOutput([4],"int32"),A=t.dataIdMap.get(k.dataId).id,E=hf(c,p,Sp[a.dtype],i,l,u,h,f,y,w,v,A),I=t.readSync(k.dataId);let N;switch(I[0]){case 1:N=`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${I[1]}`;break;case 2:N=`indices(${I[1]}, 0) is invalid: ${I[2]} < 0`;break;case 3:N=function(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}(I[1],I[2],I[3]);break;default:N=""}if(t.disposeData(k.dataId),N)throw t.disposeData(m.dataId),t.disposeData(g.dataId),t.disposeData(b.dataId),t.disposeData(x.dataId),new Error(N);let S=m,T=g;return E!==d[0]&&(S=rh({inputs:{x:m},attrs:{begin:0,size:[E,u]},backend:t}),T=rh({inputs:{x:g},attrs:{begin:0,size:E},backend:t}),t.disposeData(m.dataId),t.disposeData(g.dataId)),[S,T,b,x]}};let ff;const gf={kernelName:Xt,backendName:"wasm",setupFunc:function(e){ff=e.wasm.cwrap(Xt,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{inputIndices:r,inputShape:a,newShape:s}=n;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${a.shape}`);if(1!==s.shape.length)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const o=t.dataIdMap.get(r.dataId).id,i=t.dataIdMap.get(a.dataId).id,u=t.dataIdMap.get(s.dataId).id,l=r.shape[0],d=ae(s.shape),c=t.makeOutput([l,d],r.dtype),p=t.dataIdMap.get(c.dataId).id,h=t.makeOutput([d],s.dtype),m=t.dataIdMap.get(h.dataId).id,f=t.makeOutput([3],"int32"),g=t.dataIdMap.get(f.dataId).id;ff(o,i,u,l,p,m,g);const y=t.readSync(f.dataId);let b;switch(y[0]){case 0:b=`only one output dimension may be -1, not both ${y[1]} and ${y[2]}`;break;case 1:b=`size ${y[1]} must be non-negative, not ${y[2]}`;break;case 2:b="reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero";break;case 3:b=function(e,t){return`Input to reshape is a SparseTensor with ${ae(e)}\n  dense values, but the requested shape requires a multiple of ${ae(t)}. inputShape=${e} outputShape= ${t}`}(Array.from(t.readSync(a.dataId)),Array.from(t.readSync(h.dataId)));break;case 4:b=function(e,t){return`Input to reshape is a tensor with ${ae(e)} dense values, but the requested shape has ${ae(t)}. inputShape=${e} outputShape=${t}`}(Array.from(t.readSync(a.dataId)),Array.from(t.readSync(h.dataId)));break;default:b=""}if(t.disposeData(f.dataId),b)throw t.disposeData(c.dataId),t.disposeData(h.dataId),new Error(b);return[c,h]}};let yf;function bf(e){yf=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function wf(e,t){const{backend:n,inputs:r}=e,{data:a,indices:s,segmentIds:o}=r,i=s.shape[0],u=n.readSync(o.dataId,i-1,i)[0],l=i>0?u+1:0;if(l<0)throw new Error("segment ids must be >= 0");const d=a.shape.slice();d[0]=l;const c=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(s.dataId).id,h=n.dataIdMap.get(o.dataId).id,m=n.makeOutput(d,a.dtype),f=n.dataIdMap.get(m.dataId).id,g=n.makeOutput([4],"int32"),y=n.dataIdMap.get(g.dataId).id;yf(c,Sp[a.dtype],a.shape[0],p,h,f,y,t,0);const b=n.readSync(g.dataId);let w;switch(b[0]){case 0:w="segment ids must be >= 0";break;case 1:w="segment ids are not increasing";break;case 2:w=function(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}(b[1],b[2]);break;case 3:w=`Bad: indices[${b[1]}] == ${b[2]} out of range [0, ${b[3]})`;break;default:w=""}if(n.disposeData(g.dataId),w)throw n.disposeData(m.dataId),new Error(w);return m}const xf={kernelName:en,backendName:"wasm",setupFunc:bf,kernelFunc:function(e){return wf(e,!0)}},vf={kernelName:tn,backendName:"wasm",setupFunc:bf,kernelFunc:function(e){return wf(e,!1)}},kf={kernelName:Yt,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{numOrSizeSplits:s,axis:o}=n,i=ue(o,a.shape)[0],u=function(e,t,n=0){let r=[];if("number"==typeof t)ee(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{ee(t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0)<=1,(()=>"There should be only one negative value in split array."));const a=t.indexOf(-1);if(-1!==a){const r=t.reduce(((e,t)=>t>0?e+t:e));t[a]=e.shape[n]-r}ee(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}(a,s,i),l=new Array(a.shape.length).fill(0),d=a.shape.slice();return u.map((e=>{const t=[...d];t[i]=e;const n=rh({inputs:{x:a},attrs:{begin:l,size:t},backend:r});return l[i]+=e,n}))}},Af=Dp(Kt),Ef=Dp("Square"),If=Op(nn);let Nf;const Sf={kernelName:fn,backendName:"wasm",setupFunc:function(e){Nf=e.wasm.cwrap(fn,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{alpha:a}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id,i=t.makeOutput(s.shape,s.dtype),u=t.dataIdMap.get(i.dataId).id;return Nf(o,a,Sp[s.dtype],u),i}};let Tf;const _f={kernelName:rn,backendName:"wasm",setupFunc:function(e){Tf=e.wasm.cwrap(rn,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{begin:s,end:o,strides:i,beginMask:u,endMask:l,ellipsisMask:d,newAxisMask:c,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:m,isIdentity:f,sliceDim0:g,isSimpleSlice:y,begin:b,end:w,strides:x}=function(e,t,n,r,a,s,o,i,u){let l;if(null==r?(l=new Array(t.length),l.fill(1)):l=r,null!=o&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let d=!1;const c={dims:l.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:l.slice(),beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:u};for(let e=0;e<c.dims;e++)d&&1<<e&i&&c.numAddAxisAfterEllipsis++,1<<e&o&&(d=!0);d||(c.ellipsisMask|=1<<c.dims,c.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(c,p);let h=!0,m=!0,f=!0;const g=[],y=[];for(let t=0;t<e.length;++t){if(0===p.strides[t])throw Error(`strides[${t}] must be non-zero`);const n=!!(p.shrinkAxisMask&1<<t),r=e[t];if(-1===r){g.push(n?1:-1);continue}const a=[p.beginMask&1<<t,p.endMask&1<<t],s=[p.strides[t]>0?0:-1,p.strides[t]>0?r:r-1];if(n&&p.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");f=f&&1===p.strides[t];const o=!!(p.beginMask&1<<t&&p.endMask&1<<t);if(p.beginValid&&p.endValid){if(n){const e=p.begin[t]<0?r+p.begin[t]:p.begin[t];if(p.begin[t]=e,p.end[t]=p.begin[t]+1,e<0||e>=r)throw Error(`slice index ${p.begin[t]} of dimension ${t} out of bounds.`)}else p.begin[t]=is(p.begin[t],0,p.strides[t],r,a,s),p.end[t]=is(p.end[t],1,p.strides[t],r,a,s);const e=1===p.strides[t]&&0===p.begin[t]&&p.end[t]===r;h=h&&e,m=m&&(0===t&&1===p.strides[t]||e)}else h=h&&1===p.strides[t]&&o,m=m&&(0===t&&1===p.strides[t]||o);let i,u=!1;if(p.beginValid&&p.endValid?(i=p.end[t]-p.begin[t],u=!0):n?(i=1,u=!0):o&&r>=0&&(i=p.strides[t]<0?-r:r,u=!0),u){let e;e=0===i||i<0!=p.strides[t]<0?0:Math.trunc(i/p.strides[t])+(i%p.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<p.finalShapeGatherIndices.length;++e){const t=p.finalShapeGatherIndices[e];t>=0?y.push(g[t]):-2===t&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>-2!==p.finalShapeGatherIndices[t])),finalShape:y,isIdentity:h,sliceDim0:m,isSimpleSlice:f,begin:p.begin,end:p.end,strides:p.strides}}(a.shape,s,o,i,u,l,d,c,p);let v;if(f)v=Zp({inputs:{x:a},backend:t,attrs:{shape:m}});else if(g||y){ee(a.shape.length>=1,(()=>`Input must have rank at least 1, got: ${a.shape.length}`));const e=function(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}(b,w,x),n=rh({inputs:{x:a},backend:t,attrs:{begin:b,size:e}});v=Zp({inputs:{x:n},backend:t,attrs:{shape:m}}),t.disposeData(n.dataId)}else{const e=t.makeOutput(h,"float32"),n=t.dataIdMap.get(a.dataId).id,r=new Uint8Array(new Int32Array(fe(a.shape)).buffer),s=new Uint8Array(new Int32Array(b).buffer),o=new Uint8Array(new Int32Array(w).buffer),i=new Uint8Array(new Int32Array(x).buffer),u=new Uint8Array(new Int32Array(h).buffer),l=new Uint8Array(new Int32Array(fe(h)).buffer),d=t.dataIdMap.get(e.dataId).id;Tf(n,r,a.shape.length,s,o,i,u,l,h.length,d),v=Zp({inputs:{x:e},backend:t,attrs:{shape:m}}),t.disposeData(e.dataId)}return v}};class Cf{constructor(e,t,n,r,a,s){this.separator=qn(e),this.nGramWidths=t,this.leftPad=qn(n),this.rightPad=qn(r),this.padWidth=a,this.preserveShort=s}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,s){for(let o=0;o<a;++o){const i=this.getPadWidth(s),u=Math.max(0,i-o),l=Math.max(0,i-(a-(o+1))),d=s-(u+l),c=t+(u>0?0:o-i);let p=0;p+=u*this.leftPad.length;for(let t=0;t<d;++t)p+=e[c+t].length;p+=l*this.rightPad.length,p+=(u+l+d-1)*this.separator.length,n[r+o]=new Uint8Array(p);const h=n[r+o];let m=0;const f=e=>e.forEach((e=>h[m++]=e));for(let e=0;e<u;++e)f(this.leftPad),f(this.separator);for(let t=0;t<d-1;++t)f(e[c+t]),f(this.separator);if(d>0){f(e[c+d-1]);for(let e=0;e<l;++e)f(this.separator),f(this.rightPad)}else{for(let e=0;e<l-1;++e)f(this.rightPad),f(this.separator);f(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let a=1;a<r;++a){let r=t[a]>=e;if(r=r&&t[a]<=n,!r)throw new Error(`Invalid split value ${t[a]}, must be in [${e}, ${n}]`);e=t[a]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const a=r-1,s=le("int32",r);if(0===n||0===r){const e=new Array(n);for(let e=0;e<=a;++e)s[e]=0;return[e,s]}s[0]=0;for(let e=1;e<=a;++e){const n=t[e]-t[e-1];let r=0;this.nGramWidths.forEach((e=>{r+=this.getNumNGrams(n,e)})),this.preserveShort&&n>0&&0===r&&(r=1),s[e]=s[e-1]+r}const o=new Array(s[a]);for(let n=0;n<a;++n){const r=t[n];let a=s[n];if(this.nGramWidths.forEach((s=>{const i=t[n+1]-t[n],u=this.getNumNGrams(i,s);this.createNGrams(e,r,o,a,u,s),a+=u})),this.preserveShort&&a===s[n]){const s=t[n+1]-t[n];if(0===s)continue;const i=s+2*this.padWidth,u=1;this.createNGrams(e,r,o,a,u,i)}}return[o,s]}}const Mf={kernelName:an,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{data:a,dataSplits:s}=n,{separator:o,nGramWidths:i,leftPad:u,rightPad:l,padWidth:d,preserveShortSequences:c}=r,p=t.readSync(a.dataId),h=t.readSync(s.dataId),[m,f]=function(e,t,n,r,a,s,o,i){return new Cf(n,r,a,s,o,i).compute(e,t)}(p,h,o,i,u,l,d,c),g=t.makeOutput([m.length],"string");t.dataIdMap.get(g.dataId).stringBytes=m;const y=t.makeOutput(s.shape,"int32");return t.typedArrayFromHeap(y).set(f),[g,y]}};function Df(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let s=e.indexOf(a);for(;-1!==s;){const t=e.subarray(0,s);n&&0===t.length||r.push(t),s=(e=e.subarray(s+1)).indexOf(a)}return void(n&&0===e.length||r.push(e))}let a=0;for(let s=0;s<e.length+1;s++)if(s===e.length||-1!==t.indexOf(e[s])){const t=e.subarray(a,s);n&&0===t.length||r.push(t),a=s+1}}const Ff={kernelName:sn,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:a,delimiter:s}=n,{skipEmpty:o}=r,i=t.readSync(a.dataId),u=t.readSync(s.dataId),[l,d,c]=function(e,t,n){const r=e.length,a=[];let s=0,o=0;const i=new Array(r);for(let u=0;u<r;++u){const r=a.length;Df(e[u],t,n,a);const l=a.length-r;i[u]=l,s+=l,o=Math.max(o,l)}const u=le("int32",2*s),l=new Array(s),d=[r,o];let c=0;for(let e=0;e<r;++e)for(let t=0;t<i[e];++t)u[2*c]=e,u[2*c+1]=t,l[c]=a[c],++c;return[u,l,d]}(i,u[0],o),p=d.length,h=t.makeOutput([p,2],"int32");t.typedArrayFromHeap(h).set(l);const m=t.makeOutput([p],"string");t.dataIdMap.get(m.dataId).stringBytes=d;const f=t.makeOutput([2],"int32");return t.typedArrayFromHeap(f).set(c),[h,m,f]}},Of={kernelName:on,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:a}=n,{numBuckets:s}=r,o=function(e,t){const n=le("int32",e.length);for(let r=0;r<e.length;++r)n[r]=jn(e[r]).modulo(t).getLowBitsUnsigned();return n}(t.readSync(a.dataId),s),i=t.makeOutput(a.shape,"int32");return t.typedArrayFromHeap(i).set(o),i}},Bf=Op("Sub");let Rf;const Lf={kernelName:Gt,backendName:"wasm",setupFunc:function(e){Rf=e.wasm.cwrap(Gt,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:s}=r,{x:o}=n,i=t.dataIdMap.get(o.dataId).id;let u=i,l=o;const{transposed:d,axes:c,originalAxes:p,inputWasTransposed:h}=Hp(o,a,t);let m=c;if(h){const e=t.dataIdMap.get(d.dataId).id;e!==i&&(l=d,u=e,m=Oo(m.length,l.shape.length))}Mo("sum",m,l.shape.length);const[f,g]=_o(l.shape,m),y=ae(g),b=t.makeOutput(f,l.dtype);if(0!==ae(l.shape)){const e=t.dataIdMap.get(b.dataId).id;Rf(u,y,Sp[b.dtype],e)}if(h&&t.disposeData(d.dataId),s){const e=Co(b.shape,p);b.shape=e}return b}},Pf=Dp("Tan"),zf=Dp(un);let Uf;const Vf={kernelName:ln,backendName:"wasm",setupFunc:function(e){Uf=e.wasm.cwrap(ln,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,s=n.dataIdMap.get(a.dataId).id,{reps:o}=r,i=new Array(a.shape.length);for(let e=0;e<i.length;e++)i[e]=a.shape[e]*o[e];const u=new Uint8Array(new Int32Array(a.shape).buffer),l=new Uint8Array(new Int32Array(i).buffer),d=n.makeOutput(i,a.dtype),c=n.dataIdMap.get(d.dataId).id;return Uf(s,u,a.shape.length,l,i.length,Sp[d.dtype],c),d}};let jf;const Hf={kernelName:dn,backendName:"wasm",setupFunc:function(e){jf=e.wasm.cwrap(dn,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{k:a,sorted:s}=n,o=t.dataIdMap.get(r.dataId).id,i=new Uint8Array(new Int32Array(r.shape).buffer),u=r.shape.slice();u[u.length-1]=a;const l=t.makeOutput(u,r.dtype),d=t.dataIdMap.get(l.dataId).id,c=t.makeOutput(u,"int32"),p=t.dataIdMap.get(c.dataId).id;return jf(o,i,r.shape.length,Sp[r.dtype],a,s,d,p),[l,c]}};let Wf;const qf={kernelName:mn,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(0),r}},$f=[Mp,Fp,Bp,Lp,qp,Kp,Qp,Jp,th,sh,ih,uh,dh,ph,mh,gh,yh,bh,vh,Ah,Ih,Sh,_h,Ch,Mh,Dh,Oh,Rh,Ph,zh,Uh,jh,Wh,$h,Gh,Yh,Jh,Zh,zp,em,tm,nm,rm,am,sm,om,im,lm,dm,pm,mm,gm,ym,xm,vm,km,Im,Sm,_m,Cm,Dm,Fm,Om,Rm,Lm,zm,Vm,jm,Hm,Wm,qm,Xp,Km,Qm,Jm,Xm,ef,tf,rf,sf,uf,lf,ah,cf,pf,mf,gf,xf,vf,kf,Af,Ef,If,Sf,_f,Mf,Ff,Of,Bf,Lf,Pf,zf,Vf,Hf,{kernelName:cn,backendName:"wasm",setupFunc:function(e){Wf=e.wasm.cwrap(cn,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{image:a,transforms:s}=n,{interpolation:o,fillMode:i,fillValue:u,outputShape:l}=r,[d,c,p,h]=a.shape,[m,f]=null!=l?l:[c,p],g=[d,m,f,h],y=new Uint8Array(new Int32Array(fe(a.shape)).buffer),b=new Uint8Array(new Int32Array(fe(g)).buffer),w=t.makeOutput(g,a.dtype),x=t.dataIdMap.get(w.dataId).id,v=t.dataIdMap.get(a.dataId).id,k=t.dataIdMap.get(s.dataId).id,A="nearest"===o?1:2;let E;switch(i){case"constant":default:E=1;break;case"reflect":E=2;break;case"wrap":E=3;break;case"nearest":E=4}return Wf(v,k,s.shape[0]>1,d,m,f,h,p,c,y,a.shape.length-1,b,g.length-1,A,E,u,x),w}},jp,{kernelName:hn,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:s}=r;s<0&&(s+=a.shape.length);const o=a.shape[s],i=a.shape.length,u=new Array(i-1);let l=0;for(let e=0;e<i;e++)e!==s&&(u[l++]=a.shape[e]);const d=new Array(o),c=new Array(i).fill(0),p=a.shape.slice();p[s]=1;for(let e=0;e<d.length;e++)c[s]=e,d[e]=rh({inputs:{x:a},attrs:{begin:c,size:p},backend:n});return d.map((({dataId:e,dtype:t})=>({dataId:e,dtype:t,shape:u})))}},qf];for(const e of $f)Sn(e);const Kf=Ie();Kf.registerFlag("WASM_HAS_SIMD_SUPPORT",(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11])))),Kf.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(async()=>{if(Kf.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}}));var Gf=n(798),Qf=n.n(Gf),Yf=n(593),Jf=n(805),Zf=n.n(Jf);const Xf=Qf()||Gf,eg=Zf()||Jf;class tg extends Z{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(lg),dg=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new J(this,Ar)}write(e,t,n){const r={id:this.dataIdNextNumber++};return this.move(r,e,t,n,1),r}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=Wn();return e(),{kernelMs:Wn()-t}}move(e,t,n,r,a){const s=this.dataIdNextNumber++;if("string"===r){const o=t;return void this.dataIdMap.set(e,{id:s,stringBytes:o,shape:n,dtype:r,memoryOffset:null,refCount:a})}const o=ae(n),i=o*ce(r),u=this.wasm._malloc(i);this.dataIdMap.set(e,{id:s,memoryOffset:u,shape:n,dtype:r,refCount:a}),this.wasm.tfjs.registerTensor(s,o,u),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,i),u)}async read(e){return this.readSync(e)}readSync(e,t,n){const{memoryOffset:r,dtype:a,shape:s,stringBytes:o}=this.dataIdMap.get(e);if("string"===a)return null!=t&&0!==t||!(null==n||n>=o.length)?o.slice(t,n):o;t=t||0,n=n||ae(s);const i=ce(a);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${t}`)}}(this.wasm.HEAPU8.slice(r+t*i,r+n*i).buffer,a)}disposeData(e,t=!1){if(this.dataIdMap.has(e)){const n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){return this.dataIdMap.has(e)?this.dataIdMap.get(e).refCount:0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n){let r;if(null==n)r=this.write(null,e,t);else{const a=this.dataIdNextNumber++;r={id:a},this.dataIdMap.set(r,{id:a,memoryOffset:n,shape:e,dtype:t,refCount:1});const s=ae(e);this.wasm.tfjs.registerTensor(a,s,n)}return{dataId:r,shape:e,dtype:t}}typedArrayFromHeap({shape:e,dtype:t,dataId:n}){const r=this.wasm.HEAPU8.buffer,{memoryOffset:a}=this.dataIdMap.get(n),s=ae(e);switch(t){case"float32":return new Float32Array(r,a,s);case"int32":return new Int32Array(r,a,s);case"bool":return new Uint8Array(r,a,s);default:throw new Error(`Unknown dtype ${t}`)}}}function ng(e,t,n){if(null!=ag)return ag;let r="tfjs-backend-wasm.wasm";return e&&t?r="tfjs-backend-wasm-threaded-simd.wasm":e&&(r="tfjs-backend-wasm-simd.wasm"),null!=og&&null!=og[r]?og[r]:n+r}const rg=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let ag=null,sg=null,og={},ig=!1,ug=!1,lg=-1,dg=null;!function(e,t,n=1){Ar.registerBackend(e,t,n)}("wasm",(async()=>{const{wasm:e}=await async function(){const[e,t]=await Promise.all([Ie().getAsync("WASM_HAS_SIMD_SUPPORT"),Ie().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise(((n,r)=>{const a={locateFile:(n,r)=>{if(n.endsWith(".worker.js")){const e=Yf.$.replace(/\n/g,"\\n"),t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}return n.endsWith(".wasm")?ng(e,t,null!=sg?sg:r):r+n}};var s;ug&&(a.instantiateWasm=(s=ng(e,t,null!=sg?sg:""),(e,t)=>(function(e){return Ie().platform.fetch(e,{credentials:"same-origin"})}(s).then((n=>{n.ok||e.env.a(`failed to load wasm binary file at '${s}'`),n.arrayBuffer().then((n=>{WebAssembly.instantiate(n,e).then((e=>{t(e.instance,e.module)}))}))})),{})));let o,i=!1;a.onAbort=()=>{i||ig||(ig=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))},t&&e&&null==ag?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+Xf.toString()],{type:"text/javascript"}),o=Xf(a)):o=eg(a),o.then((e=>{i=!0,ig=!1,e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},n({wasm:e})})).catch(r)}))}();return new tg(e)}),2);var cg=function(){};!function(e,t=!1){if(ig)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"==typeof e)sg=e;else{og=e;const t=rg.filter((e=>null==og[e]));if(t.length>0)throw new Error(`There were no entries found for the following binaries: ${t.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}ug=t}("https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@3.20.0/dist/");var pg=function(){function e(){this.eyesBlinkedCounter=0,this.eyesClosed=0,this.mouthOpenCounter=0,this.mouthPoints=[78,191,80,81,82,13,312,311,310,415,308,324,318,402,317,14,87,178,88,95]}return e.prototype.loadModel=function(){return _(this,void 0,void 0,(function(){var e=this;return C(this,(function(t){switch(t.label){case 0:return[4,Ar.setBackend("wasm")];case 1:return t.sent(),[4,Ar.ready()];case 2:return t.sent(),[2,new Promise((function(t,n){(function(e,t){return void 0===e&&(e=Np.mediapipeFacemesh),void 0===t&&(t={}),Wc(this,void 0,void 0,(function(){return qc(this,(function(n){if(e===Np.mediapipeFacemesh)return[2,vp(t)];throw new Error(e+" is not a valid package name.")}))}))})(Np.mediapipeFacemesh,{maxFaces:1,modelUrl:"selfie/models/f/model.json",detectorModelUrl:"selfie/models/b/model.json",shouldLoadIrisModel:!1}).then((function(n){e.model=n,e.modelLoaded=!0,t("ok")})).catch((function(e){n(e)}))}))]}}))}))},e.prototype.l2Norm=function(e){for(var t=0,n=0,r=e;n<r.length;n++){var a=r[n];t+=a*a}return Math.sqrt(t)},e.prototype.getHeadAnglesCos=function(e){var t=[0,.5*(e[10][1]+e[152][1]),.5*(e[10][2]+e[152][2])],n=e[10][2]-t[2],r=e[10][1]-t[1],a=n/this.l2Norm([n,r]),s=[.5*(e[226][0]+e[446][0]),0,.5*(e[226][2]+e[446][2])],o=e[226][2]-s[2],i=e[226][0]-s[0];return[100*a,o/this.l2Norm([o,i])*100]},e.prototype.detectarPiscada=function(e){var t=this.euclidean_dist(e[386][0],e[386][1],e[374][0],e[374][1])/(2*this.euclidean_dist(e[263][0],e[263][1],e[362][0],e[362][1])),n=this.euclidean_dist(e[159][0],e[159][1],e[145][0],e[145][1]),r=this.euclidean_dist(e[133][0],e[133][1],e[33][0],e[33][1]);return t<.12||n/(2*r)<.12},e.prototype.detectBlinkingEyes=function(e){var t=this;e.length>0&&e.forEach((function(e){var n=e.annotations.rightEyeUpper0,r=e.annotations.rightEyeLower0,a=e.annotations.leftEyeUpper0,s=e.annotations.leftEyeLower0,o=(n.concat(r,a,s),Math.abs(n[3][1]-r[4][1])),i=Math.abs(a[3][1]-s[4][1]);(o<9||i<9)&&(t.eyesClosed=1),1==t.eyesClosed&&(o>7||i>7)&&(t.eyesBlinkedCounter++,t.eyesClosed=0)}))},e.prototype.euclidean_dist=function(e,t,n,r){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))},e.prototype.distance=function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},e.prototype.detectFaces=function(e){return _(this,void 0,void 0,(function(){var t,n,r,a,s,o,i,u;return C(this,(function(l){switch(l.label){case 0:return[4,this.model.estimateFaces({input:e,returnTensors:!1,flipHorizontal:!1,predictIrises:!1})];case 1:if(t=l.sent(),n=Array(),t.length>0)for(this.detectBlinkingEyes(t),r=0;r<t.length;r++)(a=t[r]).faceInViewConfidence<.95||((s=new cg).confidence=a.faceInViewConfidence,s.boundingBox=a.boundingBox,o=a.scaledMesh,s.faceRotation=this.getHeadAnglesCos(o),s.keypoints=o,i=this.distance(o[13],o[14]),u=this.distance(o[78],o[308]),Math.round(1e3*i/u)>130&&(this.mouthOpenCounter+=1),n.push(s));return[2,n]}}))}))},e}();const hg=n.p+"images/992c99a9df1c4ae2ae5170c144fd5d62-ok-doc-image.png",mg=n.p+"images/29d88a3739864a2eb7ac2f154d8d26f5-fechar-icone-preto.png";var fg=n(574),gg={};gg.styleTagTransform=W(),gg.setAttributes=U(),gg.insert=P().bind(null,"head"),gg.domAPI=R(),gg.insertStyleElement=j(),O()(fg.A,gg);const yg=fg.A&&fg.A.locals?fg.A.locals:void 0;var bg=n(559),wg={};wg.styleTagTransform=W(),wg.setAttributes=U(),wg.insert=P().bind(null,"head"),wg.domAPI=R(),wg.insertStyleElement=j(),O()(bg.A,wg);const xg=bg.A&&bg.A.locals?bg.A.locals:void 0;var vg,kg=function(e,t,n,r){var a=document.getElementById(e);return a||((a=document.createElement("button")).id=e,a.textContent=t),a.classList.forEach((function(e){a.classList.remove(e)})),a.classList.add(xg.footerButton),a.classList.add(xg.errorButton),null==r||r.forEach((function(e){a.classList.add(e)})),a.addEventListener("click",n,!1),a};!function(e){e[e.ENABLED=1]="ENABLED",e[e.DISABLED=2]="DISABLED",e[e.HIDDEN=3]="HIDDEN"}(vg||(vg={}));const Ag=vg;var Eg=function(){function e(e){this.parent=e,this.actionCallbackAcaoBotao=this.actionCallbackAcaoBotao.bind(this),this.actionCallbackAcaoSecundariaBotao=this.actionCallbackAcaoSecundariaBotao.bind(this),this.divWrapper=document.createElement("div"),this.divWrapper.classList.add(yg.wrapper),this.configureHeader(),this.configureFooter(),this.divHeaderLogo=document.createElement("div"),this.divHeaderLogo.classList.add(yg.logoHeader),this.divHeader.appendChild(this.divHeaderLogo),this.divMain=document.createElement("section"),this.divMain.classList.add(yg.main),this.divWrapper.appendChild(this.divMain),this.showPrimaryButton(!1),this.mostraAcaoEsquerda(!1),this.showSecondaryButton(!1)}return e.prototype.configureHeader=function(){this.divHeader=document.createElement("header"),this.divHeader.classList.add(yg.header),this.divWrapper.appendChild(this.divHeader),this.divHeaderLeft=document.createElement("div"),this.divHeaderLeft.classList.add(yg.headerLeft),this.divHeaderLeft.addEventListener("touchend",this.actionCallbackAcaoEsquerda,!1),this.divHeader.appendChild(this.divHeaderLeft);var e=document.createElement("div");e.classList.add(yg.setaTrasEscura),this.divHeaderLeft.appendChild(e),this.divHeaderRight=document.createElement("div"),this.divHeaderRight.classList.add(yg.headerRight),this.divHeaderRight.addEventListener("touchend",this.actionCallbackAcaoDireita,!1),this.divHeader.appendChild(this.divHeaderRight);var t=document.createElement("div");t.classList.add(yg.sairEscuro),this.divHeaderRight.appendChild(t)},e.prototype.configureFooter=function(){var e;this.divFooter=((e=document.createElement("footer")).classList.add(xg.footer),e),this.divWrapper.appendChild(this.divFooter);var t=kg("primaryButtonId","Continuar",this.actionCallbackAcaoBotao,[yg.fundoAzul,yg.textoBranco]);this.divFooterButton=t,this.divFooter.appendChild(t);var n=kg("secondaryButtonId","Não habilitar",this.actionCallbackAcaoSecundariaBotao,[yg.fundoCorBackground,yg.textoAzul]);this.divFooterSecondaryButton=n,this.divFooter.appendChild(n)},e.prototype.exibeTela=function(){this.parent.appendChild(this.divWrapper)},e.prototype.removeTela=function(){try{null!==this.divWrapper.parentNode&&this.parent.removeChild(this.divWrapper)}catch(e){}},e.prototype.actionCallbackAcaoBotao=function(){},e.prototype.actionCallbackAcaoEsquerda=function(){},e.prototype.actionCallbackAcaoDireita=function(){},e.prototype.actionCallbackAcaoSecundariaBotao=function(){},e.prototype.showSecondaryButton=function(e){e?this.divFooterSecondaryButton.classList.remove(yg.escondido):this.divFooterSecondaryButton.classList.add(yg.escondido)},e.prototype.setTextPrimaryButton=function(e){var t=document.getElementById("primaryButtonId");t&&(t.innerHTML=e)},e.prototype.setTextSecondaryButton=function(e){var t=document.getElementById("secondaryButtonId");t&&(t.innerHTML=e)},e.prototype.abaixarBotao=function(e){e?this.divFooterButton.classList.add(yg.abaixarBotao):this.divFooterButton.classList.remove(yg.abaixarBotao)},e.prototype.abaixarBotaoDesativado=function(e){var t=e?Ag.DISABLED:Ag.ENABLED;this.setPrimaryButtonState(t)},e.prototype.ativarBotaoUpload=function(e,t){void 0===t&&(t=!1);var n=!e||t?Ag.DISABLED:Ag.ENABLED;this.setPrimaryButtonState(n)},e.prototype.mostraAcaoEsquerda=function(e){e?this.divHeaderLeft.classList.remove(yg.escondido):this.divHeaderLeft.classList.add(yg.escondido)},e.prototype.mostraAcaoDireita=function(e){e?this.divHeaderRight.classList.remove(yg.escondido):this.divHeaderRight.classList.add(yg.escondido)},e.prototype.showPrimaryButton=function(e){e?this.divFooterButton.classList.remove(yg.escondido):this.divFooterButton.classList.add(yg.escondido)},e.prototype.setPrimaryButtonState=function(e){switch(this.divFooter.hidden=!1,this.divFooterButton.classList.remove(xg.disabled),e){case Ag.DISABLED:this.divFooterButton.classList.add(xg.disabled);break;case Ag.HIDDEN:this.divFooter.hidden=!0}},e}();const Ig=n.p+"images/d75aa6240958090eb2610aa77726aebe-modal.png";var Ng,Sg=function(e){function t(t,n,r,a){var s=e.call(this,t)||this;s.telaExibida=!1,s.divModalWrapper=document.createElement("div"),s.divMain.appendChild(s.divModalWrapper),s.divModalWrapper.classList.add(yg.modalWrapper),s.divModalBody=document.createElement("div"),s.divModalBody.classList.add(yg.modalBody),s.divModalWrapper.appendChild(s.divModalBody),s.divModalHeader=document.createElement("div"),s.divModalHeader.classList.add(yg.divModalHeader);var o=document.createElement("span");o.classList.add(yg.headerOculto),o.innerHTML="Tela de confirmação da saída",s.modalTitle=document.createElement("p"),s.modalTitle.innerHTML="Sair da confirmação",s.modalTitle.classList.add(yg.modalTitle),s.divModalHeader.appendChild(o),s.divModalHeader.appendChild(s.modalTitle);var i=document.createElement("input");i.classList.add(yg.modalErrorButtonExit),i.type="image",i.addEventListener("click",s.actionCallbackAcaoSecundariaBotao,!1),i.src=a||mg,i.alt="Fechar",s.divModalHeader.appendChild(i),s.divModalBody.appendChild(s.divModalHeader),s.divModalContent=document.createElement("div"),s.divModalBody.appendChild(s.divModalContent);var u=document.createElement("img");return u.classList.add(yg.errorDocIcone),u.src=r||Ig,u.setAttribute("aria-hidden","true"),s.divModalContent.appendChild(u),s.modalHeader=document.createElement("h2"),s.modalHeader.innerHTML="Você deseja sair?",s.modalHeader.classList.add(yg.modalHeader),s.modalText=document.createElement("p"),s.modalText.innerHTML="Se sair agora você terá que fazer o processo novamente.",s.modalText.classList.add(yg.modalText),s.divModalContent.appendChild(s.modalHeader),s.divModalContent.appendChild(s.modalText),s.divFooterButton=document.createElement("div"),s.divFooterButton.classList.add(yg.modalNextButton),s.divFooterButton.addEventListener("click",s.actionCallbackAcaoBotao,!1),s.divModalContent.appendChild(s.divFooterButton),s.buttonText=document.createElement("p"),s.buttonText.innerHTML="Sim, quero sair",s.divFooterButton.appendChild(s.buttonText),s.divFooterSecondaryButton=document.createElement("p"),s.divFooterSecondaryButton.addEventListener("click",s.actionCallbackAcaoSecundariaBotao,!1),s.divFooterSecondaryButton.classList.add(yg.fundoTransparente),s.divModalContent.appendChild(s.divFooterSecondaryButton),s.buttonSecondaryText=document.createElement("p"),s.buttonSecondaryText.innerHTML="Continuar por aqui",s.buttonSecondaryText.classList.add(yg.modalSecondaryButtonText),s.divFooterSecondaryButton.appendChild(s.buttonSecondaryText),s}return T(t,e),t.prototype.exibeTela=function(){this.parent.appendChild(this.divModalWrapper),this.telaExibida=!0},t.prototype.removeTela=function(){this.telaExibida&&(this.parent.removeChild(this.divModalWrapper),this.telaExibida=!1)},t.prototype.actionCallbackAcaoBotao=function(){this.removeTela(),this.acaoBotaoCallback(t.toString())},t.prototype.actionCallbackAcaoSecundariaBotao=function(){this.removeTela()},t}(Eg);!function(e){e[e.Pequeno=1]="Pequeno",e[e.Medio=2]="Medio",e[e.Grande=3]="Grande"}(Ng||(Ng={}));var Tg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.guiContainer=null,t}return T(t,e),t.prototype.iniciaCarregando=function(e){this.selfieloadingParent=document.createElement("div"),this.selfieloadingParent.id="selfieloadingParent",this.selfieloadingParent.classList.add(K.selfieLoadingParent),this.selfieLoading=document.createElement("div"),this.selfieLoading.classList.add(K.selfieLoading),this.selfieloadingParent.appendChild(this.selfieLoading),e.appendChild(this.selfieloadingParent)},t.prototype.iniciaGUI=function(e,t,n,r){this.guiContainer=document.createElement("div"),this.guiContainer.id="guiContainer",this.guiContainer.classList.add(K.guiDIV);var a=document.createElement("input");a.classList.add(K.errorButtonExit),a.type="image",a.addEventListener("click",t,!1),a.src=n||mg,a.alt="Fechar";var s=document.createElement("p");s.classList.add(K.headerOculto),s.innerHTML="Tela de captura da foto";var o=document.createElement("div");this.bodyElipses=document.createElement("div"),this.bodyElipses.classList.add(K.elipsesBODY),this.guiLabelImg=document.createElement("img"),this.guiLabelImg.classList.add(K.guiBODYImgLabelNone),this.guiLabelImg.src=r||hg,this.guiLabelImg.alt="",this.guiLabelWrapper=document.createElement("div"),this.guiLabelWrapper.classList.add(K.guiLabelWrapper),this.guiLabelContainer=document.createElement("span"),this.guiLabelContainer.classList.add(K.guiLabelContainer),this.guiLabel=document.createElement("p"),this.guiLabel.innerText="",o.appendChild(this.guiLabelWrapper),this.guiLabelWrapper.appendChild(this.guiLabelContainer),this.guiLabelContainer.appendChild(this.guiLabelImg),this.guiLabelContainer.appendChild(this.guiLabel),o.appendChild(this.bodyElipses),o.classList.add(K.guiBODY);var i=document.createElement("div");this.guiContainer.appendChild(s),this.guiContainer.appendChild(a),this.guiContainer.appendChild(o),this.guiContainer.appendChild(i),e.appendChild(this.guiContainer)},t.prototype.atualizaTextoLabel=function(e){if(void 0!==this.guiLabel)switch(this.guiLabel.innerText=e,e){case"Aguarde nesta posição":this.guiLabelImg.classList.remove(K.guiBODYImgLabelNone),this.bodyElipses.classList.add(K.elipsesBODYSuccess);break;case"Mantenha seu rosto centralizado":case"Aproxime o rosto":this.guiLabelImg.classList.add(K.guiBODYImgLabelNone),this.bodyElipses.classList.remove(K.elipsesBODYSuccess)}},t.prototype.removeSuccess=function(){this.guiLabel.classList.add(K.guiHidden),this.bodyElipses.classList.remove(K.elipsesBODYSuccess)},t.prototype.aumentaFrameSelfie=function(e){switch(this.bodyElipses.classList.remove(K.elipseBODYSMALL),this.bodyElipses.classList.remove(K.elipseBODYMED),this.bodyElipses.classList.remove(K.elipseBODYBIG),e){case Ng.Pequeno:this.bodyElipses.classList.contains(K.elipseBODYSMALL)||this.bodyElipses.classList.add(K.elipseBODYSMALL);break;case Ng.Medio:this.bodyElipses.classList.contains(K.elipseBODYMED)||this.bodyElipses.classList.add(K.elipseBODYMED);break;case Ng.Grande:this.bodyElipses.classList.contains(K.elipseBODYBIG)||this.bodyElipses.classList.add(K.elipseBODYBIG)}},t.prototype.mostraCarregando=function(e){void 0===e&&(e=!0),e?this.selfieloadingParent.classList.remove(K.divDisplayNone):this.selfieloadingParent.classList.add(K.divDisplayNone)},t}(Eg);const _g=n.p+"images/4c673c147183c5cccbf729001d812923-loading-final.png";var Cg=function(){function e(e,t){this.telaExibida=!1,this.divLoadingContainer=document.createElement("div"),this.divLoadingContainer.classList.add(yg.loadingContainer),this.tituloOculto=document.createElement("span"),this.tituloOculto.classList.add(yg.headerOculto),this.tituloOculto.innerHTML="Tela de carregamento",this.divLoading=document.createElement("div"),this.divLoading.classList.add(yg.loading),this.loadingCameraIconeImg=document.createElement("img"),this.loadingCameraIconeImg.classList.add(yg.loadingImg),this.loadingCameraIconeImg.src=t||_g,this.loadingCameraIconeImg.alt="",this.loadingProgressImg=document.createElement("progress"),this.loadingProgressImg.value=25,this.loadingProgressImg.max=100,this.loadingProgressImg.classList.add(yg.loadingProgressImg),this.loadingTituloImg=document.createElement("p"),this.loadingDescricaoImg=document.createElement("p"),this.loadingTituloImg.textContent="Aguarde um instante...",this.loadingDescricaoImg.textContent="Estamos preparando para fotografar",this.loadingTituloImg.classList.add(yg.loadingTituloImg),this.loadingDescricaoImg.classList.add(yg.loadingDescricaoImg),this.divLoading.appendChild(this.tituloOculto),this.divLoading.appendChild(this.loadingCameraIconeImg),this.divLoading.appendChild(this.loadingProgressImg),this.divLoading.appendChild(this.loadingTituloImg),this.divLoading.appendChild(this.loadingDescricaoImg),this.divLoadingContainer.appendChild(this.divLoading),this.parent=e}return e.prototype.exibeTela=function(){var e=this;this.parent.appendChild(this.divLoadingContainer),this.telaExibida=!0,setTimeout((function(){e.loadingProgressImg.value=75}),500)},e.prototype.removeTela=function(){this.loadingProgressImg.value=25,this.divLoadingContainer.style.display="none",this.telaExibida&&(this.parent.removeChild(this.divLoadingContainer),this.telaExibida=!1)},e}(),Mg=function(){function e(e,t,n,r,a){this.telaExibida=!1,this.selfie=a,this.divLoadingContainer=document.createElement("div"),this.divLoadingContainer.classList.add(yg.loadingContainer),this.divLoading=document.createElement("div"),this.divLoading.classList.add(yg.loading),this.loadingCameraIconeImg=document.createElement("img"),this.loadingCameraIconeImg.classList.add(yg.loadingImg),this.loadingCameraIconeImg.src=t||_g,this.loadingProgressImg=document.createElement("progress"),this.loadingProgressImg.value=25,this.loadingProgressImg.max=100,this.loadingProgressImg.classList.add(yg.loadingProgressImgFotografar),""!==a.loadingBackgroundColor&&(this.loadingProgressImg.style.background=a.loadingBackgroundColor),this.loadingTituloImg=document.createElement("p"),this.loadingDescricaoImg=document.createElement("p"),this.loadingTituloImg.textContent=n,this.loadingDescricaoImg.textContent=r,this.loadingTituloImg.classList.add(yg.loadingTituloImg),this.loadingDescricaoImg.classList.add(yg.loadingDescricaoImg),this.divLoading.appendChild(this.loadingCameraIconeImg),this.divLoading.appendChild(this.loadingProgressImg),this.divLoading.appendChild(this.loadingTituloImg),this.divLoading.appendChild(this.loadingDescricaoImg),this.divLoadingContainer.appendChild(this.divLoading),this.parent=e}return e.prototype.exibeTela=function(){var e=this;this.parent.appendChild(this.divLoadingContainer),this.telaExibida=!0,setTimeout((function(){e.loadingProgressImg.value=75}),500)},e.prototype.removeTela=function(){this.loadingProgressImg.value=25,this.divLoadingContainer.style.display="none",this.telaExibida&&(this.parent.removeChild(this.divLoadingContainer),this.telaExibida=!1)},e}(),Dg=n(675),Fg={};Fg.styleTagTransform=W(),Fg.setAttributes=U(),Fg.insert=P().bind(null,"head"),Fg.domAPI=R(),Fg.insertStyleElement=j(),O()(Dg.A,Fg);const Og=Dg.A&&Dg.A.locals?Dg.A.locals:void 0,Bg=n.p+"images/04b4ebd8962bf113bdaa39b11b9a02e8-rosto-centralizado.png",Rg=n.p+"images/6dfa9c3bd93189dcf4441ed107b434a2-ambiente-iluminado.png",Lg=n.p+"images/a7db2a1cea5babe4dc78b0eb145f5ae3-nao-acessorios.png",Pg=n.p+"images/7fd2a88b6ae7e56812187d921759559f-siga-as-instrucoes.png";var zg=function(e){function t(t,n,r,a,s,o,i){var u=e.call(this,t)||this;u.doc=n;var l=document.createElement("div");u.divMain.appendChild(l);var d=document.createElement("span");d.classList.add(Og.headerOculto),d.innerHTML="Tela de instrução";var c=document.createElement("input");c.classList.add(Og.errorButtonIcon),c.type="image",c.addEventListener("click",u.actionCallbackAcaoSecundariaBotao,!1),c.src=i||mg,c.alt="Fechar",l.appendChild(d),l.appendChild(c);var p=document.createElement("div");p.classList.add(Og.dicasContainer),u.divMain.appendChild(p);var h=document.createElement("div");h.classList.add(Og.dicasHeaderContainer),p.appendChild(h);var m=document.createElement("h4");m.classList.add(Og.dicasHeader),m.innerHTML=n.nomenclaturasObject.dicasHeader,m.setAttribute("aria-label","Instruções para autenticação facial"),h.appendChild(m);var f=document.createElement("p");f.classList.add(Og.headerSubtitle),f.innerHTML="Tire uma selfie para confirmar sua identidade",h.appendChild(f);var g=document.createElement("div");g.classList.add(Og.dicasBoxes),p.appendChild(g);var y=document.createElement("div");y.classList.add(Og.dicasRow),g.appendChild(y);var b=document.createElement("div");b.classList.add(Og.dicasSpacing);var w=document.createElement("img");w.alt="Tente posicionar o rosto na moldura centralizada na tela, quando estiver na posição correta a captura será automática",w.src=r||Bg;var x=document.createElement("p");x.setAttribute("aria-hidden","true"),x.innerHTML=n.nomenclaturasObject.dicasTexto1,b.appendChild(w),b.appendChild(x);var v=document.createElement("div");v.classList.add(Og.dicasSpacing);var k=document.createElement("img");k.alt="Procure um ambiente bem iluminado e de preferência com um fundo neutro",k.src=a||Rg;var A=document.createElement("p");A.setAttribute("aria-hidden","true"),A.innerHTML=n.nomenclaturasObject.dicasTexto2,v.appendChild(k),v.appendChild(A);var E=document.createElement("div");E.classList.add(Og.dicasRow),g.appendChild(E);var I=document.createElement("div");I.classList.add(Og.dicasSpacing);var N=document.createElement("img");N.alt="Não utilize acessórios que possam cobrir seu rosto ou parte dele",N.src=s||Lg;var S=document.createElement("p");S.setAttribute("aria-hidden","true"),S.innerHTML=n.nomenclaturasObject.dicasTexto3,I.appendChild(N),I.appendChild(S);var T=document.createElement("div");T.classList.add(Og.dicasSpacing);var _=document.createElement("img");_.alt="Você vai receber orientações sobre como se posicionar para a foto e seu telefone vai vibrar quando estiver na posição correta",_.src=o||Pg;var C=document.createElement("p");return C.innerHTML=n.nomenclaturasObject.dicasTexto4,C.setAttribute("aria-hidden","true"),T.appendChild(_),T.appendChild(C),y.appendChild(b),y.appendChild(v),E.appendChild(I),E.appendChild(T),u.divFooterButton.classList.add(Og.botaoDivFooter),u.mostraAcaoEsquerda(!1),u.mostraAcaoDireita(!1),u.showPrimaryButton(!0),u.abaixarBotao(!0),u.setTextPrimaryButton("Entendi, vamos lá"),u}return T(t,e),t.prototype.actionCallbackAcaoBotao=function(){this.acaoBotaoCallback(t.toString())},t.prototype.actionCallbackAcaoSecundariaBotao=function(){this.acaoBotaoSecondaryCallback(Sg.toString())},t}(Eg);const Ug=n.p+"images/e627e3dbc25c000b4d7a402c97aefc8b-liberar-camera.png";var Vg=function(e){function t(t,n,r){var a=e.call(this,t)||this;a.doc=n;var s=document.createElement("div");a.divMain.appendChild(s),a.divWrapper.classList.add(yg.wrapperBgChange),a.divWrapper.style.backgroundColor="#F5F7F9";var o=document.createElement("span");o.classList.add(yg.headerOculto),o.innerHTML="Tela de habilitação da câmera";var i=document.createElement("div");i.classList.add(yg.dicasContainer),a.divMain.appendChild(i);var u=document.createElement("div");u.classList.add(yg.dicasHeaderContainer),i.appendChild(u);var l=document.createElement("h4");l.classList.add(yg.dicasHeader),l.innerHTML=n.nomenclaturasObject.liberarCameraHeader;var d=document.createElement("p");return d.classList.add(yg.cameraTexto),d.innerHTML=n.nomenclaturasObject.liberarCameraText,u.appendChild(o),u.appendChild(l),u.appendChild(d),a.liberarCameraIcone=document.createElement("div"),a.liberarCameraIcone.classList.add(yg.liberarCameraIcone),a.liberarCameraIconeImg=document.createElement("img"),a.liberarCameraIconeImg.src=r||Ug,a.liberarCameraIcone.appendChild(a.liberarCameraIconeImg),a.liberarCameraIconeImg.alt="",i.appendChild(a.liberarCameraIcone),a.mostraAcaoEsquerda(!1),a.mostraAcaoDireita(!1),a.showPrimaryButton(!0),a.abaixarBotao(!0),a.setTextPrimaryButton("Habilitar camera"),a}return T(t,e),t.prototype.actionCallbackAcaoBotao=function(){this.acaoBotaoCallback(t.toString())},t.prototype.actionCallbackAcaoSecundariaBotao=function(){this.acaoBotaoSecondaryCallback(Sg.toString())},t}(Eg);const jg=n.p+"images/31b2f6572e7c4d5d1416e2b55283c8e1-lado_errado_icone.png";var Hg=function(e){function t(t,n,r,a){var s=e.call(this,t)||this;s.parent=t,s.doc=n,s.actionCallbackAcaoBotao=s.actionCallbackAcaoBotao.bind(s),s.divErroContainer=document.createElement("div"),s.divErroContainer.classList.add(yg.erroContainer),s.divErroContainer.classList.add(yg.wrapper),s.divMain=document.createElement("section"),s.divMain.classList.add(yg.main),s.divErroContainer.appendChild(s.divMain);var o=document.createElement("div");s.divMain.appendChild(o);var i=document.createElement("span");i.classList.add(yg.headerOculto),i.innerHTML="Tela de erro";var u=document.createElement("input");u.classList.add(yg.errorButtonExit),u.type="image",u.addEventListener("click",s.actionCallbackAcaoSecundariaBotao,!1),u.src=a||mg,u.alt="Fechar";var l=document.createElement("img");return l.classList.add(yg.errorDocIcone),l.src=r||jg,l.alt="",o.appendChild(i),o.appendChild(u),o.appendChild(l),s.erroHeaderText=document.createElement("h3"),s.erroHeaderText.classList.add(yg.errorTituloImg),s.erroHeaderText.textContent="Algo deu errado por aqui!",s.erroText=document.createElement("p"),s.erroText.classList.add(yg.errorDescricaoImg),s.erroText.textContent="Não foi possível confirmar sua foto, por favor realize uma nova captura.",s.divMain.appendChild(s.erroHeaderText),s.divMain.appendChild(s.erroText),s.divFooter=document.createElement("footer"),s.divFooter.classList.add(yg.footer),s.divErroContainer.appendChild(s.divFooter),s.divFooterButton=document.createElement("button"),s.divFooterButton.classList.add(yg.fundoAzul),s.divFooterButton.classList.add(yg.textoBranco),s.divFooterButton.classList.add(yg.errorButton),s.divFooterButton.innerHTML="Tentar novamente",s.divFooterButton.addEventListener("click",s.actionCallbackAcaoBotao,!1),s.divFooter.appendChild(s.divFooterButton),s}return T(t,e),t.prototype.alteraErroTextos=function(e,t,n){void 0===n&&(n=!0),this.erroHeaderText.innerHTML=e,this.erroText.innerHTML=t,0==n&&(this.divFooterButton.style.display="none")},t.prototype.actionCallbackAcaoBotao=function(){this.acaoBotaoCallback(t.toString())},t.prototype.actionCallbackAcaoSecundariaBotao=function(){this.acaoBotaoSecondaryCallback(Sg.toString())},t.prototype.exibeTela=function(){this.parent.appendChild(this.divErroContainer)},t.prototype.removeTela=function(){this.parent.removeChild(this.divErroContainer)},t}(Eg);const Wg=n.p+"images/5f1fee46481f6a9e258576735bb8af2e-success.mp3";var qg="LOADING",$g="AUMENTA_FRAME",Kg="LIBERAR_CAMERA",Gg=function(){},Qg=function(){function e(e){var t=this;this.callback=null,this.selfieTipo=null,this.selfieConfig=null,this.selfieValidando=!1,this.capturaTimeoutid=null,this.selfieInvalida=!1,this.camera=null,this.aguardaValidadorEmocoes=!1,this.loadingCapturaTitulo="Aguarde um instante...",this.loadingCapturaDescricao="Estamos carregando sua foto",this.loadingBackgroundColor="",this.wizzard=!0,this.desabilitaCapturaDesktop=!1,this.imgLiberar=null,this.imgLoading=null,this.imgLoadingFotografar=null,this.imgErrorDocumento=null,this.imgTelaModal=null,this.imgDicasRostoCentralizado=null,this.imgDicasAmbienteIluminado=null,this.imgDicasNaoAcessorios=null,this.imgDicasSigaAsIntrucoes=null,this.imgCelularInstrucoesIcon=null,this.imgTabletInstrucoesIcon=null,this.imgFecharIcone=null,this.imgOkIcone=null,this.playCaptureSound=!0,this.cameraTraseira=!1,this.capturaSelfie=function(){var e=t.camera.snapPicture();t.selfieCapturas.push(e),t.proximoStep(),t.capturaTimeoutid=null},this.servico=new D(e),this.detection=new pg,this.camera=new Y,this.callbackAcaoTela=this.callbackAcaoTela.bind(this),this.secondaryCallbackAcaoTela=this.secondaryCallbackAcaoTela.bind(this),this.nomenclaturasObject=JSON.parse('{"buttonText":"Tentar novamente","avisoHeaderText":"","avisoText":"","dicasHeader":"Autenticação Facial","dicasTexto1":"Rosto centralizado","dicasTexto2":"Ambiente iluminado","dicasTexto3":"Não use acessórios","dicasTexto4":"Siga as instruções","liberarCameraHeader":"Habilitar câmera","liberarCameraText":"Precisamos ter acesso a sua câmera <br /> para realizar as fotos."}')}return e.prototype.iniciaSelfie=function(e,t){var n=this;this.callback=t,this.selfieContainer=e,this.telaGUI=new Tg(e),t?t(qg,"true"):(this.telaLoading=new Cg(e,this.imgLoading),this.telaLoadingCaptura=new Mg(e,this.imgLoadingFotografar,this.loadingCapturaTitulo,this.loadingCapturaDescricao,this),this.telaDicas=new zg(e,this,this.imgDicasRostoCentralizado,this.imgDicasAmbienteIluminado,this.imgDicasNaoAcessorios,this.imgDicasSigaAsIntrucoes,this.imgCelularInstrucoesIcon),this.telaDicas.acaoBotaoCallback=this.callbackAcaoTela,this.telaDicas.acaoBotaoSecondaryCallback=this.secondaryCallbackAcaoTela,this.telaLiberarCamera=new Vg(e,this,this.imgLiberar),this.telaLiberarCamera.acaoBotaoCallback=this.callbackAcaoTela,this.telaLiberarCamera.acaoBotaoSecondaryCallback=this.secondaryCallbackAcaoTela,this.telaErro=new Hg(e,this,this.imgErrorDocumento,this.imgFecharIcone),this.telaErro.acaoBotaoCallback=this.callbackAcaoTela,this.telaErro.acaoBotaoSecondaryCallback=this.secondaryCallbackAcaoTela,this.modalSaida=new Sg(e,this,this.imgTelaModal,this.imgFecharIcone),this.modalSaida.acaoBotaoCallback=this.callbackAcaoTela,this.modalSaida.acaoBotaoSecondaryCallback=this.secondaryCallbackAcaoTela);var r=this;return new Promise((function(a,s){return _(n,void 0,void 0,(function(){var n,o=this;return C(this,(function(i){switch(i.label){case 0:if(null===e&&s("Nenhum container válido para a selfie foi fornecido"),this.selfieResolve=a,this.selfieReject=s,1==this.desabilitaCapturaDesktop&&0==function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}())return this.selfieReject({id:N.CapturaDesktopNaoHabilitada,desc:"Captura para desktop não habilitada"}),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.servico.validaChave().then((function(e){r.selfieConfig=e}))];case 2:return i.sent(),!0===this.wizzard&&this.telaDicas.exibeTela(),!1===this.wizzard&&this.acaoLiberarCamera(),setTimeout((function(){t&&t(qg,"false"),o.telaLoading.removeTela()}),2e3),[3,4];case 3:return n=i.sent(),this.selfieErro(n.id,n.desc),[3,4];case 4:return[2]}}))}))}))},e.prototype.callbackAcaoTela=function(e){return _(this,void 0,void 0,(function(){return C(this,(function(t){switch(e){case zg.toString():this.telaDicas.removeTela(),this.acaoLiberarCamera();break;case Vg.toString():this.acaoLiberarCamera();break;case Hg.toString():this.telaErro.removeTela(),this.acaoLiberarCamera();break;case Sg.toString():this.selfieErro(N.AcaoCanceladaUsuario,"Ação cancelada pelo usuário.")}return[2]}))}))},e.prototype.secondaryCallbackAcaoTela=function(e){e===Sg.toString()&&this.modalSaida.exibeTela()},e.prototype.acaoLiberarCamera=function(){return _(this,void 0,void 0,(function(){var e,t=this;return C(this,(function(n){switch(n.label){case 0:return[4,this.executaPermissaoCamera()];case 1:if(!n.sent())return[3,6];this.telaLiberarCamera.removeTela(),this.callback&&this.callback(Kg,"true"),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.camera.iniciaCamera(this.selfieContainer,this,this.cameraTraseira).then((function(){t.detection.loadModel()})).then((function(){t.telaLoading.removeTela(),t.telaGUI.iniciaGUI(t.camera.cameraContainer,(function(){t.modalSaida.exibeTela()}),t.imgFecharIcone,t.imgOkIcone),t.geraSteps(t.selfieConfig.steps)})).catch((function(e){t.selfieErro(e.id,e.desc)}))];case 3:return n.sent(),[3,5];case 4:return e=n.sent(),this.selfieErro(e.id,e.desc),[3,5];case 5:return[3,7];case 6:this.callback&&this.callback(Kg,"false"),this.telaLiberarCamera.removeTela(),this.exibeTelaErro("Atenção","É necessário habilitar a câmera do dispositivo para continuar.",!0),n.label=7;case 7:return[2]}}))}))},e.prototype.executaPermissaoCamera=function(){return _(this,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:e.label=1;case 1:return e.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 2:return e.sent().getTracks().forEach((function(e){e.stop()})),[2,!0];case 3:return[2,e.sent()];case 4:return[2]}}))}))},e.prototype.exibeTelaErro=function(e,t,n){this.telaErro.alteraErroTextos(e,t,n),this.telaErro.exibeTela()},e.prototype.selfieFinaliza=function(){clearTimeout(this.capturaTimeoutid),this.capturaTimeoutid=null,this.camera.finalizaCamera(),this.removeContainer()},e.prototype.selfieErro=function(e,t){this.callback||this.selfieFinaliza(),this.selfieReject({id:e,desc:t})},e.prototype.selfieSucesso=function(e){this.callback||this.selfieFinaliza(),this.selfieResolve(e)},e.prototype.removeContainer=function(){for(;this.selfieContainer.hasChildNodes();)this.selfieContainer.removeChild(this.selfieContainer.lastChild)},e.prototype.render=function(){this.detectaFaces()},e.prototype.geraSteps=function(e){this.detectionSteps=new Array,this.selfieCapturas=new Array,this.detectionSteps.push(E.Capturar);for(var t=[],n=0;n<e.length;n++){var r=e[n],a=new Gg;a.validation=r.validation,a.action=r.action,t.push(a)}for(n=0;n<t.length;n++)switch((r=t[n]).validation){case E.Left:this.detectionSteps.push(E.Left);break;case E.Right:this.detectionSteps.push(E.Right);break;case E.Top:this.detectionSteps.push(E.Top);break;case E.Bottom:this.detectionSteps.push(E.Bottom);break;case E.Near:this.detectionSteps.push(E.Near);break;case E.Far:this.detectionSteps.push(E.Far);break;case E.VeryFar:this.detectionSteps.push(E.VeryFar);break;case E.Smile:this.detectionSteps.push(E.Smile)}this.telaGUI.aumentaFrameSelfie(Ng.Medio),this.detectionCurrentStep=this.detectionSteps.pop(),this.stepAtual=1},e.prototype.detectaFaces=function(){return _(this,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return this.detection.modelLoaded&&null!==this.camera.video&&this.camera.videoLoaded?[4,this.detection.detectFaces(this.camera.video)]:[3,2];case 1:return 1===(e=t.sent()).length?this.validaFaces(e):(this.stepAtual>1&&this.geraSteps(this.selfieConfig.steps),this.detection&&(this.detection.eyesBlinkedCounter=0,this.detection.mouthOpenCounter=0,this.aguardaValidadorEmocoes=!0),this.exibeAlerta("Encaixe seu rosto")),[3,3];case 2:this.exibeAlerta("Aguarde um momento ..."),t.label=3;case 3:return[2]}}))}))},e.prototype.aguardaValidadorEmocoesFunc=function(){var e=this;this.aguardaValidadorEmocoes&&setTimeout((function(){e.aguardaValidadorEmocoes=!1,e.detection.eyesBlinkedCounter=0,e.detection.mouthOpenCounter=0}),1e3)},e.prototype.mantenhaRostoCentralizado=function(e,t){var n,r,a=e.keypoints,s=t/2,o=Math.min.apply(Math,a.map((function(e){return e[0]}))),i=o+(Math.max.apply(Math,a.map((function(e){return e[0]})))-o)/2,u=(r=!1,n=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(r=!0),r?30:70);return Math.abs(s-i)<=u||(this.exibeAlerta("Mantenha seu rosto centralizado"),!1)},e.prototype.stepRight=function(e,t){e<.6?this.exibeAlerta("Aproxime o rosto"):e>1?this.exibeAlerta("Afaste o rosto"):(this.exibeAlerta("Agora vire o rosto para a direita"),t.faceRotation[1]>this.selfieConfig.distance.rotation_max&&this.proximoStep())},e.prototype.stepLeft=function(e,t){e<.6?this.exibeAlerta("Aproxime o rosto"):e>1?this.exibeAlerta("Afaste o rosto"):(this.exibeAlerta("Agora vire o rosto para a esquerda"),t.faceRotation[1]<-this.selfieConfig.distance.rotation_max&&this.proximoStep())},e.prototype.stepVeryFar=function(e){e>this.selfieConfig.distance.veryFar[0]?(this.exibeAlerta("Afaste o rosto"),clearTimeout(this.capturaTimeoutid),this.capturaTimeoutid=null):(this.exibeAlerta("Aguarde nesta posição"),null==this.capturaTimeoutid&&(this.capturaTimeoutid=window.setTimeout(this.capturaSelfie,2e3))),this.callback?this.callback($g,"SelfieTamanho.Pequeno"):this.telaGUI.aumentaFrameSelfie(Ng.Pequeno)},e.prototype.stepFar=function(e){e>this.selfieConfig.distance.far[1]?(this.exibeAlerta("Afaste o rosto"),clearTimeout(this.capturaTimeoutid),this.capturaTimeoutid=null):e<this.selfieConfig.distance.far[0]?(this.exibeAlerta("Aproxime o rosto"),clearTimeout(this.capturaTimeoutid),this.capturaTimeoutid=null):(this.exibeAlerta("Aguarde nesta posição"),null==this.capturaTimeoutid&&(this.capturaTimeoutid=window.setTimeout(this.capturaSelfie,2e3))),this.callback?this.callback($g,"SelfieTamanho.Medio"):this.telaGUI.aumentaFrameSelfie(Ng.Medio)},e.prototype.stepNear=function(e){e>this.selfieConfig.distance.near[1]?(this.exibeAlerta("Afaste o rosto"),clearTimeout(this.capturaTimeoutid),this.capturaTimeoutid=null):e<this.selfieConfig.distance.near[0]?(this.exibeAlerta("Aproxime o rosto"),clearTimeout(this.capturaTimeoutid),this.capturaTimeoutid=null):(this.exibeAlerta("Aguarde nesta posição"),null==this.capturaTimeoutid&&(this.capturaTimeoutid=window.setTimeout(this.capturaSelfie,2e3))),this.callback?this.callback($g,"SelfieTamanho.Grande"):this.telaGUI.aumentaFrameSelfie(Ng.Grande)},e.prototype.stepCapturar=function(){var e=this;this.playCaptureSound&&this.playAudio(),!1===this.selfieValidando&&(this.callback||this.telaLoadingCaptura.exibeTela(),this.selfieValidando=!0,this.camera.finalizaCamera(),this.servico.validaSelfies(this.selfieCapturas).then((function(t){e.telaLoadingCaptura.removeTela(),e.selfieSucesso(t)})).catch((function(t){e.telaLoadingCaptura.removeTela(),e.selfieErro(t.id,t.desc)})))},e.prototype.validaFaces=function(e){var t=e[0];if(!this.selfieInvalida){this.aguardaValidadorEmocoesFunc();var n,r=t.boundingBox.topLeft,a=t.boundingBox.bottomRight,s=[a[0]-r[0],a[1]-r[1]],o=this.camera.video.videoWidth,i=this.camera.video.videoHeight,u=s[0],l=s[1];if(n=o>i?u/o*2:u/i*2,Math.abs(r[0]+u/2-o/2),Math.abs(r[1]+l/2-i/2),this.selfieConfig.distance.offset_center,this.mantenhaRostoCentralizado(t,o))switch(this.detectionCurrentStep){case E.Right:this.stepRight(n,t);break;case E.Left:this.stepLeft(n,t);break;case E.Smile:this.exibeAlerta("Sorria"),t.smile&&this.proximoStep();break;case E.VeryFar:this.stepVeryFar(n);break;case E.Far:this.stepFar(n);break;case E.Near:this.stepNear(n);break;case E.Capturar:this.stepCapturar()}}},e.prototype.playAudio=function(){return _(this,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,new Audio(Wg).play()];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),console.log(e),[3,3];case 3:return[2]}}))}))},e.prototype.proximoStep=function(){this.detectionCurrentStep=this.detectionSteps.pop(),this.stepAtual++},e.prototype.exibeAlerta=function(e){this.callback?this.callback("ALTERA_TEXTO",e):this.telaGUI.atualizaTextoLabel(e)},e.prototype.iniciaSelfieContainer=function(e){this.selfieContainer=e,this.selfieTextoParent=document.createElement("div"),this.selfieTextoParent.classList.add(K.selfieTextoParent),this.selfieTexto=document.createElement("div"),this.selfieTexto.classList.add(K.selfieTexto),this.selfieTextoParent.appendChild(this.selfieTexto),this.selfieContainer.appendChild(this.selfieTextoParent)},e}()})(),r})()));